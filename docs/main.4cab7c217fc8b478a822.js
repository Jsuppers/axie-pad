(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.r(e),n.d(e,"Component",(function(){return o})),n.d(e,"ComponentContainer",(function(){return a})),n.d(e,"Provider",(function(){return s}));var r=n("mrSG"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),s=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.Deferred;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(l){}try{for(var i=Object(r.__values)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=Object(r.__read)(o.value,2),a=s[1],c=this.normalizeInstanceIdentifier(s[0]);try{var u=this.getOrInitializeService({instanceIdentifier:c});a.resolve(u)}catch(l){}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t;return Object(r.__generator)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.__spreadArray)(Object(r.__spreadArray)([],Object(r.__read)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),Object(r.__read)(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t="[DEFAULT]"),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.options,o=void 0===i?{}:i,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:s,options:o});try{for(var c=Object(r.__values)(this.instancesDeferred.entries()),u=c.next();!u.done;u=c.next()){var l=Object(r.__read)(u.value,2),h=l[1];s===this.normalizeInstanceIdentifier(l[0])&&h.resolve(a)}}catch(d){e={error:d}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}return a},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&t(o,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i,o=this.onInitCallbacks.get(e);if(o)try{for(var s=Object(r.__values)(o),a=s.next();!a.done;a=s.next()){var c=a.value;try{c(t,e)}catch(u){}}}catch(l){n={error:l}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,"[DEFAULT]"===e?void 0:e),options:i}),this.instances.set(n,o),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(s){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t="[DEFAULT]"),this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new s(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},"/Osu":function(t,e,n){"use strict";function r(t,e,n){var r=[];t.forEach((function(t){return t[e]&&r.push(t)})),r.forEach((function(t){return t[e](n)}))}n.d(e,"a",(function(){return r}))},0:function(t,e,n){t.exports=n("zUnb")},"1hEp":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("4ygG"),i=n("CuOm"),o=function(){function t(){this.getFragmentDoc=Object(r.c)(i.c)}return t.prototype.recordOptimisticTransaction=function(t,e){this.performTransaction(t,e)},t.prototype.transformDocument=function(t){return t},t.prototype.identify=function(t){},t.prototype.gc=function(){return[]},t.prototype.modify=function(t){return!1},t.prototype.transformForLink=function(t){return t},t.prototype.readQuery=function(t,e){return void 0===e&&(e=!!t.optimistic),this.read({rootId:t.id||"ROOT_QUERY",query:t.query,variables:t.variables,returnPartialData:t.returnPartialData,optimistic:e})},t.prototype.readFragment=function(t,e){return void 0===e&&(e=!!t.optimistic),this.read({query:this.getFragmentDoc(t.fragment,t.fragmentName),variables:t.variables,rootId:t.id,returnPartialData:t.returnPartialData,optimistic:e})},t.prototype.writeQuery=function(t){return this.write({dataId:t.id||"ROOT_QUERY",result:t.data,query:t.query,variables:t.variables,broadcast:t.broadcast})},t.prototype.writeFragment=function(t){return this.write({dataId:t.id,result:t.data,variables:t.variables,query:this.getFragmentDoc(t.fragment,t.fragmentName),broadcast:t.broadcast})},t}()},"1yQU":function(t,e,n){const r=n("9HnI");t.exports=function(t){if("string"!=typeof t)return;const e=t.toUpperCase();return Object.prototype.hasOwnProperty.call(r,e)?r[e]:void 0},t.exports.currencySymbolMap=r},"27Ei":function(t,e,n){"use strict";t.exports=function(t){var e=t.name,n=t.type;this.uri=t.uri,this.name=e,this.type=n}},"2QA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3S/s":function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r,i=n("zC+P"),o=n("qVdT"),s=n("AiWB"),a=n("sHDe");function c(t,e){return e?e(t):s.a.of()}function u(t){return"function"==typeof t?new h(t):t}function l(t){return t.request.length<=1}r=Error,Object(i.c)((function(t,e){var n=r.call(this,t)||this;return n.link=e,n}),r);var h=function(){function t(t){t&&(this.request=t)}return t.empty=function(){return new t((function(){return s.a.of()}))},t.from=function(e){return 0===e.length?t.empty():e.map(u).reduce((function(t,e){return t.concat(e)}))},t.split=function(e,n,r){var i=u(n),o=u(r||new t(c));return l(i)&&l(o)?new t((function(t){return e(t)?i.request(t)||s.a.of():o.request(t)||s.a.of()})):new t((function(t,n){return e(t)?i.request(t,n)||s.a.of():o.request(t,n)||s.a.of()}))},t.execute=function(t,e){return t.request(function(t,e){var n=Object(i.a)({},t);return Object.defineProperty(e,"setContext",{enumerable:!1,value:function(t){n="function"==typeof t?Object(i.a)(Object(i.a)({},n),t(n)):Object(i.a)(Object(i.a)({},n),t)}}),Object.defineProperty(e,"getContext",{enumerable:!1,value:function(){return Object(i.a)({},n)}}),e}(e.context,function(t){var e={variables:t.variables||{},extensions:t.extensions||{},operationName:t.operationName,query:t.query};return e.operationName||(e.operationName="string"!=typeof e.query?Object(a.g)(e.query)||void 0:""),e}(function(t){for(var e=["query","operationName","variables","extensions","context"],n=0,r=Object.keys(t);n<r.length;n++)if(e.indexOf(r[n])<0)throw new o.a(26);return t}(e))))||s.a.of()},t.concat=function(e,n){var r=u(e);if(l(r))return r;var i=u(n);return l(i)?new t((function(t){return r.request(t,(function(t){return i.request(t)||s.a.of()}))||s.a.of()})):new t((function(t,e){return r.request(t,(function(t){return i.request(t,e)||s.a.of()}))||s.a.of()}))},t.prototype.split=function(e,n,r){return this.concat(t.split(e,n,r||new t(c)))},t.prototype.concat=function(e){return t.concat(this,e)},t.prototype.request=function(t,e){throw new o.a(21)},t.prototype.onError=function(t,e){if(e&&e.error)return e.error(t),!1;throw t},t.prototype.setOnError=function(t){return this.onError=t,this},t}()},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"4yVj":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}},"4ygG":function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return P})),n.d(e,"c",(function(){return N}));var r=function(){return Object.create(null)},i=Array.prototype,o=i.forEach,s=i.slice,a=function(){function t(t,e){void 0===t&&(t=!0),void 0===e&&(e=r),this.weakness=t,this.makeData=e}return t.prototype.lookup=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.lookupArray(t)},t.prototype.lookupArray=function(t){var e=this;return o.call(t,(function(t){return e=e.getChildTrie(t)})),e.data||(e.data=this.makeData(s.call(t)))},t.prototype.getChildTrie=function(e){var n=this.weakness&&function(t){switch(typeof t){case"object":if(null===t)break;case"function":return!0}return!1}(e)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),r=n.get(e);return r||n.set(e,r=new t(this.weakness,this.makeData)),r},t}(),c=n("hDgs");function u(){}var l,h=function(){function t(t,e){void 0===t&&(t=1/0),void 0===e&&(e=u),this.max=t,this.dispose=e,this.map=new Map,this.newest=null,this.oldest=null}return t.prototype.has=function(t){return this.map.has(t)},t.prototype.get=function(t){var e=this.getNode(t);return e&&e.value},t.prototype.getNode=function(t){var e=this.map.get(t);if(e&&e!==this.newest){var n=e.older,r=e.newer;r&&(r.older=n),n&&(n.newer=r),e.older=this.newest,e.older.newer=e,e.newer=null,this.newest=e,e===this.oldest&&(this.oldest=r)}return e},t.prototype.set=function(t,e){var n=this.getNode(t);return n?n.value=e:(n={key:t,value:e,newer:null,older:this.newest},this.newest&&(this.newest.newer=n),this.newest=n,this.oldest=this.oldest||n,this.map.set(t,n),n.value)},t.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},t.prototype.delete=function(t){var e=this.map.get(t);return!!e&&(e===this.newest&&(this.newest=e.older),e===this.oldest&&(this.oldest=e.newer),e.newer&&(e.newer.older=e.older),e.older&&(e.older.newer=e.newer),this.map.delete(t),this.dispose(e.value,t),!0)},t}(),d=new c.a,f=Object.prototype.hasOwnProperty,p=void 0===(l=Array.from)?function(t){var e=[];return t.forEach((function(t){return e.push(t)})),e}:l;function m(t){var e=t.unsubscribe;"function"==typeof e&&(t.unsubscribe=void 0,e())}var g=[];function b(t,e){if(!t)throw new Error(e||"assertion failure")}function v(t){switch(t.length){case 0:throw new Error("unknown value");case 1:return t[0];case 2:throw t[1]}}var y=function(){function t(e){this.fn=e,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++t.count}return t.prototype.peek=function(){if(1===this.value.length&&!S(this))return _(this),this.value[0]},t.prototype.recompute=function(t){return b(!this.recomputing,"already recomputing"),_(this),S(this)?function(t,e){return I(t),d.withValue(t,w,[t,e]),function(t,e){if("function"==typeof t.subscribe)try{m(t),t.unsubscribe=t.subscribe.apply(null,e)}catch(n){return t.setDirty(),!1}return!0}(t,e)&&function(t){t.dirty=!1,S(t)||x(t)}(t),v(t.value)}(this,t):v(this.value)},t.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,C(this),m(this))},t.prototype.dispose=function(){var t=this;this.setDirty(),I(this),O(this,(function(e,n){e.setDirty(),R(e,t)}))},t.prototype.forget=function(){this.dispose()},t.prototype.dependOn=function(t){t.add(this),this.deps||(this.deps=g.pop()||new Set),this.deps.add(t)},t.prototype.forgetDeps=function(){var t=this;this.deps&&(p(this.deps).forEach((function(e){return e.delete(t)})),this.deps.clear(),g.push(this.deps),this.deps=null)},t.count=0,t}();function _(t){var e=d.getValue();if(e)return t.parents.add(e),e.childValues.has(t)||e.childValues.set(t,[]),S(t)?E(e,t):k(e,t),e}function w(t,e){t.recomputing=!0,t.value.length=0;try{t.value[0]=t.fn.apply(null,e)}catch(n){t.value[1]=n}t.recomputing=!1}function S(t){return t.dirty||!(!t.dirtyChildren||!t.dirtyChildren.size)}function C(t){O(t,E)}function x(t){O(t,k)}function O(t,e){var n=t.parents.size;if(n)for(var r=p(t.parents),i=0;i<n;++i)e(r[i],t)}function E(t,e){b(t.childValues.has(e)),b(S(e));var n=!S(t);if(t.dirtyChildren){if(t.dirtyChildren.has(e))return}else t.dirtyChildren=g.pop()||new Set;t.dirtyChildren.add(e),n&&C(t)}function k(t,e){b(t.childValues.has(e)),b(!S(e));var n,r,i,o=t.childValues.get(e);0===o.length?t.childValues.set(e,e.value.slice(0)):(r=e.value,(i=(n=o).length)>0&&i===r.length&&n[i-1]===r[i-1]||t.setDirty()),T(t,e),S(t)||x(t)}function T(t,e){var n=t.dirtyChildren;n&&(n.delete(e),0===n.size&&(g.length<100&&g.push(n),t.dirtyChildren=null))}function I(t){t.childValues.size>0&&t.childValues.forEach((function(e,n){R(t,n)})),t.forgetDeps(),b(null===t.dirtyChildren)}function R(t,e){e.parents.delete(t),t.childValues.delete(e),T(t,e)}var A={setDirty:!0,dispose:!0,forget:!0};function P(t){var e=new Map,n=t&&t.subscribe;function r(t){var r=d.getValue();if(r){var i=e.get(t);i||e.set(t,i=new Set),r.dependOn(i),"function"==typeof n&&(m(i),i.unsubscribe=n(t))}}return r.dirty=function(t,n){var r=e.get(t);if(r){var i=n&&f.call(A,n)?n:"setDirty";p(r).forEach((function(t){return t[i]()})),e.delete(t),m(r)}},r}function D(){var t=new a("function"==typeof WeakMap);return function(){return t.lookupArray(arguments)}}D();var j=new Set;function N(t,e){void 0===e&&(e=Object.create(null));var n=new h(e.max||Math.pow(2,16),(function(t){return t.dispose()})),r=e.keyArgs,i=e.makeCacheKey||D(),o=function(){var o=i.apply(null,r?r.apply(null,arguments):arguments);if(void 0===o)return t.apply(null,arguments);var s=n.get(o);s||(n.set(o,s=new y(t)),s.subscribe=e.subscribe,s.forget=function(){return n.delete(o)});var a=s.recompute(Array.prototype.slice.call(arguments));return n.set(o,s),j.add(n),d.hasValue()||(j.forEach((function(t){return t.clean()})),j.clear()),a};function s(t){var e=n.get(t);e&&e.setDirty()}function a(t){var e=n.get(t);if(e)return e.peek()}function c(t){return n.delete(t)}return Object.defineProperty(o,"size",{get:function(){return n.map.size},configurable:!1,enumerable:!1}),o.dirtyKey=s,o.dirty=function(){s(i.apply(null,arguments))},o.peekKey=a,o.peek=function(){return a(i.apply(null,arguments))},o.forgetKey=c,o.forget=function(){return c(i.apply(null,arguments))},o.makeCacheKey=i,o.getKey=r?function(){return i.apply(null,r.apply(null,arguments))}:i,Object.freeze(o)}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("ZUHj"),i=n("l7GE"),o=n("51Dv"),s=n("lJxs"),a=n("Cfvw");function c(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(c((n,r)=>Object(a.a)(t(n,r)).pipe(Object(s.a)((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new u(t,n)))}class u{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new l(t,this.project,this.concurrent))}}class l extends i.a{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const i=new o.a(this,e,n),s=this.destination;s.add(i);const a=Object(r.a)(this,t,void 0,void 0,i);a!==i&&s.add(a)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"51Dv":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");class i extends r.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}},"56Qq":function(t,e,n){"use strict";n.d(e,"g",(function(){return a})),n.d(e,"f",(function(){return c})),n.d(e,"j",(function(){return u})),n.d(e,"i",(function(){return l})),n.d(e,"b",(function(){return d})),n.d(e,"a",(function(){return f})),n.d(e,"h",(function(){return p})),n.d(e,"c",(function(){return m})),n.d(e,"d",(function(){return g})),n.d(e,"e",(function(){return b}));var r=n("9x6x"),i=n.n(r),o=n("qVdT"),s=n("CuOm");function a(t){return{__ref:String(t)}}function c(t){return Boolean(t&&"object"==typeof t&&"string"==typeof t.__ref)}function u(t,e,n,r){if(function(t){return"IntValue"===t.kind}(n)||function(t){return"FloatValue"===t.kind}(n))t[e.value]=Number(n.value);else if(function(t){return"BooleanValue"===t.kind}(n)||function(t){return"StringValue"===t.kind}(n))t[e.value]=n.value;else if(function(t){return"ObjectValue"===t.kind}(n)){var i={};n.fields.map((function(t){return u(i,t.name,t.value,r)})),t[e.value]=i}else if(function(t){return"Variable"===t.kind}(n))t[e.value]=(r||{})[n.name.value];else if(function(t){return"ListValue"===t.kind}(n))t[e.value]=n.values.map((function(t){var n={};return u(n,e,t,r),n[e.value]}));else if(function(t){return"EnumValue"===t.kind}(n))t[e.value]=n.value;else{if(!function(t){return"NullValue"===t.kind}(n))throw new o.a(53);t[e.value]=null}}function l(t,e){var n=null;t.directives&&(n={},t.directives.forEach((function(t){n[t.name.value]={},t.arguments&&t.arguments.forEach((function(r){return u(n[t.name.value],r.name,r.value,e)}))})));var r=null;return t.arguments&&t.arguments.length&&(r={},t.arguments.forEach((function(t){return u(r,t.name,t.value,e)}))),d(t.name.value,r,n)}var h=["connection","include","skip","client","rest","export"];function d(t,e,n){if(e&&n&&n.connection&&n.connection.key){if(n.connection.filter&&n.connection.filter.length>0){var r=n.connection.filter?n.connection.filter:[];r.sort();var o={};return r.forEach((function(t){o[t]=e[t]})),n.connection.key+"("+JSON.stringify(o)+")"}return n.connection.key}var s=t;if(e){var a=i()(e);s+="("+a+")"}return n&&Object.keys(n).forEach((function(t){-1===h.indexOf(t)&&(n[t]&&Object.keys(n[t]).length?s+="@"+t+"("+JSON.stringify(n[t])+")":s+="@"+t)})),s}function f(t,e){if(t.arguments&&t.arguments.length){var n={};return t.arguments.forEach((function(t){return u(n,t.name,t.value,e)})),n}return null}function p(t){return t.alias?t.alias.value:t.name.value}function m(t,e,n){if("string"==typeof t.__typename)return t.__typename;for(var r=0,i=e.selections;r<i.length;r++){var o=i[r];if(g(o)){if("__typename"===o.name.value)return t[p(o)]}else{var a=m(t,Object(s.b)(o,n).selectionSet,n);if("string"==typeof a)return a}}}function g(t){return"Field"===t.kind}function b(t){return"InlineFragment"===t.kind}},"6Uf2":function(t,e,n){"use strict";(function(t){var e=n("zIRd"),r=n("/6Yf"),i=n("qOnz"),o=n("mrSG"),s=n("q/0M"),a="";function c(t){a=t}var u,l=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Object(i.stringify)(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:Object(i.jsonEval)(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),h=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return Object(i.contains)(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),d=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new l(e)}}catch(n){}return new h},f=d("localStorage"),p=d("sessionStorage"),m=new s.Logger("@firebase/database"),g=(u=1,function(){return u++}),b=function(t){var e=Object(i.stringToByteArray)(t),n=new i.Sha1;n.update(e);var r=n.digest();return i.base64.encodeByteArray(r)},v=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++){var o=t[r];Array.isArray(o)||o&&"object"==typeof o&&"number"==typeof o.length?n+=v.apply(null,o):n+="object"==typeof o?Object(i.stringify)(o):o,n+=" "}return n},y=null,_=!0,w=function(t,e){Object(i.assert)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(m.logLevel=s.LogLevel.VERBOSE,y=m.log.bind(m),e&&p.set("logging_enabled",!0)):"function"==typeof t?y=t:(y=null,p.remove("logging_enabled"))},S=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===_&&(_=!1,null===y&&!0===p.get("logging_enabled")&&w(!0)),y){var n=v.apply(null,t);y(n)}},C=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];S.apply(void 0,Object(o.__spreadArray)([t],Object(o.__read)(e)))}},x=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+v.apply(void 0,Object(o.__spreadArray)([],Object(o.__read)(t)));m.error(n)},O=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+v.apply(void 0,Object(o.__spreadArray)([],Object(o.__read)(t)));throw m.error(n),new Error(n)},E=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+v.apply(void 0,Object(o.__spreadArray)([],Object(o.__read)(t)));m.warn(n)},k=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},T="[MIN_NAME]",I="[MAX_NAME]",R=function(t,e){if(t===e)return 0;if(t===T||e===I)return-1;if(e===T||t===I)return 1;var n=F(t),r=F(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},A=function(t,e){return t===e?0:t<e?-1:1},P=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Object(i.stringify)(e))},D=function(t){if("object"!=typeof t||null===t)return Object(i.stringify)(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",o=0;o<e.length;o++)0!==o&&(r+=","),r+=Object(i.stringify)(e[o]),r+=":",r+=D(t[e[o]]);return r+"}"},j=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function N(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var M=function(t){var e,n,r,o,s;Object(i.assert)(!k(t),"Invalid JSON number"),0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(o=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,r=Math.round(t*Math.pow(2,52-o)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));var a=[];for(s=52;s;s-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(s=11;s;s-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(e?1:0),a.reverse();var c=a.join(""),u="";for(s=0;s<64;s+=8){var l=parseInt(c.substr(s,8),2).toString(16);1===l.length&&(l="0"+l),u+=l}return u.toLowerCase()},L=new RegExp("^-?(0*)\\d{1,10}$"),F=function(t){if(L.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},V=function(t){try{t()}catch(e){setTimeout((function(){throw E("Exception was thrown by user callback.",e.stack||""),e}),Math.floor(0))}},B=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},U=function(){function t(t,e){var n=this;this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then((function(t){return n.appCheck=t}))}return t.prototype.getToken=function(t){var e=this;return this.appCheck?this.appCheck.getToken(t):new Promise((function(n,r){setTimeout((function(){e.appCheck?e.getToken(t).then(n,r):n(null)}),0)}))},t.prototype.addTokenChangeListener=function(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then((function(e){return e.addTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){E('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},t}(),q=function(){function t(t,e,n){var r=this;this.appName_=t,this.firebaseOptions_=e,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((function(t){return r.auth_=t}))}return t.prototype.getToken=function(t){var e=this;return this.auth_?this.auth_.getToken(t).catch((function(t){return t&&"auth/token-not-initialized"===t.code?(S("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})):new Promise((function(n,r){setTimeout((function(){e.auth_?e.getToken(t).then(n,r):n(null)}),0)}))},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then((function(e){return e.addAuthTokenListener(t)}))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then((function(e){return e.removeAuthTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';E(t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},t}(),W=function(){function t(t){this.accessToken=t}return t.prototype.getToken=function(t){return Promise.resolve({accessToken:this.accessToken})},t.prototype.addTokenChangeListener=function(t){t(this.accessToken)},t.prototype.removeTokenChangeListener=function(t){},t.prototype.notifyForInvalidToken=function(){},t.OWNER="owner",t}(),H=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,z=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===s&&(s=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=f.get("host:"+t)||this._host}return t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&f.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host+"/"+(this.includeNamespaceInQueryParams?"?ns="+this.namespace:"")},t}();function K(t,e,n){var r;if(Object(i.assert)("string"==typeof e,"typeof type must == string"),Object(i.assert)("object"==typeof n,"typeof params must == object"),"websocket"===e)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if("long_polling"!==e)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);var o=[];return N(n,(function(t,e){o.push(t+"="+e)})),r+o.join("&")}var G=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),Object(i.contains)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return Object(i.deepCopy)(this.counters_)},t}(),Y={},Q={};function $(t){var e=t.toString();return Y[e]||(Y[e]=new G),Y[e]}var X=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&V((function(){n.onMessage_(t[e])}))},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},t}(),J=function(){function t(t,e,n,r,i,o,s){var a=this;this.connId=t,this.repoInfo=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=C(t),this.stats_=$(e),this.urlFn=function(t){return a.appCheckToken&&(t.ac=a.appCheckToken),K(e,"long_polling",t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new X(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(t){if(Object(i.isNodeSdk)()||"complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new Z((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(o.__read)(t,5),i=r[0],s=r[1],a=r[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===i)n.id=s,n.password=a;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);s?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(s,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(o.__read)(t,2),i=r[0],s=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,s)}),(function(){n.onClosed_()}),n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),n.appCheckToken&&(t.ac=n.appCheckToken),"undefined"!=typeof location&&location.hostname&&H.test(location.hostname)&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,(function(){}))}}))},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!(Object(i.isNodeSdk)()||!t.forceAllow_&&(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=Object(i.stringify)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=Object(i.base64Encode)(e),r=j(n,1840),o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!Object(i.isNodeSdk)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=Object(i.stringify)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),Z=function(){function t(e,n,r,o){if(this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(i.isNodeSdk)())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=g(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(s='<script>document.domain="'+document.domain+'";<\/script>');var a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(c){S("frame writing exception"),c.stack&&S(c.stack),S(c)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||S("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)}),Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return this.addLongPollTag_(e+=n,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,(function(){clearTimeout(i),r()}))},t.prototype.addTag=function(t,e){var n=this;Object(i.isNodeSdk)()?this.doNodeLongPoll(t,e):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){S("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},t}(),tt=null;"undefined"!=typeof MozWebSocket?tt=MozWebSocket:"undefined"!=typeof WebSocket&&(tt=WebSocket);var et=function(){function t(e,n,r,i,o,s,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=C(this.connId),this.stats_=$(n),this.connURL=t.connectionURL_(n,s,a,i),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(t,e,n,r){var o={v:"5"};return!Object(i.isNodeSdk)()&&"undefined"!=typeof location&&location.hostname&&H.test(location.hostname)&&(o.r="f"),e&&(o.s=e),n&&(o.ls=n),r&&(o.ac=r),K(t,"websocket",o)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,f.set("previous_websocket_failure",!0);try{if(Object(i.isNodeSdk)()){var r={headers:{"User-Agent":"Firebase/5/"+a+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(r.headers.Authorization=this.authToken),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var o=process.env,s=0===this.connURL.indexOf("wss://")?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;s&&(r.proxy={origin:s}),this.mySock=new tt(this.connURL,[],r)}else this.mySock=new tt(this.connURL,[],r={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(u){this.log_("Error instantiating WebSocket.");var c=u.message||u.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==tt&&!t.forceDisallow_},t.previouslyFailed=function(){return f.isInMemoryStorage||!0===f.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){f.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=Object(i.jsonEval)(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(Object(i.assert)(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=Object(i.stringify)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=j(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()}),Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),nt=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[J,et]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=et&&et.isAvailable(),s=i&&!et.previouslyFailed();if(e.webSocketOnly&&(i||E("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[et];else{var a=this.transports_=[];try{for(var c=Object(o.__values)(t.ALL_TRANSPORTS),u=c.next();!u.done;u=c.next()){var l=u.value;l&&l.isAvailable()&&a.push(l)}}catch(h){n={error:h}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),rt=function(){function t(t,e,n,r,i,o,s,a,c,u){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=a,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=C("c:"+this.id+":"),this.transportManager_=new nt(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){t.conn_&&t.conn_.open(n,r)}),Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=B((function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))}),Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){this.sendData_({t:"d",d:t})},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=P("t",t),n=P("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=P("t",t),n=P("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=P("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?x("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):x("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&E("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),B((function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())}),Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):B((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(f.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),it=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.refreshAppCheckToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),ot=function(){function t(t){this.allowedEvents_=t,this.listeners_={},Object(i.assert)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=Object(o.__spreadArray)([],Object(o.__read)(this.listeners_[t])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){Object(i.assert)(this.allowedEvents_.find((function(e){return e===t})),"Unknown event: "+t)},t}(),st=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||Object(i.isMobileCordova)()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return Object(o.__extends)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(i.assert)("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(ot),at=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t}();function ct(){return new at("")}function ut(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function lt(t){return t.pieces_.length-t.pieceNum_}function ht(t){var e=t.pieceNum_;return e<t.pieces_.length&&e++,new at(t.pieces_,e)}function dt(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function ft(t,e){return void 0===e&&(e=0),t.pieces_.slice(t.pieceNum_+e)}function pt(t){if(t.pieceNum_>=t.pieces_.length)return null;for(var e=[],n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new at(e,0)}function mt(t,e){for(var n=[],r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof at)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new at(n,0)}function gt(t){return t.pieceNum_>=t.pieces_.length}function bt(t,e){var n=ut(t),r=ut(e);if(null===n)return e;if(n===r)return bt(ht(t),ht(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function vt(t,e){for(var n=ft(t,0),r=ft(e,0),i=0;i<n.length&&i<r.length;i++){var o=R(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function yt(t,e){if(lt(t)!==lt(e))return!1;for(var n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function _t(t,e){var n=t.pieceNum_,r=e.pieceNum_;if(lt(t)>lt(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var wt=function(){return function(t,e){this.errorPrefix_=e,this.parts_=ft(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Object(i.stringLength)(this.parts_[n]);St(this)}}();function St(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Ct(t))}function Ct(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}var xt,Ot,Et=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))}),!1),r}return Object(o.__extends)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(i.assert)("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(ot),kt=function(t){function e(n,r,o,s,a,c,u,l){var h=t.call(this)||this;if(h.repoInfo_=n,h.applicationId_=r,h.onDataUpdate_=o,h.onConnectStatus_=s,h.onServerInfoUpdate_=a,h.authTokenProvider_=c,h.appCheckTokenProvider_=u,h.authOverride_=l,h.id=e.nextPersistentConnectionId_++,h.log_=C("p:"+h.id+":"),h.interruptReasons_={},h.listens=new Map,h.outstandingPuts_=[],h.outstandingGets_=[],h.outstandingPutCount_=0,h.outstandingGetCount_=0,h.onDisconnectRequestQueue_=[],h.connected_=!1,h.reconnectDelay_=1e3,h.maxReconnectDelay_=3e5,h.securityDebugCallback_=null,h.lastSessionId=null,h.establishConnectionTimer_=null,h.visible_=!1,h.requestCBHash_={},h.requestNumber_=0,h.realtime_=null,h.authToken_=null,h.appCheckToken_=null,h.forceTokenRefresh_=!1,h.invalidAuthTokenCount_=0,h.invalidAppCheckTokenCount_=0,h.firstConnection_=!0,h.lastConnectionAttemptTime_=null,h.lastConnectionEstablishedTime_=null,l&&!Object(i.isNodeSdk)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Et.getInstance().on("visible",h.onVisible_,h),-1===n.host.indexOf("fblocal")&&st.getInstance().on("online",h.onOnline_,h),h}return Object(o.__extends)(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,o={r:r,a:t,b:e};this.log_(Object(i.stringify)(o)),Object(i.assert)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),n&&(this.requestCBHash_[r]=n)},e.prototype.get=function(t){var e=this;this.initConnection_();var n=new i.Deferred,r={p:t._path.toString(),q:t._queryObject},o={action:"g",request:r,onComplete:function(t){var i=t.d;"ok"===t.s?(e.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;var s=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var t=e.outstandingGets_[s];void 0!==t&&o===t&&(delete e.outstandingGets_[s],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),e.log_("get "+s+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(s),n.promise},e.prototype.listen=function(t,e,n,r){this.initConnection_();var o=t._queryIdentifier,s=t._path.toString();this.log_("Listen called for "+s+" "+o),this.listens.has(s)||this.listens.set(s,new Map),Object(i.assert)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Object(i.assert)(!this.listens.get(s).has(o),"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(s).set(o,a),this.connected_&&this.sendListen_(a)},e.prototype.sendGet_=function(t){var e=this,n=this.outstandingGets_[t];this.sendRequest("g",n.request,(function(r){delete e.outstandingGets_[t],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var s={p:i};t.tag&&(s.q=r._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest("q",s,(function(s){var a=s.d,c=s.s;e.warnOnListenWarnings_(a,r),(n.listens.get(i)&&n.listens.get(i).get(o))===t&&(n.log_("listen response",s),"ok"!==c&&n.removeListen_(i,o),t.onComplete&&t.onComplete(c,a))}))},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&Object(i.contains)(t,"w")){var n=Object(i.safeGet)(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e._queryParams.getIndex().toString()+'"',o=e._path.toString();E("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+o+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||Object(i.isAdmin)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.refreshAppCheckToken=function(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=Object(i.isValidFormat)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))}))}},e.prototype.tryAppCheck=function(){var t=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(e){var n=e.s,r=e.d||"error";"ok"===n?t.invalidAppCheckTokenCount_=0:t.onAppCheckRevoked_(n,r)}))},e.prototype.unlisten=function(t,e){var n=t._path.toString(),r=t._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Object(i.assert)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t._queryObject,e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,(function(t){r&&setTimeout((function(){r(t.s,t.d)}),Math.floor(0))}))},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){this.initConnection_();var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,(function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)}))},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,(function(t){"ok"!==t.s&&e.log_("reportStats","Error sending stats: "+t.d)}))}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+Object(i.stringify)(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"apc"===t?this.onAppCheckRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):x("Unrecognized action received from server: "+Object(i.stringify)(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;Object(i.assert)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){e.establishConnectionTimer_=null,e.establishConnection_()}),Math.floor(t))},e.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){return Object(o.__awaiter)(this,void 0,void 0,(function(){var t,n,r,s,a,c,u,l,h,d,f,p,m,g=this;return Object(o.__generator)(this,(function(b){switch(b.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+e.nextConnectionId_++,a=this.lastSessionId,c=!1,u=null,this.realtime_={close:l=function(){u?u.close():(c=!0,r())},sendRequest:function(t){Object(i.assert)(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(t)}},h=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,b.label=1;case 1:return b.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)])];case 2:return d=o.__read.apply(void 0,[b.sent(),2]),f=d[0],p=d[1],c?S("getToken() completed but was canceled"):(S("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=p&&p.token,u=new rt(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,(function(t){E(t+" ("+g.repoInfo_.toString()+")"),g.interrupt("server_kill")}),a)),[3,4];case 3:return m=b.sent(),this.log_("Failed to get token: "+m),c||(this.repoInfo_.nodeAdmin&&E(m),l()),[3,4];case 4:return[2]}}))}))},e.prototype.interrupt=function(t){S("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){S("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Object(i.isEmpty)(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map((function(t){return D(t)})).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new at(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){S("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onAppCheckRevoked_=function(t,e){S("App check token revoked: "+t+"/"+e),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=Object(o.__values)(this.listens.values()),s=i.next();!s.done;s=i.next()){var a=s.value;try{for(var c=(n=void 0,Object(o.__values)(a.values())),u=c.next();!u.done;u=c.next())this.sendListen_(u.value)}catch(d){n={error:d}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}}catch(f){t={error:f}}finally{try{s&&!s.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(l=0;l<this.outstandingGets_.length;l++)this.outstandingGets_[l]&&this.sendGet_(l)},e.prototype.sendConnectStats_=function(){var t={},e="js";Object(i.isNodeSdk)()&&(e=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+e+"."+a.replace(/\./g,"-")]=1,Object(i.isMobileCordova)()?t["framework.cordova"]=1:Object(i.isReactNative)()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=st.getInstance().currentlyOnline();return Object(i.isEmpty)(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(it),Tt=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),It=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new Tt(T,t),r=new Tt(T,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return Tt.MIN},t}(),Rt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.__extends)(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return xt},set:function(t){xt=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return R(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw Object(i.assertionError)("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return Tt.MIN},e.prototype.maxPost=function(){return new Tt(I,xt)},e.prototype.makePost=function(t,e){return Object(i.assert)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Tt(t,xt)},e.prototype.toString=function(){return".key"},e}(It),At=new Rt,Pt=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Dt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:Nt.EMPTY_NODE,this.right=null!=o?o:Nt.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Nt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Nt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),jt=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Dt(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Nt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Dt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Dt.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Pt(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Pt(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Pt(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Pt(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new jt,t}();function Mt(t,e){return R(t.name,e.name)}function Lt(t,e){return R(t,e)}var Ft,Vt,Bt,Ut,qt,Wt=function(t){return"number"==typeof t?"number:"+M(t):"string:"+t},Ht=function(t){if(t.isLeafNode()){var e=t.val();Object(i.assert)("string"==typeof e||"number"==typeof e||"object"==typeof e&&Object(i.contains)(e,".sv"),"Priority must be a string or number.")}else Object(i.assert)(t===Ot||t.isEmpty(),"priority of unexpected type.");Object(i.assert)(t===Ot||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},zt=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Object(i.assert)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Ht(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return Ft},set:function(t){Ft=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return gt(e)?this:".priority"===ut(e)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=ut(e);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Object(i.assert)(".priority"!==r||1===lt(e),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(ht(e),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+Wt(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?M(this.value_):this.value_,this.lazyHash_=b(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(Object(i.assert)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(n),s=t.VALUE_TYPE_ORDER.indexOf(r);return Object(i.assert)(o>=0,"Unknown leaf type: "+n),Object(i.assert)(s>=0,"Unknown leaf type: "+r),o===s?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-o},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),Kt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.__extends)(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?R(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return Tt.MIN},e.prototype.maxPost=function(){return new Tt(I,new zt("[PRIORITY-POST]",Bt))},e.prototype.makePost=function(t,e){var n=Vt(t);return new Tt(e,new zt("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(It)),Gt=Math.log(2),Yt=function(){function t(t){this.count=parseInt(Math.log(t+1)/Gt,10),this.current_=this.count-1;var e=parseInt(Array(this.count+1).join("1"),2);this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),Qt=function(t,e,n,r){t.sort(e);var i=function(e,r){var o,s,a=r-e;if(0===a)return null;if(1===a)return o=t[e],s=n?n(o):o,new Dt(s,o.node,Dt.BLACK,null,null);var c=parseInt(a/2,10)+e,u=i(e,c),l=i(c+1,r);return o=t[c],s=n?n(o):o,new Dt(s,o.node,Dt.BLACK,u,l)},o=function(e){for(var r=null,o=null,s=t.length,a=function(e,r){var o=s-e,a=s;s-=e;var u=i(o+1,a),l=t[o],h=n?n(l):l;c(new Dt(h,l.node,r,null,u))},c=function(t){r?(r.left=t,r=t):(o=t,r=t)},u=0;u<e.count;++u){var l=e.nextBitIsOne(),h=Math.pow(2,e.count-(u+1));l?a(h,Dt.BLACK):(a(h,Dt.BLACK),a(h,Dt.RED))}return o}(new Yt(t.length));return new Nt(r||e,o)},$t={},Xt=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return Object(i.assert)($t&&Kt,"ChildrenNode.ts has not been loaded"),Ut=Ut||new t({".priority":$t},{".priority":Kt})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=Object(i.safeGet)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Nt?e:null},t.prototype.hasIndex=function(t){return Object(i.contains)(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){Object(i.assert)(e!==At,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,s=[],a=!1,c=n.getIterator(Tt.Wrap),u=c.getNext();u;)a=a||e.isDefinedOn(u.node),s.push(u),u=c.getNext();r=a?Qt(s,e.getCompare()):$t;var l=e.toString(),h=Object(o.__assign)({},this.indexSet_);h[l]=e;var d=Object(o.__assign)({},this.indexes_);return d[l]=r,new t(d,h)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(Object(i.map)(this.indexes_,(function(t,o){var s=Object(i.safeGet)(r.indexSet_,o);if(Object(i.assert)(s,"Missing index implementation for "+o),t===$t){if(s.isDefinedOn(e.node)){for(var a=[],c=n.getIterator(Tt.Wrap),u=c.getNext();u;)u.name!==e.name&&a.push(u),u=c.getNext();return a.push(e),Qt(a,s.getCompare())}return $t}var l=n.get(e.name),h=t;return l&&(h=h.remove(new Tt(e.name,l))),h.insert(e,e.node)})),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(Object(i.map)(this.indexes_,(function(t){if(t===$t)return t;var r=n.get(e.name);return r?t.remove(new Tt(e.name,r)):t})),this.indexSet_)},t}(),Jt=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Ht(this.priorityNode_),this.children_.isEmpty()&&Object(i.assert)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return qt||(qt=new t(new Nt(Lt),null,Xt.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||qt},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?qt:e},t.prototype.getChild=function(t){var e=ut(t);return null===e?this:this.getImmediateChild(e).getChild(ht(t))},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(Object(i.assert)(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new Tt(e,n),o=void 0,s=void 0;n.isEmpty()?(o=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));var a=o.isEmpty()?qt:this.priorityNode_;return new t(o,a,s)},t.prototype.updateChild=function(t,e){var n=ut(t);if(null===n)return e;Object(i.assert)(".priority"!==ut(t)||1===lt(t),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(ht(t),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Kt,(function(s,a){n[s]=a.val(e),r++,o&&t.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1})),!e&&o&&i<2*r){var s=[];for(var a in n)s[a]=n[a];return s}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+Wt(this.getPriority().val())+":"),this.forEachChild(Kt,(function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)})),this.lazyHash_=""===t?"":b(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Tt(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new Tt(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new Tt(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal((function(t){return e(t.name,t.node)})):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getIteratorFrom(t.name,Tt.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getReverseIteratorFrom(t.name,Tt.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Zt?-1:0},t.prototype.withIndex=function(e){if(e===At||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===At||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(Kt),r=e.getIterator(Kt),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===At?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),Zt=new(function(t){function e(){return t.call(this,new Nt(Lt),Jt.EMPTY_NODE,Xt.Default)||this}return Object(o.__extends)(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return Jt.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(Jt));function te(t,e){if(void 0===e&&(e=null),null===t)return Jt.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),Object(i.assert)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new zt(t,te(e));if(t instanceof Array){var n=Jt.EMPTY_NODE;return N(t,(function(e,r){if(Object(i.contains)(t,e)&&"."!==e.substring(0,1)){var o=te(r);!o.isLeafNode()&&o.isEmpty()||(n=n.updateImmediateChild(e,o))}})),n.updatePriority(te(e))}var r=[],o=!1;if(N(t,(function(t,e){if("."!==t.substring(0,1)){var n=te(e);n.isEmpty()||(o=o||!n.getPriority().isEmpty(),r.push(new Tt(t,n)))}})),0===r.length)return Jt.EMPTY_NODE;var s=Qt(r,Mt,(function(t){return t.name}),Lt);if(o){var a=Qt(r,Kt.getCompare());return new Jt(s,te(e),new Xt({".priority":a},{".priority":Kt}))}return new Jt(s,te(e),Xt.Default)}Object.defineProperties(Tt,{MIN:{value:new Tt(T,Jt.EMPTY_NODE)},MAX:{value:new Tt(I,Zt)}}),Rt.__EMPTY_NODE=Jt.EMPTY_NODE,zt.__childrenNodeConstructor=Jt,Ot=Zt,function(t){Bt=t}(Zt),function(t){Vt=t}(te);var ee,ne,re=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,Object(i.assert)(!gt(e)&&".priority"!==ut(e),"Can't create PathIndex with empty path or .priority key"),n}return Object(o.__extends)(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?R(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=te(t),r=Jt.EMPTY_NODE.updateChild(this.indexPath_,n);return new Tt(e,r)},e.prototype.maxPost=function(){var t=Jt.EMPTY_NODE.updateChild(this.indexPath_,Zt);return new Tt(I,t)},e.prototype.toString=function(){return ft(this.indexPath_,0).join("/")},e}(It),ie=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.__extends)(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?R(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return Tt.MIN},e.prototype.maxPost=function(){return Tt.MAX},e.prototype.makePost=function(t,e){var n=te(t);return new Tt(e,n)},e.prototype.toString=function(){return".value"},e}(It)),oe="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",se=(ee=0,ne=[],function(t){var e,n=t===ee;ee=t;var r=new Array(8);for(e=7;e>=0;e--)r[e]=oe.charAt(t%64),t=Math.floor(t/64);Object(i.assert)(0===t,"Cannot push at time == 0");var o=r.join("");if(n){for(e=11;e>=0&&63===ne[e];e--)ne[e]=0;ne[e]++}else for(e=0;e<12;e++)ne[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)o+=oe.charAt(ne[e]);return Object(i.assert)(20===o.length,"nextPushId: Length should be 20."),o}),ae=function(t){if("2147483647"===t)return"-";var e=F(t);if(null!=e)return""+(e+1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return I;var o=oe.charAt(oe.indexOf(n[i])+1);return n[i]=o,n.slice(0,i+1).join("")},ce=function(t){if("-2147483648"===t)return T;var e=F(t);if(null!=e)return""+(e-1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=oe.charAt(oe.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function ue(t){return{type:"value",snapshotNode:t}}function le(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function he(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function de(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}var fe=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,o,s){Object(i.assert)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=t.getImmediateChild(e);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?t:(null!=s&&(n.isEmpty()?t.hasChild(e)?s.trackChildChange(he(e,a)):Object(i.assert)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(le(e,n)):s.trackChildChange(de(e,n,a))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Kt,(function(t,r){e.hasChild(t)||n.trackChildChange(he(t,r))})),e.isLeafNode()||e.forEachChild(Kt,(function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(de(e,r,i))}else n.trackChildChange(le(e,r))}))),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?Jt.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),pe=function(){function t(e){this.indexedFilter_=new fe(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new Tt(e,n))||(n=Jt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=Jt.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(Jt.EMPTY_NODE);var i=this;return e.forEachChild(Kt,(function(t,e){i.matches(new Tt(t,e))||(r=r.updateImmediateChild(t,Jt.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),me=function(){function t(t){this.rangedFilter_=new pe(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new Tt(e,n))||(n=Jt.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=Jt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=Jt.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var s=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(s.name,s.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(Jt.EMPTY_NODE);var a=void 0,c=void 0,u=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();u=function(t,e){return l(e,t)}}else i=r.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),u=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();)s=i.getNext(),!h&&u(a,s)<=0&&(h=!0),h&&o<this.limit_&&u(s,c)<=0?o++:r=r.updateImmediateChild(s.name,Jt.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,o){var s;if(this.reverse_){var a=this.index_.getCompare();s=function(t,e){return a(e,t)}}else s=this.index_.getCompare();var c=t;Object(i.assert)(c.numChildren()===this.limit_,"");var u=new Tt(e,n),l=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),h=this.rangedFilter_.matches(u);if(c.hasChild(e)){for(var d=c.getImmediateChild(e),f=r.getChildAfterChild(this.index_,l,this.reverse_);null!=f&&(f.name===e||c.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var p=null==f?1:s(f,u);if(h&&!n.isEmpty()&&p>=0)return null!=o&&o.trackChildChange(de(e,n,d)),c.updateImmediateChild(e,n);null!=o&&o.trackChildChange(he(e,d));var m=c.updateImmediateChild(e,Jt.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=o&&o.trackChildChange(le(f.name,f.node)),m.updateImmediateChild(f.name,f.node)):m}return n.isEmpty()?t:h&&s(l,u)>=0?(null!=o&&(o.trackChildChange(he(l.name,l.node)),o.trackChildChange(le(e,n))),c.updateImmediateChild(e,n).updateImmediateChild(l.name,Jt.EMPTY_NODE)):t},t}(),ge=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Kt}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.hasStartAfter=function(){return this.startAfterSet_},t.prototype.hasEndBefore=function(){return this.endBeforeSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},t.prototype.getIndexStartValue=function(){return Object(i.assert)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return Object(i.assert)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:T},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return Object(i.assert)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return Object(i.assert)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:I},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return Object(i.assert)(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Kt},t.prototype.copy=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t}();function be(t,e,n){var r=t.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function ve(t,e,n){var r=t.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function ye(t,e){var n=t.copy();return n.index_=e,n}function _e(t){var e,n={};return t.isDefault()||(t.index_===Kt?e="$priority":t.index_===ie?e="$value":t.index_===At?e="$key":(Object(i.assert)(t.index_ instanceof re,"Unrecognized index type!"),e=t.index_.toString()),n.orderBy=Object(i.stringify)(e),t.startSet_&&(n.startAt=Object(i.stringify)(t.indexStartValue_),t.startNameSet_&&(n.startAt+=","+Object(i.stringify)(t.indexStartName_))),t.endSet_&&(n.endAt=Object(i.stringify)(t.indexEndValue_),t.endNameSet_&&(n.endAt+=","+Object(i.stringify)(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?n.limitToFirst=t.limit_:n.limitToLast=t.limit_)),n}function we(t){var e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;var n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==Kt&&(e.i=t.index_.toString()),e}var Se=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.repoInfo_=e,o.onDataUpdate_=n,o.authTokenProvider_=r,o.appCheckTokenProvider_=i,o.log_=C("p:rest:"),o.listens_={},o}return Object(o.__extends)(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(Object(i.assert)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())},e.prototype.listen=function(t,n,r,o){var s=this,a=t._path.toString();this.log_("Listen called for "+a+" "+t._queryIdentifier);var c=e.getListenId_(t,r),u={};this.listens_[c]=u;var l=_e(t._queryParams);this.restRequest_(a+".json",l,(function(t,e){var n=e;404===t&&(n=null,t=null),null===t&&s.onDataUpdate_(a,n,!1,r),Object(i.safeGet)(s.listens_,c)===u&&o(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)}))},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.get=function(t){var e=this,n=_e(t._queryParams),r=t._path.toString(),o=new i.Deferred;return this.restRequest_(r+".json",n,(function(t,n){var i=n;404===t&&(i=null,t=null),null===t?(e.onDataUpdate_(r,i,!1,null),o.resolve(i)):o.reject(new Error(i))})),o.promise},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;return void 0===e&&(e={}),e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(s){var a=Object(o.__read)(s,2),c=a[0],u=a[1];c&&c.accessToken&&(e.auth=c.accessToken),u&&u.token&&(e.ac=u.token);var l=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+Object(i.querystring)(e);r.log_("Sending REST request for "+l);var h=new XMLHttpRequest;h.onreadystatechange=function(){if(n&&4===h.readyState){r.log_("REST Response for "+l+" received. status:",h.status,"response:",h.responseText);var t=null;if(h.status>=200&&h.status<300){try{t=Object(i.jsonEval)(h.responseText)}catch(e){E("Failed to parse JSON response for "+l+": "+h.responseText)}n(null,t)}else 401!==h.status&&404!==h.status&&E("Got unsuccessful REST response for "+l+" Status: "+h.status),n(h.status);n=null}},h.open("GET",l,!0),h.send()}))},e}(it),Ce=function(){function t(){this.rootNode_=Jt.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}();function xe(){return{value:null,children:new Map}}function Oe(t,e,n){if(gt(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{var r=ut(e);t.children.has(r)||t.children.set(r,xe()),Oe(t.children.get(r),e=ht(e),n)}}function Ee(t,e,n){null!==t.value?n(e,t.value):function(t,e){t.children.forEach((function(t,n){e(n,t)}))}(t,(function(t,r){Ee(r,new at(e.toString()+"/"+t),n)}))}var ke=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=Object(o.__assign)({},t);return this.last_&&N(this.last_,(function(t,n){e[t]=e[t]-n})),this.last_=t,e},t}(),Te=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new ke(t);var n=1e4+2e4*Math.random();B(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;N(e,(function(e,o){o>0&&Object(i.contains)(t.statsToReport_,e)&&(n[e]=o,r=!0)})),r&&this.server_.reportStats(n),B(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),Ie=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}({});function Re(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var Ae,Pe=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=Ie.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return t.prototype.operationForChild=function(e){if(gt(this.path)){if(null!=this.affectedTree.value)return Object(i.assert)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new at(e));return new t(ct(),n,this.revert)}return Object(i.assert)(ut(this.path)===e,"operationForChild called for unrelated child."),new t(ht(this.path),this.affectedTree,this.revert)},t}(),De=function(){function t(t,e){this.source=t,this.path=e,this.type=Ie.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return gt(this.path)?new t(this.source,ct()):new t(this.source,ht(this.path))},t}(),je=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=Ie.OVERWRITE}return t.prototype.operationForChild=function(e){return gt(this.path)?new t(this.source,ct(),this.snap.getImmediateChild(e)):new t(this.source,ht(this.path),this.snap)},t}(),Ne=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=Ie.MERGE}return t.prototype.operationForChild=function(e){if(gt(this.path)){var n=this.children.subtree(new at(e));return n.isEmpty()?null:n.value?new je(this.source,ct(),n.value):new t(this.source,ct(),n)}return Object(i.assert)(ut(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,ht(this.path),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),Me=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(gt(t))return this.isFullyInitialized()&&!this.filtered_;var e=ut(t);return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),Le=function(){return function(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}();function Fe(t,e,n,r,o,s){var a=r.filter((function(t){return t.type===n}));a.sort((function(e,n){return function(t,e,n){if(null==e.childName||null==n.childName)throw Object(i.assertionError)("Should only compare child_ events.");var r=new Tt(e.childName,e.snapshotNode),o=new Tt(n.childName,n.snapshotNode);return t.index_.compare(r,o)}(t,e,n)})),a.forEach((function(n){var r=function(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,n,s);o.forEach((function(i){i.respondsTo(n.type)&&e.push(i.createEvent(r,t.query_))}))}))}function Ve(t,e){return{eventCache:t,serverCache:e}}function Be(t,e,n,r){return Ve(new Me(e,n,r),t.serverCache)}function Ue(t,e,n,r){return Ve(t.eventCache,new Me(e,n,r))}function qe(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function We(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var He=function(){function t(t,e){void 0===e&&(Ae||(Ae=new Nt(A)),e=Ae),this.value=t,this.children=e}return t.fromObject=function(e){var n=new t(null);return N(e,(function(t,e){n=n.set(new at(t),e)})),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:ct(),value:this.value};if(gt(t))return null;var n=ut(t),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(ht(t),e);return null!=i?{path:mt(new at(n),i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,(function(){return!0}))},t.prototype.subtree=function(e){if(gt(e))return this;var n=ut(e),r=this.children.get(n);return null!==r?r.subtree(ht(e)):new t(null)},t.prototype.set=function(e,n){if(gt(e))return new t(n,this.children);var r=ut(e),i=(this.children.get(r)||new t(null)).set(ht(e),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(gt(e))return this.children.isEmpty()?new t(null):new t(null,this.children);var n=ut(e),r=this.children.get(n);if(r){var i=r.remove(ht(e)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new t(null):new t(this.value,o)}return this},t.prototype.get=function(t){if(gt(t))return this.value;var e=ut(t),n=this.children.get(e);return n?n.get(ht(t)):null},t.prototype.setTree=function(e,n){if(gt(e))return n;var r,i=ut(e),o=(this.children.get(i)||new t(null)).setTree(ht(e),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new t(this.value,r)},t.prototype.fold=function(t){return this.fold_(ct(),t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(mt(t,r),e)})),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,ct(),e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(gt(t))return null;var i=ut(t),o=this.children.get(i);return o?o.findOnPath_(ht(t),mt(e,i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,ct(),e)},t.prototype.foreachOnPath_=function(e,n,r){if(gt(e))return this;this.value&&r(n,this.value);var i=ut(e),o=this.children.get(i);return o?o.foreachOnPath_(ht(e),mt(n,i),r):new t(null)},t.prototype.foreach=function(t){this.foreach_(ct(),t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal((function(n,r){r.foreach_(mt(t,n),e)})),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal((function(e,n){n.value&&t(e,n.value)}))},t}(),ze=function(){function t(t){this.writeTree_=t}return t.empty=function(){return new t(new He(null))},t}();function Ke(t,e,n){if(gt(e))return new ze(new He(n));var r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,s=bt(i,e);return o=o.updateChild(s,n),new ze(t.writeTree_.set(i,o))}var a=new He(n),c=t.writeTree_.setTree(e,a);return new ze(c)}function Ge(t,e,n){var r=t;return N(n,(function(t,n){r=Ke(r,mt(e,t),n)})),r}function Ye(t,e){if(gt(e))return ze.empty();var n=t.writeTree_.setTree(e,new He(null));return new ze(n)}function Qe(t,e){return null!=$e(t,e)}function $e(t,e){var n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(bt(n.path,e)):null}function Xe(t){var e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Kt,(function(t,n){e.push(new Tt(t,n))})):t.writeTree_.children.inorderTraversal((function(t,n){null!=n.value&&e.push(new Tt(t,n.value))})),e}function Je(t,e){if(gt(e))return t;var n=$e(t,e);return new ze(null!=n?new He(n):t.writeTree_.subtree(e))}function Ze(t){return t.writeTree_.isEmpty()}function tn(t,e){return function t(e,n,r){if(null!=n.value)return r.updateChild(e,n.value);var o=null;return n.children.inorderTraversal((function(n,s){".priority"===n?(Object(i.assert)(null!==s.value,"Priority writes must always be leaf nodes"),o=s.value):r=t(mt(e,n),s,r)})),r.getChild(e).isEmpty()||null===o||(r=r.updateChild(mt(e,".priority"),o)),r}(ct(),t.writeTree_,e)}function en(t,e){return fn(e,t)}function nn(t,e){if(t.snap)return _t(t.path,e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&_t(mt(t.path,n),e))return!0;return!1}function rn(t){return t.visible}function on(t,e,n){for(var r=ze.empty(),o=0;o<t.length;++o){var s=t[o];if(e(s)){var a=s.path,c=void 0;if(s.snap)_t(n,a)?r=Ke(r,c=bt(n,a),s.snap):_t(a,n)&&(c=bt(a,n),r=Ke(r,ct(),s.snap.getChild(c)));else{if(!s.children)throw Object(i.assertionError)("WriteRecord should have .snap or .children");if(_t(n,a))r=Ge(r,c=bt(n,a),s.children);else if(_t(a,n))if(gt(c=bt(a,n)))r=Ge(r,ct(),s.children);else{var u=Object(i.safeGet)(s.children,ut(c));if(u){var l=u.getChild(ht(c));r=Ke(r,ct(),l)}}}}}return r}function sn(t,e,n,r,i){if(r||i){var o=Je(t.visibleWrites,e);return!i&&Ze(o)?n:i||null!=n||Qe(o,ct())?tn(on(t.allWrites,(function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(_t(t.path,e)||_t(e,t.path))}),e),n||Jt.EMPTY_NODE):null}var s=$e(t.visibleWrites,e);if(null!=s)return s;var a=Je(t.visibleWrites,e);return Ze(a)?n:null!=n||Qe(a,ct())?tn(a,n||Jt.EMPTY_NODE):null}function an(t,e,n,r){return sn(t.writeTree,t.treePath,e,n,r)}function cn(t,e){return function(t,e,n){var r=Jt.EMPTY_NODE,i=$e(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Kt,(function(t,e){r=r.updateImmediateChild(t,e)})),r;if(n){var o=Je(t.visibleWrites,e);return n.forEachChild(Kt,(function(t,e){var n=tn(Je(o,new at(t)),e);r=r.updateImmediateChild(t,n)})),Xe(o).forEach((function(t){r=r.updateImmediateChild(t.name,t.node)})),r}return Xe(Je(t.visibleWrites,e)).forEach((function(t){r=r.updateImmediateChild(t.name,t.node)})),r}(t.writeTree,t.treePath,e)}function un(t,e,n,r){return function(t,e,n,r,o){Object(i.assert)(r||o,"Either existingEventSnap or existingServerSnap must exist");var s=mt(e,n);if(Qe(t.visibleWrites,s))return null;var a=Je(t.visibleWrites,s);return Ze(a)?o.getChild(n):tn(a,o.getChild(n))}(t.writeTree,t.treePath,e,n,r)}function ln(t,e){return function(t,e){return $e(t.visibleWrites,e)}(t.writeTree,mt(t.treePath,e))}function hn(t,e,n){return function(t,e,n,r){var i=mt(e,n),o=$e(t.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?tn(Je(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function dn(t,e){return fn(mt(t.treePath,e),t.writeTree)}function fn(t,e){return{treePath:t,writeTree:e}}var pn=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;Object(i.assert)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),Object(i.assert)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var o=r.type;if("child_added"===e&&"child_removed"===o)this.changeMap.set(n,de(n,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===o)this.changeMap.delete(n);else if("child_removed"===e&&"child_changed"===o)this.changeMap.set(n,he(n,r.oldSnap));else if("child_changed"===e&&"child_added"===o)this.changeMap.set(n,le(n,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==o)throw Object(i.assertionError)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,de(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),mn=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),gn=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new Me(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return hn(this.writes_,t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:We(this.viewCache_),i=function(t,e,n,r,i,o){return function(t,e,n,r,i,o,s){var a,c=Je(t.visibleWrites,e),u=$e(c,ct());if(null!=u)a=u;else{if(null==n)return[];a=tn(c,n)}if((a=a.withIndex(s)).isEmpty()||a.isLeafNode())return[];for(var l=[],h=s.getCompare(),d=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),f=d.getNext();f&&l.length<1;)0!==h(f,r)&&l.push(f),f=d.getNext();return l}(t.writeTree,t.treePath,e,n,0,i,o)}(this.writes_,r,e,0,n,t);return 0===i.length?null:i[0]},t}();function bn(t,e,n,r,o,s){var a=e.eventCache;if(null!=ln(r,n))return e;var c=void 0,u=void 0;if(gt(n))if(Object(i.assert)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){var l=We(e),h=cn(r,l instanceof Jt?l:Jt.EMPTY_NODE);c=t.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{var d=an(r,We(e));c=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{var f=ut(n);if(".priority"===f){Object(i.assert)(1===lt(n),"Can't have a priority with additional path components");var p=a.getNode(),m=un(r,n,p,u=e.serverCache.getNode());c=null!=m?t.filter.updatePriority(p,m):a.getNode()}else{var g=ht(n),b=void 0;if(a.isCompleteForChild(f)){u=e.serverCache.getNode();var v=un(r,n,a.getNode(),u);b=null!=v?a.getNode().getImmediateChild(f).updateChild(g,v):a.getNode().getImmediateChild(f)}else b=hn(r,f,e.serverCache);c=null!=b?t.filter.updateChild(a.getNode(),f,b,g,o,s):a.getNode()}}return Be(e,c,a.isFullyInitialized()||gt(n),t.filter.filtersNodes())}function vn(t,e,n,r,i,o,s,a){var c,u=e.serverCache,l=s?t.filter:t.filter.getIndexedFilter();if(gt(n))c=l.updateFullNode(u.getNode(),r,null);else if(l.filtersNodes()&&!u.isFiltered()){var h=u.getNode().updateChild(n,r);c=l.updateFullNode(u.getNode(),h,null)}else{var d=ut(n);if(!u.isCompleteForPath(n)&&lt(n)>1)return e;var f=ht(n),p=u.getNode().getImmediateChild(d).updateChild(f,r);c=".priority"===d?l.updatePriority(u.getNode(),p):l.updateChild(u.getNode(),d,p,f,mn,null)}var m=Ue(e,c,u.isFullyInitialized()||gt(n),l.filtersNodes());return bn(t,m,n,i,new gn(i,m,o),a)}function yn(t,e,n,r,i,o,s){var a,c,u=e.eventCache,l=new gn(i,e,o);if(gt(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,s),a=Be(e,c,!0,t.filter.filtersNodes());else{var h=ut(n);if(".priority"===h)c=t.filter.updatePriority(e.eventCache.getNode(),r),a=Be(e,c,u.isFullyInitialized(),u.isFiltered());else{var d=ht(n),f=u.getNode().getImmediateChild(h),p=void 0;if(gt(d))p=r;else{var m=l.getCompleteChild(h);p=null!=m?".priority"===dt(d)&&m.getChild(pt(d)).isEmpty()?m:m.updateChild(d,r):Jt.EMPTY_NODE}a=f.equals(p)?e:Be(e,t.filter.updateChild(u.getNode(),h,p,d,l,s),u.isFullyInitialized(),t.filter.filtersNodes())}}return a}function _n(t,e){return t.eventCache.isCompleteForChild(e)}function wn(t,e,n){return n.foreach((function(t,n){e=e.updateChild(t,n)})),e}function Sn(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;var c,u=e;c=gt(n)?r:new He(null).setTree(n,r);var l=e.serverCache.getNode();return c.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var c=wn(0,e.serverCache.getNode().getImmediateChild(n),r);u=vn(t,u,new at(n),c,i,o,s,a)}})),c.children.inorderTraversal((function(n,r){var c=!e.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!c){var h=wn(0,e.serverCache.getNode().getImmediateChild(n),r);u=vn(t,u,new at(n),h,i,o,s,a)}})),u}var Cn,xn=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n,r=this.query_._queryParams,i=new fe(r.getIndex()),o=(n=r).loadsAllData()?new fe(n.getIndex()):n.hasLimit()?new me(n):new pe(n);this.processor_=function(t){return{filter:t}}(o);var s=e.serverCache,a=e.eventCache,c=i.updateFullNode(Jt.EMPTY_NODE,s.getNode(),null),u=o.updateFullNode(Jt.EMPTY_NODE,a.getNode(),null),l=new Me(c,s.isFullyInitialized(),i.filtersNodes()),h=new Me(u,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Ve(h,l),this.eventGenerator_=new Le(this.query_)}return Object.defineProperty(t.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),t}();function On(t,e){var n=We(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!gt(e)&&!n.getImmediateChild(ut(e)).isEmpty())?n.getChild(e):null}function En(t){return 0===t.eventRegistrations_.length}function kn(t,e,n){var r=[];if(n){Object(i.assert)(null==e,"A cancel should cancel all event registrations.");var o=t.query._path;t.eventRegistrations_.forEach((function(t){var e=t.createCancelEvent(n,o);e&&r.push(e)}))}if(e){for(var s=[],a=0;a<t.eventRegistrations_.length;++a){var c=t.eventRegistrations_[a];if(c.matches(e)){if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(a+1));break}}else s.push(c)}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function Tn(t,e,n,r){e.type===Ie.MERGE&&null!==e.source.queryId&&(Object(i.assert)(We(t.viewCache_),"We should always have a full cache before handling merges"),Object(i.assert)(qe(t.viewCache_),"Missing event cache, even though we have a server cache"));var o,s,a=t.viewCache_,c=function(t,e,n,r,o){var s,a,c=new pn;if(n.type===Ie.OVERWRITE){var u=n;u.source.fromUser?s=yn(t,e,u.path,u.snap,r,o,c):(Object(i.assert)(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!gt(u.path),s=vn(t,e,u.path,u.snap,r,o,a,c))}else if(n.type===Ie.MERGE){var l=n;l.source.fromUser?s=function(t,e,n,r,i,o,s){var a=e;return r.foreach((function(r,c){var u=mt(n,r);_n(e,ut(u))&&(a=yn(t,a,u,c,i,o,s))})),r.foreach((function(r,c){var u=mt(n,r);_n(e,ut(u))||(a=yn(t,a,u,c,i,o,s))})),a}(t,e,l.path,l.children,r,o,c):(Object(i.assert)(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),s=Sn(t,e,l.path,l.children,r,o,a,c))}else if(n.type===Ie.ACK_USER_WRITE){var h=n;s=h.revert?function(t,e,n,r,o,s){var a;if(null!=ln(r,n))return e;var c=new gn(r,e,o),u=e.eventCache.getNode(),l=void 0;if(gt(n)||".priority"===ut(n)){var h=void 0;if(e.serverCache.isFullyInitialized())h=an(r,We(e));else{var d=e.serverCache.getNode();Object(i.assert)(d instanceof Jt,"serverChildren would be complete if leaf node"),h=cn(r,d)}l=t.filter.updateFullNode(u,h=h,s)}else{var f=ut(n),p=hn(r,f,e.serverCache);null==p&&e.serverCache.isCompleteForChild(f)&&(p=u.getImmediateChild(f)),(l=null!=p?t.filter.updateChild(u,f,p,ht(n),c,s):e.eventCache.getNode().hasChild(f)?t.filter.updateChild(u,f,Jt.EMPTY_NODE,ht(n),c,s):u).isEmpty()&&e.serverCache.isFullyInitialized()&&(a=an(r,We(e))).isLeafNode()&&(l=t.filter.updateFullNode(l,a,s))}return a=e.serverCache.isFullyInitialized()||null!=ln(r,ct()),Be(e,l,a,t.filter.filtersNodes())}(t,e,h.path,r,o,c):function(t,e,n,r,i,o,s){if(null!=ln(i,n))return e;var a=e.serverCache.isFiltered(),c=e.serverCache;if(null!=r.value){if(gt(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return vn(t,e,n,c.getNode().getChild(n),i,o,a,s);if(gt(n)){var u=new He(null);return c.getNode().forEachChild(At,(function(t,e){u=u.set(new at(t),e)})),Sn(t,e,n,u,i,o,a,s)}return e}var l=new He(null);return r.foreach((function(t,e){var r=mt(n,t);c.isCompleteForPath(r)&&(l=l.set(t,c.getNode().getChild(r)))})),Sn(t,e,n,l,i,o,a,s)}(t,e,h.path,h.affectedTree,r,o,c)}else{if(n.type!==Ie.LISTEN_COMPLETE)throw Object(i.assertionError)("Unknown operation type: "+n.type);s=function(t,e,n,r,i){var o=e.serverCache;return bn(t,Ue(e,o.getNode(),o.isFullyInitialized()||gt(n),o.isFiltered()),n,r,mn,i)}(t,e,n.path,r,c)}var d=c.getChanges();return function(t,e,n){var r=e.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=qe(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(ue(qe(e)))}}(e,s,d),{viewCache:s,changes:d}}(t.processor_,a,e,n,r);return o=t.processor_,s=c.viewCache,Object(i.assert)(s.eventCache.getNode().isIndexed(o.filter.getIndex()),"Event snap not indexed"),Object(i.assert)(s.serverCache.getNode().isIndexed(o.filter.getIndex()),"Server snap not indexed"),Object(i.assert)(c.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=c.viewCache,In(t,c.changes,c.viewCache.eventCache.getNode(),null)}function In(t,e,n,r){return function(t,e,n,r){var i=[],o=[];return e.forEach((function(e){"child_changed"===e.type&&t.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&o.push({type:"child_moved",snapshotNode:e.snapshotNode,childName:e.childName})})),Fe(t,i,"child_removed",e,r,n),Fe(t,i,"child_added",e,r,n),Fe(t,i,"child_moved",o,r,n),Fe(t,i,"child_changed",e,r,n),Fe(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,r?[r]:t.eventRegistrations_)}var Rn,An=function(){return function(){this.views=new Map}}();function Pn(t,e,n,r){var s,a,c=e.source.queryId;if(null!==c){var u=t.views.get(c);return Object(i.assert)(null!=u,"SyncTree gave us an op for an invalid query."),Tn(u,e,n,r)}var l=[];try{for(var h=Object(o.__values)(t.views.values()),d=h.next();!d.done;d=h.next())l=l.concat(Tn(u=d.value,e,n,r))}catch(f){s={error:f}}finally{try{d&&!d.done&&(a=h.return)&&a.call(h)}finally{if(s)throw s.error}}return l}function Dn(t,e,n,r,i){var o=t.views.get(e._queryIdentifier);if(!o){var s=an(n,i?r:null),a=!1;s?a=!0:r instanceof Jt?(s=cn(n,r),a=!1):(s=Jt.EMPTY_NODE,a=!1);var c=Ve(new Me(s,a,!1),new Me(r,i,!1));return new xn(e,c)}return o}function jn(t){var e,n,r=[];try{for(var i=Object(o.__values)(t.views.values()),s=i.next();!s.done;s=i.next()){var a=s.value;a.query._queryParams.loadsAllData()||r.push(a)}}catch(c){e={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function Nn(t,e){var n,r,i=null;try{for(var s=Object(o.__values)(t.views.values()),a=s.next();!a.done;a=s.next())i=i||On(a.value,e)}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return i}function Mn(t,e){return e._queryParams.loadsAllData()?Vn(t):t.views.get(e._queryIdentifier)}function Ln(t,e){return null!=Mn(t,e)}function Fn(t){return null!=Vn(t)}function Vn(t){var e,n;try{for(var r=Object(o.__values)(t.views.values()),i=r.next();!i.done;i=r.next()){var s=i.value;if(s.query._queryParams.loadsAllData())return s}}catch(a){e={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null}var Bn=1,Un=function(){return function(t){this.listenProvider_=t,this.syncPointTree_=new He(null),this.pendingWriteTree_={visibleWrites:ze.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}();function qn(t,e,n,r,o){return function(t,e,n,r,o){Object(i.assert)(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===o&&(o=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:o}),o&&(t.visibleWrites=Ke(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,o),o?Yn(t,new je({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function Wn(t,e,n){void 0===n&&(n=!1);var r=function(t,e){for(var n=0;n<t.allWrites.length;n++){var r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(function(t,e){var n=t.allWrites.findIndex((function(t){return t.writeId===e}));Object(i.assert)(n>=0,"removeWrite called with nonexistent writeId.");var r=t.allWrites[n];t.allWrites.splice(n,1);for(var o=r.visible,s=!1,a=t.allWrites.length-1;o&&a>=0;){var c=t.allWrites[a];c.visible&&(a>=n&&nn(c,r.path)?o=!1:_t(r.path,c.path)&&(s=!0)),a--}return!!o&&(s?(function(t){t.visibleWrites=on(t.allWrites,rn,ct()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(r.snap?t.visibleWrites=Ye(t.visibleWrites,r.path):N(r.children,(function(e){t.visibleWrites=Ye(t.visibleWrites,mt(r.path,e))})),!0))}(t.pendingWriteTree_,e)){var o=new He(null);return null!=r.snap?o=o.set(ct(),!0):N(r.children,(function(t){o=o.set(new at(t),!0)})),Yn(t,new Pe(r.path,o,n))}return[]}function Hn(t,e,n){return Yn(t,new je({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function zn(t,e,n,r){var s=e._path,a=t.syncPointTree_.get(s),c=[];if(a&&("default"===e._queryIdentifier||Ln(a,e))){var u=function(t,e,n,r){var s,a,c=e._queryIdentifier,u=[],l=[],h=Fn(t);if("default"===c)try{for(var d=Object(o.__values)(t.views.entries()),f=d.next();!f.done;f=d.next()){var p,m=Object(o.__read)(f.value,2),g=m[0];l=l.concat(kn(p=m[1],n,r)),En(p)&&(t.views.delete(g),p.query._queryParams.loadsAllData()||u.push(p.query))}}catch(b){s={error:b}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(s)throw s.error}}else(p=t.views.get(c))&&(l=l.concat(kn(p,n,r)),En(p)&&(t.views.delete(c),p.query._queryParams.loadsAllData()||u.push(p.query)));return h&&!Fn(t)&&u.push(new(Object(i.assert)(Cn,"Reference.ts has not been loaded"),Cn)(e._repo,e._path)),{removed:u,events:l}}(a,e,n,r);0===a.views.size&&(t.syncPointTree_=t.syncPointTree_.remove(s));var l=u.removed;c=u.events;var h=-1!==l.findIndex((function(t){return t._queryParams.loadsAllData()})),d=t.syncPointTree_.findOnPath(s,(function(t,e){return Fn(e)}));if(h&&!d){var f=t.syncPointTree_.subtree(s);if(!f.isEmpty())for(var p=function(t){return t.fold((function(t,e,n){if(e&&Fn(e))return[Vn(e)];var r=[];return e&&(r=jn(e)),N(n,(function(t,e){r=r.concat(e)})),r}))}(f),m=0;m<p.length;++m){var g=p[m],b=g.query,v=Qn(t,g);t.listenProvider_.startListening(er(b),$n(t,b),v.hashFn,v.onComplete)}}!d&&l.length>0&&!r&&(h?t.listenProvider_.stopListening(er(e),null):l.forEach((function(e){var n=t.queryToTagMap.get(Xn(e));t.listenProvider_.stopListening(er(e),n)}))),function(t,e){for(var n=0;n<e.length;++n){var r=e[n];if(!r._queryParams.loadsAllData()){var i=Xn(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}(t,l)}return c}function Kn(t,e,n){var r=e._path,o=null,s=!1;t.syncPointTree_.foreachOnPath(r,(function(t,e){var n=bt(t,r);o=o||Nn(e,n),s=s||Fn(e)}));var a,c=t.syncPointTree_.get(r);c?(s=s||Fn(c),o=o||Nn(c,ct())):(c=new An,t.syncPointTree_=t.syncPointTree_.set(r,c)),null!=o?a=!0:(a=!1,o=Jt.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild((function(t,e){var n=Nn(e,ct());n&&(o=o.updateImmediateChild(t,n))})));var u=Ln(c,e);if(!u&&!e._queryParams.loadsAllData()){var l=Xn(e);Object(i.assert)(!t.queryToTagMap.has(l),"View does not exist, but we have a tag");var h=Bn++;t.queryToTagMap.set(l,h),t.tagToQueryMap.set(h,l)}var d=function(t,e,n,r,i,o){var s=Dn(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),function(t,e){t.eventRegistrations_.push(e)}(s,n),function(t,e){var n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Kt,(function(t,e){r.push(le(t,e))})),n.isFullyInitialized()&&r.push(ue(n.getNode())),In(t,r,n.getNode(),e)}(s,n)}(c,e,n,en(t.pendingWriteTree_,r),o,a);if(!u&&!s){var f=Mn(c,e);d=d.concat(function(t,e,n){var r=e._path,o=$n(t,e),s=Qn(t,n),a=t.listenProvider_.startListening(er(e),o,s.hashFn,s.onComplete),c=t.syncPointTree_.subtree(r);if(o)Object(i.assert)(!Fn(c.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=c.fold((function(t,e,n){if(!gt(t)&&e&&Fn(e))return[Vn(e).query];var r=[];return e&&(r=r.concat(jn(e).map((function(t){return t.query})))),N(n,(function(t,e){r=r.concat(e)})),r})),l=0;l<u.length;++l){var h=u[l];t.listenProvider_.stopListening(er(h),$n(t,h))}return a}(t,e,f))}return d}function Gn(t,e,n){var r=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(function(t,n){var r=Nn(n,bt(t,e));if(r)return r}));return sn(r,e,i,n,!0)}function Yn(t,e){return function t(e,n,r,i){if(gt(e.path))return function t(e,n,r,i){var o=n.get(ct());null==r&&null!=o&&(r=Nn(o,ct()));var s=[];return n.children.inorderTraversal((function(n,o){var a=r?r.getImmediateChild(n):null,c=dn(i,n),u=e.operationForChild(n);u&&(s=s.concat(t(u,o,a,c)))})),o&&(s=s.concat(Pn(o,e,i,r))),s}(e,n,r,i);var o=n.get(ct());null==r&&null!=o&&(r=Nn(o,ct()));var s=[],a=ut(e.path),c=e.operationForChild(a),u=n.children.get(a);if(u&&c){var l=r?r.getImmediateChild(a):null,h=dn(i,a);s=s.concat(t(c,u,l,h))}return o&&(s=s.concat(Pn(o,e,i,r))),s}(e,t.syncPointTree_,null,en(t.pendingWriteTree_,ct()))}function Qn(t,e){var n=e.query,r=$n(t,n);return{hashFn:function(){return(function(t){return t.viewCache_.serverCache.getNode()}(e)||Jt.EMPTY_NODE).hash()},onComplete:function(e){if("ok"===e)return r?function(t,e,n){var r=Jn(t,n);if(r){var i=Zn(r),o=i.path,s=i.queryId,a=bt(o,e);return tr(t,o,new De(Re(s),a))}return[]}(t,n._path,r):function(t,e){return Yn(t,new De({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(t,n._path);var i=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}(e,n);return zn(t,n,null,i)}}}function $n(t,e){var n=Xn(e);return t.queryToTagMap.get(n)}function Xn(t){return t._path.toString()+"$"+t._queryIdentifier}function Jn(t,e){return t.tagToQueryMap.get(e)}function Zn(t){var e=t.indexOf("$");return Object(i.assert)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new at(t.substr(0,e))}}function tr(t,e,n){var r=t.syncPointTree_.get(e);return Object(i.assert)(r,"Missing sync point for query tag that we're tracking"),Pn(r,n,en(t.pendingWriteTree_,e),null)}function er(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Object(i.assert)(Rn,"Reference.ts has not been loaded"),Rn)(t._repo,t._path):t}var nr=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),rr=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=mt(this.path_,e);return new t(this.syncTree_,n)},t.prototype.node=function(){return Gn(this.syncTree_,this.path_)},t}(),ir=function(t,e,n){return t&&"object"==typeof t?(Object(i.assert)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?or(t[".sv"],e,n):"object"==typeof t[".sv"]?sr(t[".sv"],e):void Object(i.assert)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},or=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Object(i.assert)(!1,"Unexpected server value: "+t)}},sr=function(t,e,n){t.hasOwnProperty("increment")||Object(i.assert)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;"number"!=typeof r&&Object(i.assert)(!1,"Unexpected increment value: "+r);var o=e.node();if(Object(i.assert)(null!=o,"Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;var s=o.getValue();return"number"!=typeof s?r:s+r},ar=function(t,e,n,r){return ur(e,new rr(n,t),r)},cr=function(t,e,n){return ur(t,new nr(e),n)};function ur(t,e,n){var r,i=t.getPriority().val(),o=ir(i,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var s=t,a=ir(s.getValue(),e,n);return a!==s.getValue()||o!==s.getPriority().val()?new zt(a,te(o)):t}var c=t;return r=c,o!==c.getPriority().val()&&(r=r.updatePriority(new zt(o))),c.forEachChild(Kt,(function(t,i){var o=ur(i,e.getImmediateChild(t),n);o!==i&&(r=r.updateImmediateChild(t,o))})),r}var lr=function(){return function(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n={children:{},childCount:0}),this.name=t,this.parent=e,this.node=n}}();function hr(t,e){for(var n=e instanceof at?e:new at(e),r=t,o=ut(n);null!==o;){var s=Object(i.safeGet)(r.node.children,o)||{children:{},childCount:0};r=new lr(o,r,s),o=ut(n=ht(n))}return r}function dr(t){return t.node.value}function fr(t,e){t.node.value=e,function t(e){null!==e.parent&&function(e,n,r){var o=function(t){return void 0===dr(t)&&!pr(t)}(r),s=Object(i.contains)(e.node.children,n);o&&s?(delete e.node.children[n],e.node.childCount--,t(e)):o||s||(e.node.children[n]=r.node,e.node.childCount++,t(e))}(e.parent,e.name,e)}(t)}function pr(t){return t.node.childCount>0}function mr(t,e){N(t.node.children,(function(n,r){e(new lr(n,t,r))}))}function gr(t){return new at(null===t.parent?t.name:gr(t.parent)+"/"+t.name)}var br=/[\[\].#$\/\u0000-\u001F\u007F]/,vr=/[\[\].#$\u0000-\u001F\u007F]/,yr=function(t){return"string"==typeof t&&0!==t.length&&!br.test(t)},_r=function(t){return"string"==typeof t&&0!==t.length&&!vr.test(t)},wr=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!k(t)||t&&"object"==typeof t&&Object(i.contains)(t,".sv")},Sr=function(t,e,n,r){r&&void 0===e||Cr(Object(i.errorPrefix)(t,"value"),e,n)},Cr=function(t,e,n){var r=n instanceof at?new wt(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+Ct(r));if("function"==typeof e)throw new Error(t+"contains a function "+Ct(r)+" with contents = "+e.toString());if(k(e))throw new Error(t+"contains "+e.toString()+" "+Ct(r));if("string"==typeof e&&e.length>10485760/3&&Object(i.stringLength)(e)>10485760)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+Ct(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var o=!1,s=!1;if(N(e,(function(e,n){if(".value"===e)o=!0;else if(".priority"!==e&&".sv"!==e&&(s=!0,!yr(e)))throw new Error(t+" contains an invalid key ("+e+") "+Ct(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var a,c;!function(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Object(i.stringLength)(e),St(t)}(r,e),Cr(t,n,r),c=(a=r).parts_.pop(),a.byteLength_-=Object(i.stringLength)(c),a.parts_.length>0&&(a.byteLength_-=1)})),o&&s)throw new Error(t+' contains ".value" child '+Ct(r)+" in addition to actual children.")}},xr=function(t,e,n,r){if(!r||void 0!==e){var o=Object(i.errorPrefix)(t,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(o+" must be an object containing the children to replace.");var s=[];N(e,(function(t,e){var r=new at(t);if(Cr(o,e,mt(n,r)),".priority"===dt(r)&&!wr(e))throw new Error(o+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(r)})),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=ft(r=e[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!yr(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(vt);var s=null;for(n=0;n<e.length;n++){if(r=e[n],null!==s&&_t(s,r))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}}(o,s)}},Or=function(t,e,n){if(!n||void 0!==e){if(k(e))throw new Error(Object(i.errorPrefix)(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!wr(e))throw new Error(Object(i.errorPrefix)(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Er=function(t,e,n){if(!n||void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Object(i.errorPrefix)(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},kr=function(t,e,n,r){if(!(r&&void 0===n||yr(n)))throw new Error(Object(i.errorPrefix)(t,e)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Tr=function(t,e,n,r){if(!(r&&void 0===n||_r(n)))throw new Error(Object(i.errorPrefix)(t,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Ir=function(t,e){if(".info"===ut(e))throw new Error(t+" failed = Can't modify data under /.info/")},Rr=function(t,e){var n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!yr(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),_r(t)}(n))throw new Error(Object(i.errorPrefix)(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Ar=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(Object(i.errorPrefix)(t,e)+"must be a boolean.")},Pr=function(){return function(){this.eventLists_=[],this.recursionDepth_=0}}();function Dr(t,e){for(var n=null,r=0;r<e.length;r++){var i=e[r],o=i.getPath();null===n||yt(o,n.path)||(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function jr(t,e,n){Dr(t,n),Mr(t,(function(t){return yt(t,e)}))}function Nr(t,e,n){Dr(t,n),Mr(t,(function(t){return _t(t,e)||_t(e,t)}))}function Mr(t,e){t.recursionDepth_++;for(var n=!0,r=0;r<t.eventLists_.length;r++){var i=t.eventLists_[r];i&&(e(i.path)?(Lr(t.eventLists_[r]),t.eventLists_[r]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}function Lr(t){for(var e=0;e<t.events.length;e++){var n=t.events[e];if(null!==n){t.events[e]=null;var r=n.getEventRunner();y&&S("event: "+n.toString()),V(r)}}}var Fr=function(){function t(t,e,n,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Pr,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=xe(),this.transactionQueueTree_=new lr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t}();function Vr(t){var e=t.infoData_.getNode(new at(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Br(t){return(e=(e={timestamp:Vr(t)})||{}).timestamp=e.timestamp||(new Date).getTime(),e;var e}function Ur(t,e,n,r,o){t.dataUpdateCount++;var s=new at(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;var a=[];if(o)if(r){var c=Object(i.map)(n,(function(t){return te(t)}));a=function(t,e,n,r){var i=Jn(t,r);if(i){var o=Zn(i),s=o.path,a=o.queryId,c=bt(s,e),u=He.fromObject(n);return tr(t,s,new Ne(Re(a),c,u))}return[]}(t.serverSyncTree_,s,c,o)}else{var u=te(n);a=function(t,e,n,r){var i=Jn(t,r);if(null!=i){var o=Zn(i),s=o.path,a=o.queryId,c=bt(s,e);return tr(t,s,new je(Re(a),c,n))}return[]}(t.serverSyncTree_,s,u,o)}else if(r){var l=Object(i.map)(n,(function(t){return te(t)}));a=function(t,e,n){var r=He.fromObject(n);return Yn(t,new Ne({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,s,l)}else{var h=te(n);a=Hn(t.serverSyncTree_,s,h)}var d=s;a.length>0&&(d=Zr(t,s)),Nr(t.eventQueue_,d,a)}function qr(t,e){Wr(t,"connected",e),!1===e&&function(t){Qr(t,"onDisconnectEvents");var e=Br(t),n=xe();Ee(t.onDisconnect_,ct(),(function(r,i){var o=ar(r,i,t.serverSyncTree_,e);Oe(n,r,o)}));var r=[];Ee(n,ct(),(function(e,n){r=r.concat(Hn(t.serverSyncTree_,e,n));var i=ri(t,e);Zr(t,i)})),t.onDisconnect_=xe(),Nr(t.eventQueue_,ct(),r)}(t)}function Wr(t,e,n){var r=new at("/.info/"+e),i=te(n);t.infoData_.updateSnapshot(r,i);var o=Hn(t.infoSyncTree_,r,i);Nr(t.eventQueue_,r,o)}function Hr(t){return t.nextWriteId_++}function zr(t,e,n,r,i){Qr(t,"set",{path:e.toString(),value:n,priority:r});var o=Br(t),s=te(n,r),a=Gn(t.serverSyncTree_,e),c=cr(s,a,o),u=Hr(t),l=qn(t.serverSyncTree_,e,c,u,!0);Dr(t.eventQueue_,l),t.server_.put(e.toString(),s.val(!0),(function(n,r){var o="ok"===n;o||E("set at "+e+" failed: "+n);var s=Wn(t.serverSyncTree_,u,!o);Nr(t.eventQueue_,e,s),$r(0,i,n,r)}));var h=ri(t,e);Zr(t,h),Nr(t.eventQueue_,h,[])}function Kr(t,e,n,r){var i=te(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),(function(n,o){"ok"===n&&Oe(t.onDisconnect_,e,i),$r(0,r,n,o)}))}function Gr(t,e,n){var r;r=".info"===ut(e._path)?zn(t.infoSyncTree_,e,n):zn(t.serverSyncTree_,e,n),jr(t.eventQueue_,e._path,r)}function Yr(t){t.persistentConnection_&&t.persistentConnection_.interrupt("repo_interrupt")}function Qr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r="";t.persistentConnection_&&(r=t.persistentConnection_.id+":"),S.apply(void 0,Object(o.__spreadArray)([r],Object(o.__read)(e)))}function $r(t,e,n,r){e&&V((function(){if("ok"===n)e(null);else{var t=(n||"error").toUpperCase(),i=t;r&&(i+=": "+r);var o=new Error(i);o.code=t,e(o)}}))}function Xr(t,e,n){return Gn(t.serverSyncTree_,e,n)||Jt.EMPTY_NODE}function Jr(t,e){if(void 0===e&&(e=t.transactionQueueTree_),e||ni(t,e),dr(e)){var n=ei(t,e);Object(i.assert)(n.length>0,"Sending zero length transaction queue"),n.every((function(t){return 0===t.status}))&&function(t,e,n){for(var r=n.map((function(t){return t.currentWriteId})),o=Xr(t,e,r),s=o,a=o.hash(),c=0;c<n.length;c++){var u=n[c];Object(i.assert)(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var l=bt(e,u.path);s=s.updateChild(l,u.currentOutputSnapshotRaw)}var h=s.val(!0),d=e;t.server_.put(d.toString(),h,(function(r){Qr(t,"transaction put response",{path:d.toString(),status:r});var i=[];if("ok"===r){for(var o=[],s=function(e){n[e].status=2,i=i.concat(Wn(t.serverSyncTree_,n[e].currentWriteId)),n[e].onComplete&&o.push((function(){return n[e].onComplete(null,!0,n[e].currentOutputSnapshotResolved)})),n[e].unwatcher()},a=0;a<n.length;a++)s(a);for(ni(t,hr(t.transactionQueueTree_,e)),Jr(t,t.transactionQueueTree_),Nr(t.eventQueue_,e,i),a=0;a<o.length;a++)V(o[a])}else{if("datastale"===r)for(a=0;a<n.length;a++)n[a].status=3===n[a].status?4:0;else for(E("transaction at "+d.toString()+" failed: "+r),a=0;a<n.length;a++)n[a].status=4,n[a].abortReason=r;Zr(t,e)}}),a)}(t,gr(e),n)}else pr(e)&&mr(e,(function(e){Jr(t,e)}))}function Zr(t,e){var n=ti(t,e),r=gr(n);return function(t,e,n){if(0!==e.length){for(var r=[],o=[],s=e.filter((function(t){return 0===t.status})).map((function(t){return t.currentWriteId})),a=function(a){var c,u=e[a],l=bt(n,u.path),h=!1;if(Object(i.assert)(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)h=!0,c=u.abortReason,o=o.concat(Wn(t.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=25)h=!0,c="maxretry",o=o.concat(Wn(t.serverSyncTree_,u.currentWriteId,!0));else{var d=Xr(t,u.path,s);u.currentInputSnapshot=d;var f=e[a].update(d.val());if(void 0!==f){Cr("transaction failed: Data returned ",f,u.path);var p=te(f);"object"==typeof f&&null!=f&&Object(i.contains)(f,".priority")||(p=p.updatePriority(d.getPriority()));var m=u.currentWriteId,g=Br(t),b=cr(p,d,g);u.currentOutputSnapshotRaw=p,u.currentOutputSnapshotResolved=b,u.currentWriteId=Hr(t),s.splice(s.indexOf(m),1),o=(o=o.concat(qn(t.serverSyncTree_,u.path,b,u.currentWriteId,u.applyLocally))).concat(Wn(t.serverSyncTree_,m,!0))}else h=!0,c="nodata",o=o.concat(Wn(t.serverSyncTree_,u.currentWriteId,!0))}Nr(t.eventQueue_,n,o),o=[],h&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===c?function(){return e[a].onComplete(null,!1,e[a].currentInputSnapshot)}:function(){return e[a].onComplete(new Error(c),!1,null)}))},c=0;c<e.length;c++)a(c);for(ni(t,t.transactionQueueTree_),c=0;c<r.length;c++)V(r[c]);Jr(t,t.transactionQueueTree_)}}(t,ei(t,n),r),r}function ti(t,e){var n,r=t.transactionQueueTree_;for(n=ut(e);null!==n&&void 0===dr(r);)r=hr(r,n),n=ut(e=ht(e));return r}function ei(t,e){var n=[];return function t(e,n,r){var i=dr(n);if(i)for(var o=0;o<i.length;o++)r.push(i[o]);mr(n,(function(n){t(e,n,r)}))}(t,e,n),n.sort((function(t,e){return t.order-e.order})),n}function ni(t,e){var n=dr(e);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,fr(e,n.length>0?n:void 0)}mr(e,(function(e){ni(t,e)}))}function ri(t,e){var n=gr(ti(t,e)),r=hr(t.transactionQueueTree_,e);return function(t,e,n){for(var r=t.parent;null!==r;){if(e(r))return!0;r=r.parent}}(r,(function(e){ii(t,e)})),ii(t,r),function t(e,n,r,i){r&&!i&&n(e),mr(e,(function(e){t(e,n,!0,i)})),r&&i&&n(e)}(r,(function(e){ii(t,e)})),n}function ii(t,e){var n=dr(e);if(n){for(var r=[],o=[],s=-1,a=0;a<n.length;a++)3===n[a].status||(1===n[a].status?(Object(i.assert)(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):(Object(i.assert)(0===n[a].status,"Unexpected transaction status in abort"),n[a].unwatcher(),o=o.concat(Wn(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));for(-1===s?fr(e,void 0):n.length=s+1,Nr(t.eventQueue_,gr(e),o),a=0;a<r.length;a++)V(r[a])}}var oi=function(t,e){var n=si(t),r=n.namespace;return"firebase.com"===n.domain&&O(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||O("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&E("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new z(n.host,n.secure,r,e,"ws"===n.scheme||"wss"===n.scheme,"",r!==n.subdomain),path:new at(n.pathString)}},si=function(t){var e="",n="",r="",i="",s="",a=!0,c="https",u=443;if("string"==typeof t){var l=t.indexOf("//");l>=0&&(c=t.substring(0,l-1),t=t.substring(l+2));var h=t.indexOf("/");-1===h&&(h=t.length);var d=t.indexOf("?");-1===d&&(d=t.length),e=t.substring(0,Math.min(h,d)),h<d&&(i=function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}e+="/"+i}return e}(t.substring(h,d)));var f=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var i=Object(o.__values)(t.split("&")),s=i.next();!s.done;s=i.next()){var a=s.value;if(0!==a.length){var c=a.split("=");2===c.length?r[decodeURIComponent(c[0])]=decodeURIComponent(c[1]):E("Invalid query segment '"+a+"' in query '"+t+"'")}}}catch(u){e={error:u}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,d)));(l=e.indexOf(":"))>=0?(a="https"===c||"wss"===c,u=parseInt(e.substring(l+1),10)):l=e.length;var p=e.slice(0,l);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var m=e.indexOf(".");r=e.substring(0,m).toLowerCase(),n=e.substring(m+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:a,scheme:c,pathString:i,namespace:s}},ai=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Object(i.stringify)(this.snapshot.exportVal())},t}(),ci=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),ui=function(){function t(t,e){this.snapshotCallback=t,this.cancelCallback=e}return t.prototype.onValue=function(t,e){this.snapshotCallback.call(null,t,e)},t.prototype.onCancel=function(t){return Object(i.assert)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)},Object.defineProperty(t.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),t.prototype.matches=function(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context},t}(),li=function(){function t(t,e){this._repo=t,this._path=e}return t.prototype.cancel=function(){var t,e,n,r=new i.Deferred;return t=this._repo,e=this._path,n=r.wrapCallback((function(){})),t.server_.onDisconnectCancel(e.toString(),(function(r,i){"ok"===r&&function t(e,n){if(gt(n))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var r=e.value;return e.value=null,r.forEachChild(Kt,(function(t,n){Oe(e,new at(t),n)})),t(e,n)}if(e.children.size>0){var i=ut(n);return n=ht(n),e.children.has(i)&&t(e.children.get(i),n)&&e.children.delete(i),0===e.children.size}return!0}(t.onDisconnect_,e),$r(0,n,r,i)})),r.promise},t.prototype.remove=function(){Ir("OnDisconnect.remove",this._path);var t=new i.Deferred;return Kr(this._repo,this._path,null,t.wrapCallback((function(){}))),t.promise},t.prototype.set=function(t){Ir("OnDisconnect.set",this._path),Sr("OnDisconnect.set",t,this._path,!1);var e=new i.Deferred;return Kr(this._repo,this._path,t,e.wrapCallback((function(){}))),e.promise},t.prototype.setWithPriority=function(t,e){Ir("OnDisconnect.setWithPriority",this._path),Sr("OnDisconnect.setWithPriority",t,this._path,!1),Or("OnDisconnect.setWithPriority",e,!1);var n=new i.Deferred;return function(t,e,n,r,i){var o=te(n,r);t.server_.onDisconnectPut(e.toString(),o.val(!0),(function(n,r){"ok"===n&&Oe(t.onDisconnect_,e,o),$r(0,i,n,r)}))}(this._repo,this._path,t,e,n.wrapCallback((function(){}))),n.promise},t.prototype.update=function(t){Ir("OnDisconnect.update",this._path),xr("OnDisconnect.update",t,this._path,!1);var e=new i.Deferred;return function(t,e,n,r){if(Object(i.isEmpty)(n))return S("onDisconnect().update() called with empty data.  Don't do anything."),void $r(0,r,"ok",void 0);t.server_.onDisconnectMerge(e.toString(),n,(function(i,o){"ok"===i&&N(n,(function(n,r){var i=te(r);Oe(t.onDisconnect_,mt(e,n),i)})),$r(0,r,i,o)}))}(this._repo,this._path,t,e.wrapCallback((function(){}))),e.promise},t}(),hi=function(){function t(t,e,n,r){this._repo=t,this._path=e,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(t.prototype,"key",{get:function(){return gt(this._path)?null:dt(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new mi(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryIdentifier",{get:function(){var t=we(this._queryParams),e=D(t);return"{}"===e?"default":e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryObject",{get:function(){return we(this._queryParams)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!((e=Object(i.getModularInstance)(e))instanceof t))return!1;var n=this._repo===e._repo,r=yt(this._path,e._path);return n&&r&&this._queryIdentifier===e._queryIdentifier},t.prototype.toJSON=function(){return this.toString()},t.prototype.toString=function(){return this._repo.toString()+function(t){for(var e="",n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)},t}();function di(t,e){if(!0===t._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function fi(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===At){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==T)throw new Error(r);if("string"!=typeof e)throw new Error(o)}if(t.hasEnd()){if(t.getIndexEndName()!==I)throw new Error(r);if("string"!=typeof n)throw new Error(o)}}else if(t.getIndex()===Kt){if(null!=e&&!wr(e)||null!=n&&!wr(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Object(i.assert)(t.getIndex()instanceof re||t.getIndex()===ie,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function pi(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var mi=function(t){function e(e,n){return t.call(this,e,n,new ge,!1)||this}return Object(o.__extends)(e,t),Object.defineProperty(e.prototype,"parent",{get:function(){var t=pt(this._path);return null===t?null:new e(this._repo,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){for(var t=this;null!==t.parent;)t=t.parent;return t},enumerable:!1,configurable:!0}),e}(hi),gi=function(){function t(t,e,n){this._node=t,this.ref=e,this._index=n}return Object.defineProperty(t.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),t.prototype.child=function(e){var n=new at(e),r=yi(this.ref,e);return new t(this._node.getChild(n),r,Kt)},t.prototype.exists=function(){return!this._node.isEmpty()},t.prototype.exportVal=function(){return this._node.val(!0)},t.prototype.forEach=function(e){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return e(new t(i,yi(n.ref,r),Kt))}))},t.prototype.hasChild=function(t){var e=new at(t);return!this._node.getChild(e).isEmpty()},t.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},t.prototype.toJSON=function(){return this.exportVal()},t.prototype.val=function(){return this._node.val()},t}();function bi(t,e){return(t=Object(i.getModularInstance)(t))._checkNotDeleted("ref"),void 0!==e?yi(t._root,e):t._root}function vi(t,e){(t=Object(i.getModularInstance)(t))._checkNotDeleted("refFromURL");var n=oi(e,t._repo.repoInfo_.nodeAdmin);Rr("refFromURL",n);var r=n.repoInfo;return t._repo.repoInfo_.isCustomHost()||r.host===t._repo.repoInfo_.host||O("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),bi(t,n.path.toString())}function yi(t,e){var n;return null===ut((t=Object(i.getModularInstance)(t))._path)?((n=e)&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Tr("child","path",n,!1)):Tr("child","path",e,!1),new mi(t._repo,mt(t._path,e))}function _i(t,e){t=Object(i.getModularInstance)(t),Ir("push",t._path),Sr("push",e,t._path,!0);var n,r=Vr(t._repo),o=se(r),s=yi(t,o),a=yi(t,o);return n=null!=e?Si(a,e).then((function(){return a})):Promise.resolve(a),s.then=n.then.bind(n),s.catch=n.then.bind(n,void 0),s}function wi(t){return Ir("remove",t._path),Si(t,null)}function Si(t,e){t=Object(i.getModularInstance)(t),Ir("set",t._path),Sr("set",e,t._path,!1);var n=new i.Deferred;return zr(t._repo,t._path,e,null,n.wrapCallback((function(){}))),n.promise}function Ci(t,e){t=Object(i.getModularInstance)(t),Ir("setPriority",t._path),Or("setPriority",e,!1);var n=new i.Deferred;return zr(t._repo,mt(t._path,".priority"),e,null,n.wrapCallback((function(){}))),n.promise}function xi(t,e,n){if(Ir("setWithPriority",t._path),Sr("setWithPriority",e,t._path,!1),Or("setWithPriority",n,!1),".length"===t.key||".keys"===t.key)throw"setWithPriority failed: "+t.key+" is a read-only object.";var r=new i.Deferred;return zr(t._repo,t._path,e,n,r.wrapCallback((function(){}))),r.promise}function Oi(t,e){xr("update",e,t._path,!1);var n=new i.Deferred;return function(t,e,n,r){Qr(t,"update",{path:e.toString(),value:n});var o=!0,s=Br(t),a={};if(N(n,(function(n,r){o=!1,a[n]=ar(mt(e,n),te(r),t.serverSyncTree_,s)})),o)S("update() called with empty data.  Don't do anything."),$r(0,r,"ok",void 0);else{var c=Hr(t),u=function(t,e,n,r){!function(t,e,n,r){Object(i.assert)(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Ge(t.visibleWrites,e,n),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r);var o=He.fromObject(n);return Yn(t,new Ne({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,o))}(t.serverSyncTree_,e,a,c);Dr(t.eventQueue_,u),t.server_.merge(e.toString(),n,(function(n,i){var o="ok"===n;o||E("update at "+e+" failed: "+n);var s=Wn(t.serverSyncTree_,c,!o),a=s.length>0?Zr(t,e):e;Nr(t.eventQueue_,a,s),$r(0,r,n,i)})),N(n,(function(n){var r=ri(t,mt(e,n));Zr(t,r)})),Nr(t.eventQueue_,e,[])}}(t._repo,t._path,e,n.wrapCallback((function(){}))),n.promise}var Ei=function(){function t(t){this.callbackContext=t}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e._queryParams.getIndex();return new ai("value",this,new gi(t.snapshotNode,new mi(e._repo,e._path),n))},t.prototype.getEventRunner=function(t){var e=this;return"cancel"===t.getEventType()?function(){return e.callbackContext.onCancel(t.error)}:function(){return e.callbackContext.onValue(t.snapshot,null)}},t.prototype.createCancelEvent=function(t,e){return this.callbackContext.hasCancelCallback?new ci(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))},t.prototype.hasAnyCallback=function(){return null!==this.callbackContext},t}(),ki=function(){function t(t,e){this.eventType=t,this.callbackContext=e}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return this.eventType===("children_removed"===e?"child_removed":e)},t.prototype.createCancelEvent=function(t,e){return this.callbackContext.hasCancelCallback?new ci(this,t,e):null},t.prototype.createEvent=function(t,e){Object(i.assert)(null!=t.childName,"Child events should have a childName.");var n=yi(new mi(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new ai(t.type,this,new gi(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this;return"cancel"===t.getEventType()?function(){return e.callbackContext.onCancel(t.error)}:function(){return e.callbackContext.onValue(t.snapshot,t.prevName)}},t.prototype.matches=function(e){return e instanceof t&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))},t.prototype.hasAnyCallback=function(){return!!this.callbackContext},t}();function Ti(t,e,n,r,i){var o;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){var s=n,a=function(e,n){Gr(t._repo,t,u),s(e,n)};a.userCallback=n.userCallback,a.context=n.context,n=a}var c=new ui(n,o||void 0),u="value"===e?new Ei(c):new ki(e,c);return function(t,e,n){var r;r=".info"===ut(e._path)?Kn(t.infoSyncTree_,e,n):Kn(t.serverSyncTree_,e,n),jr(t.eventQueue_,e._path,r)}(t._repo,t,u),function(){return Gr(t._repo,t,u)}}function Ii(t,e,n,r){return Ti(t,"value",e,n,r)}function Ri(t,e,n,r){return Ti(t,"child_added",e,n,r)}function Ai(t,e,n,r){return Ti(t,"child_changed",e,n,r)}function Pi(t,e,n,r){return Ti(t,"child_moved",e,n,r)}function Di(t,e,n,r){return Ti(t,"child_removed",e,n,r)}function ji(t,e,n){var r=null,i=n?new ui(n):null;"value"===e?r=new Ei(i):e&&(r=new ki(e,i)),Gr(t._repo,t,r)}var Ni=function(){return function(){}}(),Mi=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(o.__extends)(e,t),e.prototype._apply=function(t){Sr("endAt",this._value,t._path,!0);var e=ve(t._queryParams,this._value,this._key);if(pi(e),fi(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new hi(t._repo,t._path,e,t._orderByCalled)},e}(Ni);function Li(t,e){return kr("endAt","key",e,!0),new Mi(t,e)}var Fi=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(o.__extends)(e,t),e.prototype._apply=function(t){Sr("endBefore",this._value,t._path,!1);var e,n,r,i,o=(n=this._value,r=this._key,(e=t._queryParams).index_===At?("string"==typeof n&&(n=ce(n)),i=ve(e,n,r)):i=ve(e,n,null==r?T:ce(r)),i.endBeforeSet_=!0,i);if(pi(o),fi(o),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new hi(t._repo,t._path,o,t._orderByCalled)},e}(Ni);function Vi(t,e){return kr("endBefore","key",e,!0),new Fi(t,e)}var Bi=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(o.__extends)(e,t),e.prototype._apply=function(t){Sr("startAt",this._value,t._path,!0);var e=be(t._queryParams,this._value,this._key);if(pi(e),fi(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new hi(t._repo,t._path,e,t._orderByCalled)},e}(Ni);function Ui(t,e){return void 0===t&&(t=null),kr("startAt","key",e,!0),new Bi(t,e)}var qi=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(o.__extends)(e,t),e.prototype._apply=function(t){Sr("startAfter",this._value,t._path,!1);var e,n,r,i,o=(n=this._value,r=this._key,(e=t._queryParams).index_===At?("string"==typeof n&&(n=ae(n)),i=be(e,n,r)):i=be(e,n,null==r?I:ae(r)),i.startAfterSet_=!0,i);if(pi(o),fi(o),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new hi(t._repo,t._path,o,t._orderByCalled)},e}(Ni);function Wi(t,e){return kr("startAfter","key",e,!0),new qi(t,e)}var Hi=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return Object(o.__extends)(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new hi(t._repo,t._path,(e=this._limit,(n=t._queryParams.copy()).limitSet_=!0,n.limit_=e,n.viewFrom_="l",n),t._orderByCalled);var e,n},e}(Ni);function zi(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Hi(t)}var Ki=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return Object(o.__extends)(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new hi(t._repo,t._path,(e=this._limit,(n=t._queryParams.copy()).limitSet_=!0,n.limit_=e,n.viewFrom_="r",n),t._orderByCalled);var e,n},e}(Ni);function Gi(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Ki(t)}var Yi=function(t){function e(e){var n=t.call(this)||this;return n._path=e,n}return Object(o.__extends)(e,t),e.prototype._apply=function(t){di(t,"orderByChild");var e=new at(this._path);if(gt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new re(e),r=ye(t._queryParams,n);return fi(r),new hi(t._repo,t._path,r,!0)},e}(Ni);function Qi(t){if("$key"===t)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===t)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===t)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Tr("orderByChild","path",t,!1),new Yi(t)}var $i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.__extends)(e,t),e.prototype._apply=function(t){di(t,"orderByKey");var e=ye(t._queryParams,At);return fi(e),new hi(t._repo,t._path,e,!0)},e}(Ni);function Xi(){return new $i}var Ji=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.__extends)(e,t),e.prototype._apply=function(t){di(t,"orderByPriority");var e=ye(t._queryParams,Kt);return fi(e),new hi(t._repo,t._path,e,!0)},e}(Ni);function Zi(){return new Ji}var to=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.__extends)(e,t),e.prototype._apply=function(t){di(t,"orderByValue");var e=ye(t._queryParams,ie);return fi(e),new hi(t._repo,t._path,e,!0)},e}(Ni);function eo(){return new to}var no=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(o.__extends)(e,t),e.prototype._apply=function(t){if(Sr("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Mi(this._value,this._key)._apply(new Bi(this._value,this._key)._apply(t))},e}(Ni);function ro(t,e){return kr("equalTo","key",e,!0),new no(t,e)}function io(t){for(var e,n,r=[],s=1;s<arguments.length;s++)r[s-1]=arguments[s];var a=Object(i.getModularInstance)(t);try{for(var c=Object(o.__values)(r),u=c.next();!u.done;u=c.next()){var l=u.value;a=l._apply(a)}}catch(h){e={error:h}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}return a}!function(t){Object(i.assert)(!Cn,"__referenceConstructor has already been defined"),Cn=t}(mi),function(t){Object(i.assert)(!Rn,"__referenceConstructor has already been defined"),Rn=t}(mi);var oo={},so=!1;function ao(t,e,n,r,i){var o=r||t.options.databaseURL;void 0===o&&(t.options.projectId||O("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),S("Using default host for project ",t.options.projectId),o=t.options.projectId+"-default-rtdb.firebaseio.com");var s,a=oi(o,i),c=a.repoInfo,u=void 0;"undefined"!=typeof process&&(u=process.env.FIREBASE_DATABASE_EMULATOR_HOST),u?(s=!0,c=(a=oi(o="http://"+u+"?ns="+c.namespace,i)).repoInfo):s=!a.repoInfo.secure;var l=i&&s?new W(W.OWNER):new q(t.name,t.options,e);Rr("Invalid Firebase Database URL",a),gt(a.path)||O("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(t,e,n,r){var i=oo[e.name];i||(oo[e.name]=i={});var o=i[t.toURLString()];return o&&O("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Fr(t,so,n,r),i[t.toURLString()]=o,o}(c,t,l,new U(t.name,n));return new co(h,t)}var co=function(){function t(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}return Object.defineProperty(t.prototype,"_repo",{get:function(){return this._instanceStarted||(function(t,e,n){if(t.stats_=$(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new Se(t.repoInfo_,(function(e,n,r,i){Ur(t,e,n,r,i)}),t.authTokenProvider_,t.appCheckProvider_),setTimeout((function(){return qr(t,!0)}),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(i.stringify)(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}t.persistentConnection_=new kt(t.repoInfo_,e,(function(e,n,r,i){Ur(t,e,n,r,i)}),(function(e){qr(t,e)}),(function(e){!function(t,e){N(e,(function(e,n){Wr(t,e,n)}))}(t,e)}),t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}var r,o;t.authTokenProvider_.addTokenChangeListener((function(e){t.server_.refreshAuthToken(e)})),t.appCheckProvider_.addTokenChangeListener((function(e){t.server_.refreshAppCheckToken(e.token)})),t.statsReporter_=(r=function(){return new Te(t.stats_,t.server_)},o=t.repoInfo_.toString(),Q[o]||(Q[o]=r()),Q[o]),t.infoData_=new Ce,t.infoSyncTree_=new Un({startListening:function(e,n,r,i){var o=[],s=t.infoData_.getNode(e._path);return s.isEmpty()||(o=Hn(t.infoSyncTree_,e._path,s),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),Wr(t,"connected",!1),t.serverSyncTree_=new Un({startListening:function(e,n,r,i){return t.server_.listen(e,r,n,(function(n,r){var o=i(n,r);Nr(t.eventQueue_,e._path,o)})),[]},stopListening:function(e,n){t.server_.unlisten(e,n)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new mi(this._repo,ct())),this._rootInternal},enumerable:!1,configurable:!0}),t.prototype._delete=function(){var t,e,n;return this._checkNotDeleted("delete"),t=this._repo,(n=oo[e=this.app.name])&&n[t.key]===t||O("Database "+e+"("+t.repoInfo_+") has already been deleted."),Yr(t),delete n[t.key],this._repoInternal=null,this._rootInternal=null,Promise.resolve()},t.prototype._checkNotDeleted=function(t){null===this._rootInternal&&O("Cannot call "+t+" on a deleted database.")},t}();function uo(t){(t=Object(i.getModularInstance)(t))._checkNotDeleted("goOffline"),Yr(t._repo)}function lo(t){var e;(t=Object(i.getModularInstance)(t))._checkNotDeleted("goOnline"),(e=t._repo).persistentConnection_&&e.persistentConnection_.resume("repo_interrupt")}var ho={".sv":"timestamp"},fo=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}();function po(t,e,n){var r;if(t=Object(i.getModularInstance)(t),Ir("Reference.transaction",t._path),".length"===t.key||".keys"===t.key)throw"Reference.transaction failed: "+t.key+" is a read-only object.";var o=null===(r=null==n?void 0:n.applyLocally)||void 0===r||r,s=new i.Deferred,a=Ii(t,(function(){}));return function(e,n,r,o,a,c){Qr(e,"transaction on "+n);var u={path:n,update:r,onComplete:function(e,n,r){var i=null;e?s.reject(e):(i=new gi(r,new mi(t._repo,t._path),Kt),s.resolve(new fo(n,i)))},status:null,order:g(),applyLocally:c,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=Xr(e,n,void 0);u.currentInputSnapshot=l;var h=u.update(l.val());if(void 0===h)u.unwatcher(),u.currentOutputSnapshotRaw=null,u.currentOutputSnapshotResolved=null,u.onComplete&&u.onComplete(null,!1,u.currentInputSnapshot);else{Cr("transaction failed: Data returned ",h,u.path),u.status=0;var d=hr(e.transactionQueueTree_,n),f=dr(d)||[];f.push(u),fr(d,f);var p=void 0;"object"==typeof h&&null!==h&&Object(i.contains)(h,".priority")?(p=Object(i.safeGet)(h,".priority"),Object(i.assert)(wr(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):p=(Gn(e.serverSyncTree_,n)||Jt.EMPTY_NODE).getPriority().val();var m=Br(e),b=te(h,p),v=cr(b,l,m);u.currentOutputSnapshotRaw=b,u.currentOutputSnapshotResolved=v,u.currentWriteId=Hr(e);var y=qn(e.serverSyncTree_,n,v,u.currentWriteId,u.applyLocally);Nr(e.eventQueue_,n,y),Jr(e,e.transactionQueueTree_)}}(t._repo,t._path,e,0,a,o),s.promise}var mo=function(){function t(t){this._delegate=t}return t.prototype.cancel=function(t){Object(i.validateArgCount)("OnDisconnect.cancel",0,1,arguments.length),Object(i.validateCallback)("OnDisconnect.cancel","onComplete",t,!0);var e=this._delegate.cancel();return t&&e.then((function(){return t(null)}),(function(e){return t(e)})),e},t.prototype.remove=function(t){Object(i.validateArgCount)("OnDisconnect.remove",0,1,arguments.length),Object(i.validateCallback)("OnDisconnect.remove","onComplete",t,!0);var e=this._delegate.remove();return t&&e.then((function(){return t(null)}),(function(e){return t(e)})),e},t.prototype.set=function(t,e){Object(i.validateArgCount)("OnDisconnect.set",1,2,arguments.length),Object(i.validateCallback)("OnDisconnect.set","onComplete",e,!0);var n=this._delegate.set(t);return e&&n.then((function(){return e(null)}),(function(t){return e(t)})),n},t.prototype.setWithPriority=function(t,e,n){Object(i.validateArgCount)("OnDisconnect.setWithPriority",2,3,arguments.length),Object(i.validateCallback)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(t,e);return n&&r.then((function(){return n(null)}),(function(t){return n(t)})),r},t.prototype.update=function(t,e){if(Object(i.validateArgCount)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,E("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Object(i.validateCallback)("OnDisconnect.update","onComplete",e,!0);var o=this._delegate.update(t);return e&&o.then((function(){return e(null)}),(function(t){return e(t)})),o},t}(),go=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return Object(i.validateArgCount)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),bo=function(){function t(t,e){this._database=t,this._delegate=e}return t.prototype.val=function(){return Object(i.validateArgCount)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},t.prototype.exportVal=function(){return Object(i.validateArgCount)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},t.prototype.toJSON=function(){return Object(i.validateArgCount)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.exists=function(){return Object(i.validateArgCount)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},t.prototype.child=function(e){return Object(i.validateArgCount)("DataSnapshot.child",0,1,arguments.length),e=String(e),Tr("DataSnapshot.child","path",e,!1),new t(this._database,this._delegate.child(e))},t.prototype.hasChild=function(t){return Object(i.validateArgCount)("DataSnapshot.hasChild",1,1,arguments.length),Tr("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)},t.prototype.getPriority=function(){return Object(i.validateArgCount)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},t.prototype.forEach=function(e){var n=this;return Object(i.validateArgCount)("DataSnapshot.forEach",1,1,arguments.length),Object(i.validateCallback)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach((function(r){return e(new t(n._database,r))}))},t.prototype.hasChildren=function(){return Object(i.validateArgCount)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(t.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return Object(i.validateArgCount)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},t.prototype.getRef=function(){return Object(i.validateArgCount)("DataSnapshot.ref",0,0,arguments.length),new yo(this._database,this._delegate.ref)},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),vo=function(){function t(t,e){this.database=t,this._delegate=e}return t.prototype.on=function(e,n,r,o){var s,a=this;Object(i.validateArgCount)("Query.on",2,4,arguments.length),Object(i.validateCallback)("Query.on","callback",n,!1);var c=t.getCancelAndContextArgs_("Query.on",r,o),u=function(t,e){n.call(c.context,new bo(a.database,t),e)};u.userCallback=n,u.context=c.context;var l=null===(s=c.cancel)||void 0===s?void 0:s.bind(c.context);switch(e){case"value":return Ii(this._delegate,u,l),n;case"child_added":return Ri(this._delegate,u,l),n;case"child_removed":return Di(this._delegate,u,l),n;case"child_changed":return Ai(this._delegate,u,l),n;case"child_moved":return Pi(this._delegate,u,l),n;default:throw new Error(Object(i.errorPrefix)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},t.prototype.off=function(t,e,n){if(Object(i.validateArgCount)("Query.off",0,3,arguments.length),Er("Query.off",t,!0),Object(i.validateCallback)("Query.off","callback",e,!0),Object(i.validateContextObject)("Query.off","context",n,!0),e){var r=function(){};r.userCallback=e,r.context=n,ji(this._delegate,t,r)}else ji(this._delegate,t)},t.prototype.get=function(){var t=this;return function(t){return function(t,e){var n=function(t,e){var n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,(function(t,e){var i=bt(t,n);r=r||Nn(e,i)}));var i=t.syncPointTree_.get(n);i?r=r||Nn(i,ct()):(i=new An,t.syncPointTree_=t.syncPointTree_.set(n,i));var o=null!=r,s=o?new Me(r,!0,!1):null;return qe(Dn(i,e,en(t.pendingWriteTree_,e._path),o?s.getNode():Jt.EMPTY_NODE,o).viewCache_)}(t.serverSyncTree_,e);return null!=n?Promise.resolve(n):t.server_.get(e).then((function(n){var r=te(n).withIndex(e._queryParams.getIndex()),i=Hn(t.serverSyncTree_,e._path,r);return jr(t.eventQueue_,e._path,i),Promise.resolve(r)}),(function(n){return Qr(t,"get for query "+Object(i.stringify)(e)+" failed: "+n),Promise.reject(new Error(n))}))}((t=Object(i.getModularInstance)(t))._repo,t).then((function(e){return new gi(e,new mi(t._repo,t._path),t._queryParams.getIndex())}))}(this._delegate).then((function(e){return new bo(t.database,e)}))},t.prototype.once=function(e,n,r,o){var s=this;Object(i.validateArgCount)("Query.once",1,4,arguments.length),Object(i.validateCallback)("Query.once","callback",n,!0);var a=t.getCancelAndContextArgs_("Query.once",r,o),c=new i.Deferred,u=function(t,e){var r=new bo(s.database,t);n&&n.call(a.context,r,e),c.resolve(r)};u.userCallback=n,u.context=a.context;var l=function(t){a.cancel&&a.cancel.call(a.context,t),c.reject(t)};switch(e){case"value":Ii(this._delegate,u,l,{onlyOnce:!0});break;case"child_added":Ri(this._delegate,u,l,{onlyOnce:!0});break;case"child_removed":Di(this._delegate,u,l,{onlyOnce:!0});break;case"child_changed":Ai(this._delegate,u,l,{onlyOnce:!0});break;case"child_moved":Pi(this._delegate,u,l,{onlyOnce:!0});break;default:throw new Error(Object(i.errorPrefix)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise},t.prototype.limitToFirst=function(e){return Object(i.validateArgCount)("Query.limitToFirst",1,1,arguments.length),new t(this.database,io(this._delegate,zi(e)))},t.prototype.limitToLast=function(e){return Object(i.validateArgCount)("Query.limitToLast",1,1,arguments.length),new t(this.database,io(this._delegate,Gi(e)))},t.prototype.orderByChild=function(e){return Object(i.validateArgCount)("Query.orderByChild",1,1,arguments.length),new t(this.database,io(this._delegate,Qi(e)))},t.prototype.orderByKey=function(){return Object(i.validateArgCount)("Query.orderByKey",0,0,arguments.length),new t(this.database,io(this._delegate,Xi()))},t.prototype.orderByPriority=function(){return Object(i.validateArgCount)("Query.orderByPriority",0,0,arguments.length),new t(this.database,io(this._delegate,Zi()))},t.prototype.orderByValue=function(){return Object(i.validateArgCount)("Query.orderByValue",0,0,arguments.length),new t(this.database,io(this._delegate,eo()))},t.prototype.startAt=function(e,n){return void 0===e&&(e=null),Object(i.validateArgCount)("Query.startAt",0,2,arguments.length),new t(this.database,io(this._delegate,Ui(e,n)))},t.prototype.startAfter=function(e,n){return void 0===e&&(e=null),Object(i.validateArgCount)("Query.startAfter",0,2,arguments.length),new t(this.database,io(this._delegate,Wi(e,n)))},t.prototype.endAt=function(e,n){return void 0===e&&(e=null),Object(i.validateArgCount)("Query.endAt",0,2,arguments.length),new t(this.database,io(this._delegate,Li(e,n)))},t.prototype.endBefore=function(e,n){return void 0===e&&(e=null),Object(i.validateArgCount)("Query.endBefore",0,2,arguments.length),new t(this.database,io(this._delegate,Vi(e,n)))},t.prototype.equalTo=function(e,n){return Object(i.validateArgCount)("Query.equalTo",1,2,arguments.length),new t(this.database,io(this._delegate,ro(e,n)))},t.prototype.toString=function(){return Object(i.validateArgCount)("Query.toString",0,0,arguments.length),this._delegate.toString()},t.prototype.toJSON=function(){return Object(i.validateArgCount)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.isEqual=function(e){if(Object(i.validateArgCount)("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:void 0,context:void 0};if(e&&n)r.cancel=e,Object(i.validateCallback)(t,"cancel",r.cancel,!0),r.context=n,Object(i.validateContextObject)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(Object(i.errorPrefix)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return new yo(this.database,new mi(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),t}(),yo=function(t){function e(e,n){var r=t.call(this,e,new hi(n._repo,n._path,new ge,!1))||this;return r.database=e,r._delegate=n,r}return Object(o.__extends)(e,t),e.prototype.getKey=function(){return Object(i.validateArgCount)("Reference.key",0,0,arguments.length),this._delegate.key},e.prototype.child=function(t){return Object(i.validateArgCount)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new e(this.database,yi(this._delegate,t))},e.prototype.getParent=function(){Object(i.validateArgCount)("Reference.parent",0,0,arguments.length);var t=this._delegate.parent;return t?new e(this.database,t):null},e.prototype.getRoot=function(){return Object(i.validateArgCount)("Reference.root",0,0,arguments.length),new e(this.database,this._delegate.root)},e.prototype.set=function(t,e){Object(i.validateArgCount)("Reference.set",1,2,arguments.length),Object(i.validateCallback)("Reference.set","onComplete",e,!0);var n=Si(this._delegate,t);return e&&n.then((function(){return e(null)}),(function(t){return e(t)})),n},e.prototype.update=function(t,e){if(Object(i.validateArgCount)("Reference.update",1,2,arguments.length),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,E("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ir("Reference.update",this._delegate._path),Object(i.validateCallback)("Reference.update","onComplete",e,!0);var o=Oi(this._delegate,t);return e&&o.then((function(){return e(null)}),(function(t){return e(t)})),o},e.prototype.setWithPriority=function(t,e,n){Object(i.validateArgCount)("Reference.setWithPriority",2,3,arguments.length),Object(i.validateCallback)("Reference.setWithPriority","onComplete",n,!0);var r=xi(this._delegate,t,e);return n&&r.then((function(){return n(null)}),(function(t){return n(t)})),r},e.prototype.remove=function(t){Object(i.validateArgCount)("Reference.remove",0,1,arguments.length),Object(i.validateCallback)("Reference.remove","onComplete",t,!0);var e=wi(this._delegate);return t&&e.then((function(){return t(null)}),(function(e){return t(e)})),e},e.prototype.transaction=function(t,e,n){var r=this;Object(i.validateArgCount)("Reference.transaction",1,3,arguments.length),Object(i.validateCallback)("Reference.transaction","transactionUpdate",t,!1),Object(i.validateCallback)("Reference.transaction","onComplete",e,!0),Ar("Reference.transaction","applyLocally",n,!0);var o=po(this._delegate,t,{applyLocally:n}).then((function(t){return new go(t.committed,new bo(r.database,t.snapshot))}));return e&&o.then((function(t){return e(null,t.committed,t.snapshot)}),(function(t){return e(t,!1,null)})),o},e.prototype.setPriority=function(t,e){Object(i.validateArgCount)("Reference.setPriority",1,2,arguments.length),Object(i.validateCallback)("Reference.setPriority","onComplete",e,!0);var n=Ci(this._delegate,t);return e&&n.then((function(){return e(null)}),(function(t){return e(t)})),n},e.prototype.push=function(t,n){var r=this;Object(i.validateArgCount)("Reference.push",0,2,arguments.length),Object(i.validateCallback)("Reference.push","onComplete",n,!0);var o=_i(this._delegate,t),s=o.then((function(t){return new e(r.database,t)}));n&&s.then((function(){return n(null)}),(function(t){return n(t)}));var a=new e(this.database,o);return a.then=s.then.bind(s),a.catch=s.catch.bind(s,void 0),a},e.prototype.onDisconnect=function(){return Ir("Reference.onDisconnect",this._delegate._path),new mo(new li(this._delegate._repo,this._delegate._path))},Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(vo),_o=function(){function t(t,e){var n=this;this._delegate=t,this.app=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={}),(t=Object(i.getModularInstance)(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&O("Cannot call useEmulator() after instance has already been initialized.");var o=t._repoInternal,s=void 0;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&O('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new W(W.OWNER);else if(r.mockUserToken){var a=Object(i.createMockUserToken)(r.mockUserToken,t.app.options.projectId);s=new W(a)}!function(t,e,n,r){t.repoInfo_=new z(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),r&&(t.authTokenProvider_=r)}(o,e,n,s)}(this._delegate,t,e,n)},t.prototype.ref=function(t){if(Object(i.validateArgCount)("database.ref",0,1,arguments.length),t instanceof yo){var e=vi(this._delegate,t.toString());return new yo(this,e)}return e=bi(this._delegate,t),new yo(this,e)},t.prototype.refFromURL=function(t){var e="database.refFromURL";Object(i.validateArgCount)(e,1,1,arguments.length);var n=vi(this._delegate,t);return new yo(this,n)},t.prototype.goOffline=function(){return Object(i.validateArgCount)("database.goOffline",0,0,arguments.length),uo(this._delegate)},t.prototype.goOnline=function(){return Object(i.validateArgCount)("database.goOnline",0,0,arguments.length),lo(this._delegate)},t.ServerValue={TIMESTAMP:ho,increment:function(t){return function(t){return{".sv":{increment:t}}}(t)}},t}(),wo=Object.freeze({__proto__:null,forceLongPolling:function(){et.forceDisallow(),J.forceAllow()},forceWebSockets:function(){J.forceDisallow()},isWebSocketsAvailable:function(){return et.isAvailable()},setSecurityDebugCallback:function(t,e){t._delegate._repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){!function(t,e){if(void 0===e&&(e=!1),"undefined"!=typeof console){var n;e?(t.statsListener_||(t.statsListener_=new ke(t.stats_)),n=t.statsListener_.get()):n=t.stats_.get();var r=Object.keys(n).reduce((function(t,e){return Math.max(e.length,t)}),0);N(n,(function(t,e){for(var n=t,i=t.length;i<r+2;i++)n+=" ";console.log(n+e)}))}}(t._delegate._repo,e)},statsIncrementCounter:function(t,e){!function(t,e){t.stats_.incrementCounter(e),t.statsReporter_.statsToReport_[e]=!0}(t._delegate._repo,e)},dataUpdateCount:function(t){return t._delegate._repo.dataUpdateCount},interceptServerData:function(t,e){return function(t,e){t.interceptServerDataCallback_=e}(t._delegate._repo,e)},initStandalone:function(t){var e=t.app,n=t.url,i=t.customAuthImpl,o=t.namespace,s=t.nodeAdmin,a=void 0!==s&&s;c(t.version);var u=new r.Provider("auth-internal",new r.ComponentContainer("database-standalone"));return u.setComponent(new r.Component("auth-internal",(function(){return i}),"PRIVATE")),{instance:new _o(ao(e,u,void 0,n,a),e),namespace:o}}}),So=kt;kt.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},kt.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var Co=Object.freeze({__proto__:null,DataConnection:So,RealTimeConnection:rt,hijackHash:function(t){var e=kt.prototype.put;return kt.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){kt.prototype.put=e}},ConnectionTarget:z,queryIdentifier:function(t){return t._delegate._queryIdentifier},forceRestClient:function(t){!function(t){so=t}(t)}}),xo=_o.ServerValue;!function(e){c(e.SDK_VERSION);var n=e.INTERNAL.registerComponent(new r.Component("database",(function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new _o(ao(r,i,o,n),r)}),"PUBLIC").setServiceProps({Reference:yo,Query:vo,Database:_o,DataSnapshot:bo,enableLogging:w,INTERNAL:wo,ServerValue:xo,TEST_ACCESS:Co}).setMultipleInstances(!0));e.registerVersion("@firebase/database","0.10.7"),Object(i.isNodeSdk)()&&(t.exports=n)}(e.default)}).call(this,n("3UD+")(t))},"7Hc7":function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));let r=1;const i=(()=>Promise.resolve())(),o={};function s(t){return t in o&&(delete o[t],!0)}const a={setImmediate(t){const e=r++;return o[e]=!0,i.then(()=>s(e)&&t()),e},clearImmediate(t){s(t)}};var c=n("3N8a");class u extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}var l=n("IjjT");class h extends l.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new h(u)},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),c=n("NJ4a");class u extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof u?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new u(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends u{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(c.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(c.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(c.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(c.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"8CQ5":function(t,e,n){"use strict";n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return c})),n.d(e,"e",(function(){return u})),n.d(e,"f",(function(){return l})),n.d(e,"d",(function(){return h}));var r=n("56Qq"),i=n("QcCY"),o=n("mph4"),s=Object.prototype.hasOwnProperty,a=/^[_a-z][_0-9a-z]*/i;function c(t){var e=t.match(a);return e?e[0]:t}function u(t,e,n){return!(!e||"object"!=typeof e)&&(Array.isArray(e)?e.every((function(e){return u(t,e,n)})):t.selections.every((function(t){if(Object(r.d)(t)&&Object(i.c)(t,n)){var o=Object(r.h)(t);return s.call(e,o)&&(!t.selectionSet||u(t.selectionSet,e[o],n))}return!0})))}function l(t){return null!==t&&"object"==typeof t&&!Object(r.f)(t)&&!Array.isArray(t)}function h(){return new o.a}},"8Y7J":function(t,e,n){"use strict";n.d(e,"a",(function(){return ko})),n.d(e,"b",(function(){return jc})),n.d(e,"c",(function(){return Ic})),n.d(e,"d",(function(){return kc})),n.d(e,"e",(function(){return Tc})),n.d(e,"f",(function(){return Eu})),n.d(e,"g",(function(){return pu})),n.d(e,"h",(function(){return co})),n.d(e,"i",(function(){return zc})),n.d(e,"j",(function(){return Js})),n.d(e,"k",(function(){return Lc})),n.d(e,"l",(function(){return Zs})),n.d(e,"m",(function(){return Su})),n.d(e,"n",(function(){return On})),n.d(e,"o",(function(){return ic})),n.d(e,"p",(function(){return K})),n.d(e,"q",(function(){return l})),n.d(e,"r",(function(){return z})),n.d(e,"s",(function(){return Eo})),n.d(e,"t",(function(){return va})),n.d(e,"u",(function(){return ya})),n.d(e,"v",(function(){return Mc})),n.d(e,"w",(function(){return at})),n.d(e,"x",(function(){return gu})),n.d(e,"y",(function(){return st})),n.d(e,"z",(function(){return uu})),n.d(e,"A",(function(){return Yc})),n.d(e,"B",(function(){return h})),n.d(e,"C",(function(){return Dc})),n.d(e,"D",(function(){return Pc})),n.d(e,"E",(function(){return sc})),n.d(e,"F",(function(){return ra})),n.d(e,"G",(function(){return ea})),n.d(e,"H",(function(){return na})),n.d(e,"I",(function(){return oa})),n.d(e,"J",(function(){return fr})),n.d(e,"K",(function(){return f})),n.d(e,"L",(function(){return yu})),n.d(e,"M",(function(){return Ca})),n.d(e,"N",(function(){return nu})),n.d(e,"O",(function(){return lo})),n.d(e,"P",(function(){return aa})),n.d(e,"Q",(function(){return sa})),n.d(e,"R",(function(){return Oa})),n.d(e,"S",(function(){return gt})),n.d(e,"T",(function(){return lu})),n.d(e,"U",(function(){return Wn})),n.d(e,"V",(function(){return R})),n.d(e,"W",(function(){return nt})),n.d(e,"X",(function(){return qn})),n.d(e,"Y",(function(){return xu})),n.d(e,"Z",(function(){return ou})),n.d(e,"ab",(function(){return Nc})),n.d(e,"bb",(function(){return ho})),n.d(e,"cb",(function(){return Ua})),n.d(e,"db",(function(){return hr})),n.d(e,"eb",(function(){return Yn})),n.d(e,"fb",(function(){return Dn})),n.d(e,"gb",(function(){return Nn})),n.d(e,"hb",(function(){return Vn})),n.d(e,"ib",(function(){return Ln})),n.d(e,"jb",(function(){return Mn})),n.d(e,"kb",(function(){return Fn})),n.d(e,"lb",(function(){return La})),n.d(e,"mb",(function(){return Cu})),n.d(e,"nb",(function(){return Fa})),n.d(e,"ob",(function(){return Va})),n.d(e,"pb",(function(){return jn})),n.d(e,"qb",(function(){return L})),n.d(e,"rb",(function(){return Po})),n.d(e,"sb",(function(){return ts})),n.d(e,"tb",(function(){return Zo})),n.d(e,"ub",(function(){return Ma})),n.d(e,"vb",(function(){return Kt})),n.d(e,"wb",(function(){return k})),n.d(e,"xb",(function(){return Pn})),n.d(e,"yb",(function(){return Ls})),n.d(e,"zb",(function(){return Bt})),n.d(e,"Ab",(function(){return Qs})),n.d(e,"Bb",(function(){return jr})),n.d(e,"Cb",(function(){return Lo})),n.d(e,"Db",(function(){return Ds})),n.d(e,"Eb",(function(){return vs})),n.d(e,"Fb",(function(){return yc})),n.d(e,"Gb",(function(){return _t})),n.d(e,"Hb",(function(){return kt})),n.d(e,"Ib",(function(){return b})),n.d(e,"Jb",(function(){return v})),n.d(e,"Kb",(function(){return xt})),n.d(e,"Lb",(function(){return Tt})),n.d(e,"Mb",(function(){return Uo})),n.d(e,"Nb",(function(){return Yo})),n.d(e,"Ob",(function(){return Xo})),n.d(e,"Pb",(function(){return $o})),n.d(e,"Qb",(function(){return Qo})),n.d(e,"Rb",(function(){return Go})),n.d(e,"Sb",(function(){return Ko})),n.d(e,"Tb",(function(){return Jo})),n.d(e,"Ub",(function(){return wn})),n.d(e,"Vb",(function(){return js})),n.d(e,"Wb",(function(){return et})),n.d(e,"Xb",(function(){return qo})),n.d(e,"Yb",(function(){return Ec})),n.d(e,"Zb",(function(){return Wo})),n.d(e,"ac",(function(){return es})),n.d(e,"bc",(function(){return Sc})),n.d(e,"cc",(function(){return ss})),n.d(e,"dc",(function(){return Za})),n.d(e,"ec",(function(){return tc})),n.d(e,"fc",(function(){return ec})),n.d(e,"gc",(function(){return us})),n.d(e,"hc",(function(){return cs})),n.d(e,"ic",(function(){return Ho})),n.d(e,"jc",(function(){return Ga})),n.d(e,"kc",(function(){return Ya})),n.d(e,"lc",(function(){return Qa})),n.d(e,"mc",(function(){return mc})),n.d(e,"nc",(function(){return Bo})),n.d(e,"oc",(function(){return he})),n.d(e,"pc",(function(){return pr})),n.d(e,"qc",(function(){return Ot})),n.d(e,"rc",(function(){return _c})),n.d(e,"sc",(function(){return gc})),n.d(e,"tc",(function(){return bs})),n.d(e,"uc",(function(){return ns})),n.d(e,"vc",(function(){return Ns})),n.d(e,"wc",(function(){return Vo})),n.d(e,"xc",(function(){return Is})),n.d(e,"yc",(function(){return Rs})),n.d(e,"zc",(function(){return As})),n.d(e,"Ac",(function(){return Ps})),n.d(e,"Bc",(function(){return bc}));var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("w1tV");function c(t){return{toString:t}.toString()}function u(t,e,n){return c(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const l=u("Inject",t=>({token:t})),h=u("Optional"),d=u("Self"),f=u("SkipSelf");var p=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function m(t){for(let e in t)if(t[e]===m)return e;throw Error("Could not find renamed property on target object.")}function g(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function b(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function v(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function y(t){return _(t,t[S])||_(t,t[O])}function _(t,e){return e&&e.token===t?e:null}function w(t){return t&&(t.hasOwnProperty(C)||t.hasOwnProperty(E))?t[C]:null}const S=m({"\u0275prov":m}),C=m({"\u0275inj":m}),x=m({"\u0275provFallback":m}),O=m({ngInjectableDef:m}),E=m({ngInjectorDef:m});function k(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(k).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function T(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const I=m({__forward_ref__:m});function R(t){return t.__forward_ref__=R,t.toString=function(){return k(this())},t}function A(t){return P(t)?t():t}function P(t){return"function"==typeof t&&t.hasOwnProperty(I)&&t.__forward_ref__===R}const D="undefined"!=typeof globalThis&&globalThis,j="undefined"!=typeof window&&window,N="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,M="undefined"!=typeof global&&global,L=D||M||j||N,F=m({"\u0275cmp":m}),V=m({"\u0275dir":m}),B=m({"\u0275pipe":m}),U=m({"\u0275mod":m}),q=m({"\u0275loc":m}),W=m({"\u0275fac":m}),H=m({__NG_ELEMENT_ID__:m});class z{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=b({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const K=new z("INJECTOR",-1),G={},Y=/\n/gm,Q=m({provide:String,useValue:m});let $,X=void 0;function J(t){const e=X;return X=t,e}function Z(t){const e=$;return $=t,e}function tt(t,e=p.Default){if(void 0===X)throw new Error("inject() must be called from an injection context");return null===X?rt(t,void 0,e):X.get(t,e&p.Optional?null:void 0,e)}function et(t,e=p.Default){return($||tt)(A(t),e)}const nt=et;function rt(t,e,n){const r=y(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&p.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${k(t)}]`)}function it(t){const e=[];for(let n=0;n<t.length;n++){const r=A(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=p.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof h||"Optional"===i.ngMetadataName||i===h?n|=p.Optional:i instanceof f||"SkipSelf"===i.ngMetadataName||i===f?n|=p.SkipSelf:i instanceof d||"Self"===i.ngMetadataName||i===d?n|=p.Self:t=i instanceof l||i===l?i.token:i}e.push(et(t,n))}else e.push(et(r))}return e}class ot{get(t,e=G){if(e===G){const e=new Error(`NullInjectorError: No provider for ${k(t)}!`);throw e.name="NullInjectorError",e}return e}}class st{}class at{}function ct(t,e){t.forEach(t=>Array.isArray(t)?ct(t,e):e(t))}function ut(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function lt(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ht(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function dt(t,e,n){let r=pt(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function ft(t,e){const n=pt(t,e);if(n>=0)return t[1|n]}function pt(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}var mt=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),gt=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const bt={},vt=[];let yt=0;function _t(t){return c(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===mt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||vt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||gt.Emulated,id:"c",styles:t.styles||vt,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=yt++,n.inputs=Et(t.inputs,e),n.outputs=Et(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(wt):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(St):null,n})}function wt(t){return It(t)||function(t){return t[V]||null}(t)}function St(t){return function(t){return t[B]||null}(t)}const Ct={};function xt(t){const e={type:t.type,bootstrap:t.bootstrap||vt,declarations:t.declarations||vt,imports:t.imports||vt,exports:t.exports||vt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&c(()=>{Ct[t.id]=t.type}),e}function Ot(t,e){return c(()=>{const n=At(t,!0);n.declarations=e.declarations||vt,n.imports=e.imports||vt,n.exports=e.exports||vt})}function Et(t,e){if(null==t)return bt;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const kt=_t;function Tt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function It(t){return t[F]||null}function Rt(t,e){return t.hasOwnProperty(W)?t[W]:null}function At(t,e){const n=t[U]||null;if(!n&&!0===e)throw new Error(`Type ${k(t)} does not have '\u0275mod' property.`);return n}function Pt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Dt(t){return Array.isArray(t)&&!0===t[1]}function jt(t){return 0!=(8&t.flags)}function Nt(t){return 2==(2&t.flags)}function Mt(t){return 1==(1&t.flags)}function Lt(t){return null!==t.template}function Ft(t){return 0!=(512&t[2])}class Vt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Bt(){return Ut}function Ut(t){return t.type.prototype.ngOnChanges&&(t.setInput=Wt),qt}function qt(){const t=Ht(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===bt)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Wt(t,e,n,r){const i=Ht(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:bt,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],c=s[a];o[a]=new Vt(c&&c.currentValue,e,s===bt),t[r]=e}function Ht(t){return t.__ngSimpleChanges__||null}Bt.ngInherit=!0;let zt=void 0;function Kt(t){zt=t}function Gt(t){return!!t.listen}const Yt={createRenderer:(t,e)=>void 0!==zt?zt:"undefined"!=typeof document?document:void 0};function Qt(t){for(;Array.isArray(t);)t=t[0];return t}function $t(t,e){return Qt(e[t+20])}function Xt(t,e){return Qt(e[t.index])}function Jt(t,e){return t.data[e+20]}function Zt(t,e){return t[e+20]}function te(t,e){const n=e[t];return Pt(n)?n:n[0]}function ee(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function ne(t){return 4==(4&t[2])}function re(t){return 128==(128&t[2])}function ie(t,e){return null===t||null==e?null:t[e]}function oe(t){t[18]=0}function se(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const ae={lFrame:Re(null),bindingsEnabled:!0,checkNoChangesMode:!1};function ce(){return ae.bindingsEnabled}function ue(){return ae.lFrame.lView}function le(){return ae.lFrame.tView}function he(t){ae.lFrame.contextLView=t}function de(){return ae.lFrame.previousOrParentTNode}function fe(t,e){ae.lFrame.previousOrParentTNode=t,ae.lFrame.isParent=e}function pe(){return ae.lFrame.isParent}function me(){ae.lFrame.isParent=!1}function ge(){return ae.checkNoChangesMode}function be(t){ae.checkNoChangesMode=t}function ve(){const t=ae.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ye(){return ae.lFrame.bindingIndex}function _e(){return ae.lFrame.bindingIndex++}function we(t){const e=ae.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Se(t,e){const n=ae.lFrame;n.bindingIndex=n.bindingRootIndex=t,Ce(e)}function Ce(t){ae.lFrame.currentDirectiveIndex=t}function xe(t){const e=ae.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function Oe(){return ae.lFrame.currentQueryIndex}function Ee(t){ae.lFrame.currentQueryIndex=t}function ke(t,e){const n=Ie();ae.lFrame=n,n.previousOrParentTNode=e,n.lView=t}function Te(t,e){const n=Ie(),r=t[1];ae.lFrame=n,n.previousOrParentTNode=e,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex}function Ie(){const t=ae.lFrame,e=null===t?null:t.child;return null===e?Re(t):e}function Re(t){const e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function Ae(){const t=ae.lFrame;return ae.lFrame=t.parent,t.previousOrParentTNode=null,t.lView=null,t}const Pe=Ae;function De(){const t=Ae();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function je(){return ae.lFrame.selectedIndex}function Ne(t){ae.lFrame.selectedIndex=t}function Me(){const t=ae.lFrame;return Jt(t.tView,t.selectedIndex)}function Le(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function Fe(t,e,n){Ue(t,e,3,n)}function Ve(t,e,n,r){(3&t[2])===n&&Ue(t,e,n,r)}function Be(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Ue(t,e,n,r){const i=null!=r?r:-1;let o=0;for(let s=void 0!==r?65535&t[18]:0;s<e.length;s++)if("number"==typeof e[s+1]){if(o=e[s],null!=r&&o>=r)break}else e[s]<0&&(t[18]+=65536),(o<i||-1==i)&&(qe(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function qe(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}class We{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function He(t,e,n){const r=Gt(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],c=n[i++];r?t.setAttribute(e,a,c,s):e.setAttributeNS(s,a,c)}else{const s=o,a=n[++i];Ke(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function ze(t){return 3===t||4===t||6===t}function Ke(t){return 64===t.charCodeAt(0)}function Ge(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Ye(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Ye(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Qe(t){return-1!==t}function $e(t){return 32767&t}function Xe(t){return t>>16}function Je(t,e){let n=Xe(t),r=e;for(;n>0;)r=r[15],n--;return r}function Ze(t){return"string"==typeof t?t:null==t?"":""+t}function tn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ze(t)}const en=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(L))();function nn(t){return t instanceof Function?t():t}let rn=!0;function on(t){const e=rn;return rn=t,e}let sn=0;function an(t,e){const n=un(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,cn(r.data,t),cn(e,null),cn(r.blueprint,null));const i=ln(t,e),o=t.injectorIndex;if(Qe(i)){const t=$e(i),n=Je(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function cn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function un(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function ln(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=e[6],r=1;for(;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function hn(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(H)&&(r=n[H]),null==r&&(r=n[H]=sn++);const i=255&r,o=1<<i,s=64&i,a=32&i,c=e.data;128&i?s?a?c[t+7]|=o:c[t+6]|=o:a?c[t+5]|=o:c[t+4]|=o:s?a?c[t+3]|=o:c[t+2]|=o:a?c[t+1]|=o:c[t]|=o}(t,e,n)}function dn(t,e,n,r=p.Default,i){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(H)?t[H]:void 0;return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof i){ke(e,t);try{const t=i();if(null!=t||r&p.Optional)return t;throw new Error(`No provider for ${tn(n)}!`)}finally{Pe()}}else if("number"==typeof i){if(-1===i)return new yn(t,e);let o=null,s=un(t,e),a=-1,c=r&p.Host?e[16][6]:null;for((-1===s||r&p.SkipSelf)&&(a=-1===s?ln(t,e):e[s+8],vn(r,!1)?(o=e[1],s=$e(a),e=Je(a,e)):s=-1);-1!==s;){a=e[s+8];const t=e[1];if(bn(i,s,t.data)){const t=pn(s,e,n,o,r,c);if(t!==fn)return t}vn(r,e[1].data[s+8]===c)&&bn(i,s,e)?(o=t,s=$e(a),e=Je(a,e)):s=-1}}}if(r&p.Optional&&void 0===i&&(i=null),0==(r&(p.Self|p.Host))){const t=e[9],o=Z(void 0);try{return t?t.get(n,i,r&p.Optional):rt(n,i,r&p.Optional)}finally{Z(o)}}if(r&p.Optional)return i;throw new Error(`NodeInjector: NOT_FOUND [${tn(n)}]`)}const fn={};function pn(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],c=mn(a,s,n,null==r?Nt(a)&&rn:r!=s&&3===a.type,i&p.Host&&o===a);return null!==c?gn(e,s,c,a):fn}function mn(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,c=t.directiveStart,u=o>>20,l=i?a+u:t.directiveEnd;for(let h=r?a:a+u;h<l;h++){const t=s[h];if(h<c&&n===t||h>=c&&t.type===n)return h}if(i){const t=s[c];if(t&&Lt(t)&&t.type===n)return c}return null}function gn(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof We){const s=i;if(s.resolving)throw new Error("Circular dep for "+tn(o[n]));const a=on(s.canSeeViewProviders);let c;s.resolving=!0,s.injectImpl&&(c=Z(s.injectImpl)),ke(t,r);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=Ut(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{s.injectImpl&&Z(c),on(a),s.resolving=!1,Pe()}}return i}function bn(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function vn(t,e){return!(t&p.Self||t&p.Host&&e)}class yn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return dn(this._tNode,this._lView,t,void 0,e)}}function _n(t){const e=t;if(P(t))return()=>{const t=_n(A(e));return t?t():null};let n=Rt(e);if(null===n){const t=w(e);n=t&&t.factory}return n||null}function wn(t){return c(()=>{const e=t.prototype.constructor,n=e[W]||_n(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[W]||_n(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function Sn(t){return t.ngDebugContext}function Cn(t){return t.ngOriginalError}function xn(t,...e){t.error(...e)}class On{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||xn}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Sn(t)?Sn(t):this._findContext(Cn(t)):null}_findOriginalError(t){let e=Cn(t);for(;e&&Cn(e);)e=Cn(e);return e}}class En{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class kn extends En{getTypeName(){return"HTML"}}class Tn extends En{getTypeName(){return"Style"}}class In extends En{getTypeName(){return"Script"}}class Rn extends En{getTypeName(){return"URL"}}class An extends En{getTypeName(){return"ResourceURL"}}function Pn(t){return t instanceof En?t.changingThisBreaksApplicationSecurity:t}function Dn(t,e){const n=jn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function jn(t){return t instanceof En&&t.getTypeName()||null}function Nn(t){return new kn(t)}function Mn(t){return new Tn(t)}function Ln(t){return new In(t)}function Fn(t){return new Rn(t)}function Vn(t){return new An(t)}let Bn=!0,Un=!1;function qn(){return Un=!0,Bn}function Wn(){if(Un)throw new Error("Cannot enable prod mode after platform setup.");Bn=!1}class Hn{getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}}class zn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Kn=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Gn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Yn(t){return(t=String(t)).match(Kn)||t.match(Gn)?t:(qn()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function Qn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function $n(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Xn=Qn("area,br,col,hr,img,wbr"),Jn=Qn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Zn=Qn("rp,rt"),tr=$n(Zn,Jn),er=$n(Xn,$n(Jn,Qn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),$n(Zn,Qn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),tr),nr=Qn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),rr=Qn("srcset"),ir=$n(nr,rr,Qn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Qn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),or=Qn("script,style,template");class sr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!er.hasOwnProperty(e))return this.sanitizedSomething=!0,!or.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!ir.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;nr[o]&&(s=Yn(s)),rr[o]&&(r=s,s=(r=String(r)).split(",").map(t=>Yn(t.trim())).join(", ")),this.buf.push(" ",e,'="',ur(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();er.hasOwnProperty(e)&&!Xn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(ur(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const ar=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,cr=/([^\#-~ |!])/g;function ur(t){return t.replace(/&/g,"&amp;").replace(ar,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(cr,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let lr;function hr(t,e){let n=null;try{lr=lr||function(t){return function(){try{return!!(new window.DOMParser).parseFromString("","text/html")}catch(t){return!1}}()?new Hn:new zn(t)}(t);let r=e?String(e):"";n=lr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=lr.getInertBodyElement(r)}while(r!==o);const s=new sr,a=s.sanitizeChildren(dr(n)||n);return qn()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=dr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function dr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var fr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function pr(t){const e=function(){const t=ue();return t&&t[12]}();return e?e.sanitize(fr.URL,t)||"":Dn(t,"URL")?Pn(t):Yn(Ze(t))}function mr(t,e){t.__ngContext__=e}function gr(t){throw new Error("Multiple components match node with tagname "+t.tagName)}function br(){throw new Error("Cannot mix multi providers and regular providers")}function vr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}function yr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==vr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function _r(t){return 0===t.type&&"ng-template"!==t.tagName}function wr(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function Sr(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(ze(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!wr(t,c,n)||""===c&&1===e.length){if(Cr(r))return!1;s=!0}}else{const u=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!yr(t.attrs,u,n)){if(Cr(r))return!1;s=!0}continue}const l=xr(8&r?"class":c,i,_r(t),n);if(-1===l){if(Cr(r))return!1;s=!0;continue}if(""!==u){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==vr(e,u,0)||2&r&&u!==t){if(Cr(r))return!1;s=!0}}}}else{if(!s&&!Cr(r)&&!Cr(c))return!1;if(s&&Cr(c))continue;s=!1,r=c|1&r}}return Cr(r)||s}function Cr(t){return 0==(1&t)}function xr(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Or(t,e,n=!1){for(let r=0;r<e.length;r++)if(Sr(t,e[r],n))return!0;return!1}function Er(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function kr(t,e){return t?":not("+e.trim()+")":e}function Tr(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||Cr(s)||(e+=kr(o,i),i=""),r=s,o=o||!Cr(r);n++}return""!==i&&(e+=kr(o,i)),e}const Ir={};function Rr(t){const e=t[3];return Dt(e)?e[3]:e}function Ar(t){return Dr(t[13])}function Pr(t){return Dr(t[4])}function Dr(t){for(;null!==t&&!Dt(t);)t=t[4];return t}function jr(t){Nr(le(),ue(),je()+t,ge())}function Nr(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Fe(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Ve(e,r,0,n)}Ne(n)}function Mr(t,e){return t<<17|e<<2}function Lr(t){return t>>17&32767}function Fr(t){return 2|t}function Vr(t){return(131068&t)>>2}function Br(t,e){return-131069&t|e<<2}function Ur(t){return 1|t}function qr(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];Ee(i),n.contentQueries(2,e[o],o)}}}function Wr(t,e,n){return Gt(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Hr(t,e,n,r,i,o,s,a,c,u){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,oe(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=c||t&&t[12]||null,l[9]=u||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function zr(t,e,n,r,i,o){const s=n+20,a=t.data[s]||function(t,e,n,r,i,o){const s=de(),a=pe(),c=a?s:s&&s.parent,u=t.data[n]=ni(0,c&&c!==e?c:null,r,n,i,o);return null===t.firstChild&&(t.firstChild=u),s&&(!a||null!=s.child||null===u.parent&&2!==s.type?a||(s.next=u):s.child=u),u}(t,e,s,r,i,o);return fe(a,!0),a}function Kr(t,e,n){Te(e,e[6]);try{const r=t.viewQuery;null!==r&&xi(1,r,n);const i=t.template;null!==i&&Qr(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&qr(t,e),t.staticViewQueries&&xi(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)yi(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,De()}}function Gr(t,e,n,r){const i=e[2];if(256==(256&i))return;Te(e,e[6]);const o=ge();try{oe(e),ae.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Qr(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&Fe(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Ve(e,n,0,null),Be(e,0)}if(function(t){for(let e=Ar(t);null!==e;e=Pr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&se(r,1),n[2]|=1024}}}(e),function(t){for(let e=Ar(t);null!==e;e=Pr(e))for(let t=10;t<e.length;t++){const n=e[t],r=n[1];re(n)&&Gr(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&qr(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&Fe(e,n)}else{const n=t.contentHooks;null!==n&&Ve(e,n,1),Be(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let r=t.expandoStartIndex,i=-1,o=-1;for(let t=0;t<n.length;t++){const s=n[t];"number"==typeof s?s<=0?(o=0-s,Ne(o),r+=9+n[++t],i=r):r+=s:(null!==s&&(Se(r,i),s(2,e[i])),i++)}}}finally{Ne(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)vi(t,e[n])}(e,a);const c=t.viewQuery;if(null!==c&&xi(2,c,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&Fe(e,n)}else{const n=t.viewHooks;null!==n&&Ve(e,n,2),Be(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,se(e[3],-1))}finally{De()}}function Yr(t,e,n,r){const i=e[10],o=!ge(),s=ne(e);try{o&&!s&&i.begin&&i.begin(),s&&Kr(t,e,r),Gr(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function Qr(t,e,n,r,i){const o=je();try{Ne(-1),2&r&&e.length>20&&Nr(t,e,0,ge()),n(r,i)}finally{Ne(o)}}function $r(t,e,n){if(jt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Xr(t,e,n){ce()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||an(n,e),mr(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=Lt(r);o&&pi(e,n,r);const c=gn(e,t,a,n);mr(c,e),null!==s&&mi(0,a-i,c,r,0,s),o&&(te(n.index,e)[8]=c)}}(t,e,n,Xt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=t.expandoInstructions,s=t.firstCreatePass,a=n.index-20,c=ae.lFrame.currentDirectiveIndex;try{Ne(a);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];Ce(n),null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs?ci(r,i):s&&o.push(null)}}finally{Ne(-1),Ce(c)}}(t,e,n))}function Jr(t,e,n=Xt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function Zr(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=ti(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function ti(t,e,n,r,i,o,s,a,c,u){const l=20+r,h=l+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ir);return n}(l,h);return d[1]={type:t,id:e,blueprint:d,template:n,queries:null,viewQuery:a,node:null,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:u,incompleteFirstPass:!1}}function ei(t,e,n,r){const i=Ei(e);i.push(n),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1)}function ni(t,e,n,r,i,o){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function ri(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function ii(t,e,n,r,i,o,s,a){const c=Xt(e,n);let u,l=e.inputs;var h;!a&&null!=l&&(u=l[r])?(Ii(t,n,u,r,i),Nt(e)&&function(t,e){const n=te(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3===e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.tagName||"",r):i,Gt(o)?o.setProperty(c,r,i):Ke(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function oi(t,e,n,r){let i=!1;if(ce()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];Or(n,s.selectors,!1)&&(i||(i=[]),hn(an(n,e),t,s.type),Lt(s)?(2&n.flags&&gr(n),li(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){let r=0;i=!0,di(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}ui(t,n,o.length);let a=!1,c=!1;for(let i=0;i<o.length;i++){const u=o[i];n.mergedAttrs=Ge(n.mergedAttrs,u.hostAttrs),fi(t,e,u),hi(t.data.length-1,u,s),null!==u.contentQueries&&(n.flags|=8),null===u.hostBindings&&null===u.hostAttrs&&0===u.hostVars||(n.flags|=128);const l=u.type.prototype;!a&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-20),a=!0),c||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-20),c=!0),si(t,u),r+=u.hostVars}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let c=e.directiveStart;c<n;c++){const t=r[c],n=t.inputs,u=null===i||_r(e)?null:gi(n,i);o.push(u),s=ri(n,c,s),a=ri(t.outputs,c,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n),ai(t,e,r)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Error(`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=Ge(n.mergedAttrs,n.attrs),i}function si(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function ai(t,e,n){for(let r=0;r<n;r++)e.push(Ir),t.blueprint.push(Ir),t.data.push(null)}function ci(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function ui(t,e,n){const r=20-e.index,i=t.data.length-(1048575&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function li(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function hi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Lt(e)&&(n[""]=t)}}function di(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function fi(t,e,n){t.data.push(n);const r=n.factory||(n.factory=Rt(n.type)),i=new We(r,Lt(n),null);t.blueprint.push(i),e.push(i)}function pi(t,e,n){const r=Xt(e,t),i=Zr(n),o=t[10],s=_i(t,Hr(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n)));t[e.index]=s}function mi(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function gi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function bi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function vi(t,e){const n=te(e,t);if(re(n)){const t=n[1];80&n[2]?Gr(t,n,t.template,n[8]):n[5]>0&&function t(e){for(let r=Ar(e);null!==r;r=Pr(r))for(let e=10;e<r.length;e++){const n=r[e];if(1024&n[2]){const t=n[1];Gr(t,n,t.template,n[8])}else n[5]>0&&t(n)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=te(n[r],e);re(i)&&i[5]>0&&t(i)}}(n)}}function yi(t,e){const n=te(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Kr(r,n,n[8])}function _i(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function wi(t){for(;t;){t[2]|=64;const e=Rr(t);if(Ft(t)&&!e)return t;t=e}return null}function Si(t,e,n){const r=e[10];r.begin&&r.begin();try{Gr(t,e,t.template,n)}catch(i){throw Ti(e,i),i}finally{r.end&&r.end()}}function Ci(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=ee(n),i=r[1];Yr(i,r,i.template,n)}}(t[8])}function xi(t,e,n){Ee(0),e(t,n)}const Oi=(()=>Promise.resolve(null))();function Ei(t){return t[7]||(t[7]=[])}function ki(t,e,n){return(null===t||Lt(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function Ti(t,e){const n=t[9],r=n?n.get(On,null):null;r&&r.handleError(e)}function Ii(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],c=e[s],u=t.data[s];null!==u.setInput?u.setInput(c,i,r,a):c[a]=i}}function Ri(t,e,n){const r=$t(e,t),i=t[11];Gt(i)?i.setValue(r,n):r.textContent=n}function Ai(t,e){const n=e[3];return-1===t.index?Dt(n)?n:null:n}function Pi(t,e){const n=Ai(t,e);return n?Hi(e[11],n[7]):null}function Di(t,e,n,r,i){if(null!=r){let o,s=!1;Dt(r)?o=r:Pt(r)&&(s=!0,r=r[0]);const a=Qt(r);0===t&&null!==n?null==i?qi(e,n,a):Ui(e,n,a,i||null):1===t&&null!==n?Ui(e,n,a,i||null):2===t?function(t,e,n){const r=Hi(t,e);r&&function(t,e,n,r){Gt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==Qt(n)&&Di(e,t,r,o,i);for(let s=10;s<n.length;s++){const i=n[s];Qi(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function ji(t,e,n,r){const i=Pi(t.node,e);i&&Qi(t,e,e[11],n?1:2,i,r)}function Ni(t,e){const n=t[9],r=n.indexOf(e);1024&e[2]&&se(e[3],-1),n.splice(r,1)}function Mi(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&Ni(i,r),e>0&&(t[n-1][4]=r[4]);const o=lt(t,10+e);ji(r[1],r,!1,null);const s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function Li(t,e){if(!(256&e[2])){const n=e[11];Gt(n)&&n.destroyNode&&Qi(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Vi(t[1],t);for(;e;){let n=null;if(Pt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Pt(e)&&Vi(e[1],e),e=Fi(e,t);null===e&&(e=t),Pt(e)&&Vi(e[1],e),n=e&&e[4]}e=n}}(e)}}function Fi(t,e){let n;return Pt(t)&&(n=t[6])&&2===n.type?Ai(n,t):t[3]===e?null:t[3]}function Vi(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof We)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],o="function"==typeof i?i(e):Qt(e[i]),s=t[n[r+2]],a=n[r+3];"boolean"==typeof a?o.removeEventListener(n[r],s,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e);const n=e[6];n&&3===n.type&&Gt(e[11])&&e[11].destroy();const r=e[17];if(null!==r&&Dt(e[3])){r!==e[3]&&Ni(r,e);const n=e[19];null!==n&&n.detachView(t)}}}function Bi(t,e,n){let r=e.parent;for(;null!=r&&(4===r.type||5===r.type);)r=(e=r).parent;if(null==r){const t=n[6];return 2===t.type?Pi(t,n):n[0]}if(e&&5===e.type&&4&e.flags)return Xt(e,n).parentNode;if(2&r.flags){const e=t.data,n=e[e[r.index].directiveStart].encapsulation;if(n!==gt.ShadowDom&&n!==gt.Native)return null}return Xt(r,n)}function Ui(t,e,n,r){Gt(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function qi(t,e,n){Gt(t)?t.appendChild(e,n):e.appendChild(n)}function Wi(t,e,n,r){null!==r?Ui(t,e,n,r):qi(t,e,n)}function Hi(t,e){return Gt(t)?t.parentNode(e):e.parentNode}function zi(t,e){if(2===t.type){const n=Ai(t,e);return null===n?null:Gi(n.indexOf(e,10)-10,n)}return 4===t.type||5===t.type?Xt(t,e):null}function Ki(t,e,n,r){const i=Bi(t,r,e);if(null!=i){const t=e[11],o=zi(r.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)Wi(t,i,n[e],o);else Wi(t,i,n,o)}}function Gi(t,e){const n=10+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return function t(e,n){if(null!==n){const r=n.type;if(3===r)return Xt(n,e);if(0===r)return Gi(-1,e[n.index]);if(4===r||5===r){const r=n.child;if(null!==r)return t(e,r);{const t=e[n.index];return Dt(t)?Gi(-1,t):Qt(t)}}{const r=e[16],i=r[6],o=Rr(r),s=i.projection[n.projection];return null!=s?t(o,s):t(e,n.next)}}return null}(t,r)}return e[7]}function Yi(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],c=n.type;s&&0===e&&(a&&mr(Qt(a),r),n.flags|=4),64!=(64&n.flags)&&(4===c||5===c?(Yi(t,e,n.child,r,i,o,!1),Di(e,t,i,a,o)):1===c?$i(t,e,r,n,i,o):Di(e,t,i,a,o)),n=s?n.projectionNext:n.next}}function Qi(t,e,n,r,i,o){Yi(n,r,t.node.child,e,i,o,!1)}function $i(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let c=0;c<a.length;c++)Di(e,t,i,a[c],o);else Yi(t,e,a,s[3],i,o,!0)}function Xi(t,e,n){Gt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Ji(t,e,n){Gt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class Zi{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView;return null==t[0]?function t(e,n,r,i,o=!1){for(;null!==r;){const s=n[r.index];if(null!==s&&i.push(Qt(s)),Dt(s))for(let e=10;e<s.length;e++){const n=s[e],r=n[1].firstChild;null!==r&&t(n[1],n,r,i)}const a=r.type;if(4===a||5===a)t(e,n,r.child,i);else if(1===a){const e=n[16],o=e[6].projection[r.projection];if(Array.isArray(o))i.push(...o);else{const n=Rr(e);t(n[1],n,o,i,!0)}}r=o?r.projectionNext:r.next}return i}(t[1],t,t[6].child,[]):[]}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Li(this._lView[1],this._lView)}onDestroy(t){ei(this._lView[1],this._lView,null,t)}markForCheck(){wi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Si(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){be(!0);try{Si(t,e,n)}finally{be(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,Qi(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class to extends Zi{constructor(t){super(t),this._view=t}detectChanges(){Ci(this._view)}checkNoChanges(){!function(t){be(!0);try{Ci(t)}finally{be(!1)}}(this._view)}get context(){return null}}let eo,no,ro;function io(t,e,n){return eo||(eo=class extends t{}),new eo(Xt(e,n))}function oo(t,e,n,r){return no||(no=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Hr(this._declarationView,e,t,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];const r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Kr(e,n,t),new Zi(n)}}),0===n.type?new no(r,n,io(e,n,r)):null}function so(t,e,n,r){let i;ro||(ro=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return io(e,this._hostTNode,this._hostView)}get injector(){return new yn(this._hostTNode,this._hostView)}get parentInjector(){const t=ln(this._hostTNode,this._hostView),e=Je(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){const t=n.parent.injectorIndex;let e=n.parent;for(;null!=e.parent&&t==e.parent.injectorIndex;)e=e.parent;return e}let r=Xe(t),i=e,o=e[6];for(;r>1;)i=i[15],o=i[6],r--;return o}(t,this._hostView,this._hostTNode);return Qe(t)&&null!=n?new yn(n,e):new yn(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(st,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Dt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new ro(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e);return function(t,e,n,r){const i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],ut(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,this._lContainer,i),ji(r,n,!0,Gi(i,this._lContainer)),t.attachToViewContainerRef(this),ut(this._lContainer[8],i,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=Mi(this._lContainer,e);n&&(lt(this._lContainer[8],e),Li(n[1],n))}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=Mi(this._lContainer,e);return n&&null!=lt(this._lContainer[8],e)?new Zi(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const o=r[n.index];if(Dt(o))i=o;else{let t;if(4===n.type)t=Qt(o);else if(t=r[11].createComment(""),Ft(r)){const e=r[11],i=Xt(n,r);Ui(e,Hi(e,i),t,function(t,e){return Gt(t)?t.nextSibling(e):e.nextSibling}(e,i))}else Ki(r[1],r,t,n);r[n.index]=i=bi(o,r,t,n),_i(r,i)}return new ro(i,n,r)}function ao(t=!1){return function(t,e,n){if(!n&&Nt(t)){const n=te(t.index,e);return new Zi(n,n)}return 3===t.type||0===t.type||4===t.type||5===t.type?new Zi(e[16],e):null}(de(),ue(),t)}let co=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>uo(),t})();const uo=ao,lo=Function,ho=new z("Set Injector scope."),fo={},po={},mo=[];let go=void 0;function bo(){return void 0===go&&(go=new ot),go}function vo(t,e=null,n=null,r){return new yo(t,n,e||bo(),r)}class yo{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&ct(e,n=>this.processProvider(n,t,e)),ct([t],t=>this.processInjectorType(t,[],i)),this.records.set(K,So(void 0,this));const o=this.records.get(ho);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:k(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=G,n=p.Default){this.assertNotDestroyed();const r=J(this);try{if(!(n&p.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof z)&&y(t);e=n&&this.injectableDefInScope(n)?So(_o(t),fo):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&p.Self?bo():this.parent).get(t,e=n&p.Optional&&e===G?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(k(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=k(e);if(Array.isArray(e))i=e.map(k).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):k(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Y,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{J(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(k(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=A(t)))return!1;let r=w(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=w(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{ct(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];ct(r,t=>this.processProvider(t,n,r||mo))}}this.injectorDefTypes.add(o),this.records.set(o,So(r.factory,fo));const a=r.providers;if(null!=a&&!s){const e=t;ct(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=xo(t=A(t))?t:A(t&&t.provide);const i=function(t,e,n){return Co(t)?So(void 0,t.useValue):So(wo(t,e,n),fo)}(t,e,n);if(xo(t)||!0!==t.multi){const t=this.records.get(r);t&&void 0!==t.multi&&br()}else{let e=this.records.get(r);e?void 0===e.multi&&br():(e=So(void 0,fo,!0),e.factory=()=>it(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===po?function(t){throw new Error("Cannot instantiate cyclic dependency! "+t)}(k(t)):e.value===fo&&(e.value=po,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function _o(t){const e=y(t),n=null!==e?e.factory:Rt(t);if(null!==n)return n;const r=w(t);if(null!==r)return r.factory;if(t instanceof z)throw new Error(`Token ${k(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=ht(e,"?");throw new Error(`Can't resolve all parameters for ${k(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[S]||t[O]||t[x]&&t[x]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function wo(t,e,n){let r=void 0;if(xo(t)){const e=A(t);return Rt(e)||_o(e)}if(Co(t))r=()=>A(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...it(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>et(A(t.useExisting));else{const i=A(t&&(t.useClass||t.provide));if(i||function(t,e,n){let r="";throw t&&e&&(r=` - only instances of Provider and Type are allowed, got: [${e.map(t=>t==n?"?"+n+"?":"...").join(", ")}]`),new Error(`Invalid provider for the NgModule '${k(t)}'`+r)}(e,n,t),!function(t){return!!t.deps}(t))return Rt(i)||_o(i);r=()=>new i(...it(t.deps))}var i;return r}function So(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Co(t){return null!==t&&"object"==typeof t&&Q in t}function xo(t){return"function"==typeof t}const Oo=function(t,e,n){return function(t,e=null,n=null,r){const i=vo(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let Eo=(()=>{class t{static create(t,e){return Array.isArray(t)?Oo(t,e,""):Oo(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=G,t.NULL=new ot,t.\u0275prov=b({token:t,providedIn:"any",factory:()=>et(K)}),t.__NG_ELEMENT_ID__=-1,t})();const ko=new z("AnalyzeForEntryComponents");function To(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=T(i,t):2==o&&(r=T(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}let Io=null;function Ro(){if(!Io){const t=L.Symbol;if(t&&t.iterator)Io=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Io=n)}}}return Io}class Ao{constructor(t){this.wrapped=t}static wrap(t){return new Ao(t)}static unwrap(t){return Ao.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Ao}}function Po(t){return!!Do(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ro()in t)}function Do(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function jo(t,e,n){return t[e]=n}function No(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Mo(t,e,n,r){const i=No(t,e,n);return No(t,e+1,r)||i}function Lo(t,e,n,r){const i=ue();return No(i,_e(),e)&&(le(),function(t,e,n,r,i,o){const s=Xt(t,e),a=e[11];if(null==r)Gt(a)?a.removeAttribute(s,n,o):s.removeAttribute(n);else{const e=null==i?Ze(r):i(r,t.tagName||"",n);Gt(a)?a.setAttribute(s,n,e,o):o?s.setAttributeNS(o,n,e):s.setAttribute(n,e)}}(Me(),i,t,e,n,r)),Lo}function Fo(t,e,n,r){return No(t,_e(),n)?e+Ze(n)+r:Ir}function Vo(t,e,n,r,i,o,s,a){const c=ue(),u=le(),l=t+20,h=u.firstCreatePass?function(t,e,n,r,i,o,s,a,c){const u=e.consts,l=zr(e,n[6],t,0,s||null,ie(u,a));oi(e,n,l,ie(u,c)),Le(e,l);const h=l.tViews=ti(2,-1,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u),d=ni(0,null,2,-1,null,null);return d.injectorIndex=l.injectorIndex,h.node=d,null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,u,c,e,n,r,i,o,s):u.data[l];fe(h,!1);const d=c[11].createComment("");Ki(u,c,d,h),mr(d,c),_i(c,c[l]=bi(d,c,d,h)),Mt(h)&&Xr(u,c,h),null!=s&&Jr(c,h,a)}function Bo(t){return Zt(ae.lFrame.contextLView,t)}function Uo(t,e=p.Default){const n=ue();return null==n?et(t,e):dn(de(),n,A(t),e)}function qo(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(ze(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(de(),t)}function Wo(){throw new Error("invalid")}function Ho(t,e,n){const r=ue();return No(r,_e(),e)&&ii(le(),Me(),r,t,e,r[11],n,!1),Ho}function zo(t,e,n,r,i){const o=i?"class":"style";Ii(t,n,e.inputs[o],o,r)}function Ko(t,e,n,r){const i=ue(),o=le(),s=20+t,a=i[11],c=i[s]=Wr(e,a,ae.lFrame.currentNamespace),u=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,c=ie(a,o),u=zr(e,n[6],t,3,i,c);return oi(e,n,u,ie(a,s)),null!==u.attrs&&To(u,u.attrs,!1),null!==u.mergedAttrs&&To(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(t,o,i,0,e,n,r):o.data[s];fe(u,!0);const l=u.mergedAttrs;null!==l&&He(a,c,l);const h=u.classes;null!==h&&Ji(a,c,h);const d=u.styles;null!==d&&Xi(a,c,d),Ki(o,i,c,u),0===ae.lFrame.elementDepthCount&&mr(c,i),ae.lFrame.elementDepthCount++,Mt(u)&&(Xr(o,i,u),$r(o,u,i)),null!==r&&Jr(i,u)}function Go(){let t=de();pe()?me():(t=t.parent,fe(t,!1));const e=t;ae.lFrame.elementDepthCount--;const n=le();n.firstCreatePass&&(Le(n,t),jt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&zo(n,e,ue(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&zo(n,e,ue(),e.stylesWithoutHost,!1)}function Yo(t,e,n,r){Ko(t,e,n,r),Go()}function Qo(t,e,n){const r=ue(),i=le(),o=t+20,s=i.firstCreatePass?function(t,e,n,r,i){const o=e.consts,s=ie(o,r),a=zr(e,n[6],t,4,"ng-container",s);return null!==s&&To(a,s,!0),oi(e,n,a,ie(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(t,i,r,e,n):i.data[o];fe(s,!0);const a=r[o]=r[11].createComment("");Ki(i,r,a,s),mr(a,r),Mt(s)&&(Xr(i,r,s),$r(i,s,r)),null!=n&&Jr(r,s)}function $o(){let t=de();const e=le();pe()?me():(t=t.parent,fe(t,!1)),e.firstCreatePass&&(Le(e,t),jt(t)&&e.queries.elementEnd(t))}function Xo(t,e,n){Qo(t,e,n),$o()}function Jo(){return ue()}function Zo(t){return!!t&&"function"==typeof t.then}function ts(t){return!!t&&"function"==typeof t.subscribe}function es(t,e,n=!1,r){const i=ue(),o=le(),s=de();return rs(o,i,i[11],s,t,e,n,r),es}function ns(t,e,n=!1,r){const i=de(),o=ue(),s=le();return rs(s,o,ki(xe(s.data),i,o),i,t,e,n,r),ns}function rs(t,e,n,r,i,o,s=!1,a){const c=Mt(r),u=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=Ei(e);let h=!0;if(3===r.type){const d=Xt(r,e),f=a?a(d):bt,p=f.target||d,m=l.length,g=a?t=>a(Qt(t[r.index])).target:r.index;if(Gt(n)){let s=null;if(!a&&c&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=os(r,e,o,!1);const t=n.listen(f.name||p,i,o);l.push(o,t),u&&u.push(i,g,m,m+1)}}else o=os(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),u&&u.push(i,g,m,s)}const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(o),s=l.length;l.push(o,t),u&&u.push(i,r.index,s,-(s+1))}}}function is(t,e,n){try{return!1!==e(n)}catch(r){return Ti(t,r),!1}}function os(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?te(t.index,e):e;0==(32&e[2])&&wi(s);let a=is(e,n,o),c=i.__ngNextListenerFn__;for(;c;)a=is(e,c,o)&&a,c=c.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function ss(t=1){return function(t){return(ae.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,ae.lFrame.contextLView))[8]}(t)}function as(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?Or(t,o,!0):Er(r,o))return i}else n=i}return n}function cs(t){const e=ue()[16][6];if(!e.projection){const n=e.projection=ht(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?as(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function us(t,e=0,n){const r=ue(),i=le(),o=zr(i,r[6],t,1,null,n||null);null===o.projection&&(o.projection=e),me(),function(t,e,n){$i(e[11],0,e,n,Bi(t,n,e),zi(n.parent||e[6],e))}(i,r,o)}const ls=[];function hs(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?Lr(o):Vr(o),c=!1;for(;0!==a&&(!1===c||s);){const n=t[a+1];ds(t[a],e)&&(c=!0,t[a+1]=r?Ur(n):Fr(n)),a=r?Lr(n):Vr(n)}c&&(t[n+1]=r?Fr(o):Ur(o))}function ds(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&pt(t,e)>=0}const fs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ps(t){return t.substring(fs.key,fs.keyEnd)}function ms(t,e){const n=fs.textEnd;return n===e?-1:(e=fs.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,fs.key=e,n),gs(t,e,n))}function gs(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function bs(t,e,n){return _s(t,e,n,!1),bs}function vs(t,e){return _s(t,e,null,!0),vs}function ys(t,e){for(let n=function(t){return function(t){fs.key=0,fs.keyEnd=0,fs.value=0,fs.valueEnd=0,fs.textEnd=t.length}(t),ms(t,gs(t,0,fs.textEnd))}(e);n>=0;n=ms(e,n))dt(t,ps(e),!0)}function _s(t,e,n,r){const i=ue(),o=le(),s=we(2);o.firstUpdatePass&&Ss(o,t,s,r),e!==Ir&&No(i,s,e)&&Os(o,o.data[je()+20],i,i[11],t,i[s+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=k(Pn(t)))),t}(e,n),r,s)}function ws(t,e){return e>=t.expandoStartIndex}function Ss(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[je()+20],s=ws(t,n);Ts(o,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=xe(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=xs(n=Cs(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=Cs(i,t,e,n,r),null===o){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Vr(r))return t[Lr(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=Cs(null,t,e,n[1],r),n=xs(n,e.attrs,r),function(t,e,n,r){t[Lr(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else o=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=xs(r,t[o].hostAttrs,n);return xs(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Lr(s),c=Vr(s);t[r]=n;let u,l=!1;if(Array.isArray(n)){const t=n;u=t[1],(null===u||pt(t,u)>0)&&(l=!0)}else u=n;if(i)if(0!==c){const e=Lr(t[a+1]);t[r+1]=Mr(e,a),0!==e&&(t[e+1]=Br(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=Mr(a,0),0!==a&&(t[a+1]=Br(t[a+1],r)),a=r;else t[r+1]=Mr(c,0),0===a?a=r:t[c+1]=Br(t[c+1],r),c=r;l&&(t[r+1]=Fr(t[r+1])),hs(t,u,r,!0),hs(t,u,r,!1),function(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&pt(o,e)>=0&&(n[r+1]=Ur(n[r+1]))}(e,u,t,r,o),s=Mr(a,c),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function Cs(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=xs(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function xs(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),dt(t,s,!!n||e[++o]))}return void 0===t?null:t}function Os(t,e,n,r,i,o,s,a){if(3!==e.type)return;const c=t.data,u=c[a+1];ks(1==(1&u)?Es(c,e,n,i,Vr(u),s):void 0)||(ks(o)||function(t){return 2==(2&t)}(u)&&(o=Es(c,null,n,i,a,s)),function(t,e,n,r,i){const o=Gt(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{const e=-1==r.indexOf("-")?void 0:2;null==i?o?t.removeStyle(n,r,e):n.style.removeProperty(r):o?t.setStyle(n,r,i,e):n.style.setProperty(r,i)}}(r,s,$t(je(),n),i,o))}function Es(t,e,n,r,i,o){const s=null===e;let a=void 0;for(;i>0;){const e=t[i],o=Array.isArray(e),c=o?e[1]:e,u=null===c;let l=n[i+1];l===Ir&&(l=u?ls:void 0);let h=u?ft(l,r):c===r?l:void 0;if(o&&!ks(h)&&(h=ft(e,r)),ks(h)&&(a=h,s))return a;const d=t[i+1];i=s?Lr(d):Vr(d)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=ft(t,r))}return a}function ks(t){return void 0!==t}function Ts(t,e){return 0!=(t.flags&(e?16:32))}function Is(t,e=""){const n=ue(),r=le(),i=t+20,o=r.firstCreatePass?zr(r,n[6],t,3,null,null):r.data[i],s=n[i]=function(t,e){return Gt(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);Ki(r,n,s,o),fe(o,!1)}function Rs(t){return As("",t,""),Rs}function As(t,e,n){const r=ue(),i=Fo(r,t,e,n);return i!==Ir&&Ri(r,je(),i),As}function Ps(t,e,n,r,i){const o=ue(),s=function(t,e,n,r,i,o){const s=Mo(t,ye(),n,i);return we(2),s?e+Ze(n)+r+Ze(i)+o:Ir}(o,t,e,n,r,i);return s!==Ir&&Ri(o,je(),s),Ps}function Ds(t,e,n){!function(t,e,n,r){const i=le(),o=we(2);i.firstUpdatePass&&Ss(i,null,o,!0);const s=ue();if(n!==Ir&&No(s,o,n)){const r=i.data[je()+20];if(Ts(r,!0)&&!ws(i,o)){let t=r.classesWithoutHost;null!==t&&(n=T(t,n||"")),zo(i,r,s,n,!0)}else!function(t,e,n,r,i,o,s,a){i===Ir&&(i=ls);let c=0,u=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;null!==l||null!==h;){const s=c<i.length?i[c+1]:void 0,d=u<o.length?o[u+1]:void 0;let f=null,p=void 0;l===h?(c+=2,u+=2,s!==d&&(f=h,p=d)):null===h||null!==l&&l<h?(c+=2,f=l):(u+=2,f=h,p=d),null!==f&&Os(t,e,n,r,f,p,!0,a),l=c<i.length?i[c]:null,h=u<o.length?o[u]:null}}(i,r,s,s[11],s[o+1],s[o+1]=function(t,e,n){if(null==n||""===n)return ls;const r=[],i=Pn(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(t,e,n),0,o)}}(dt,ys,Fo(ue(),t,e,n))}function js(t,e,n){const r=ue();return No(r,_e(),e)&&ii(le(),Me(),r,t,e,r[11],n,!0),js}function Ns(t,e,n){const r=ue();if(No(r,_e(),e)){const i=le(),o=Me();ii(i,o,r,t,e,ki(xe(i.data),o,r),n,!0)}return Ns}function Ms(t,e){const n=ee(t)[1],r=n.data.length-1;Le(n,{directiveStart:r,directiveEnd:r+1})}function Ls(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(Lt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Fs(t.inputs),e.declaredInputs=Fs(t.declaredInputs),e.outputs=Fs(t.outputs);const n=i.hostBindings;n&&Us(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&Vs(t,o),s&&Bs(t,s),g(t.inputs,i.inputs),g(t.declaredInputs,i.declaredInputs),g(t.outputs,i.outputs),Lt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Ls&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ge(i.hostAttrs,n=Ge(n,i.hostAttrs))}}(r)}function Fs(t){return t===bt?{}:t===vt?[]:t}function Vs(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Bs(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Us(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}function qs(t,e,n,r,i){if(t=A(t),Array.isArray(t))for(let o=0;o<t.length;o++)qs(t[o],e,n,r,i);else{const o=le(),s=ue();let a=xo(t)?t:A(t.provide),c=wo(t);const u=de(),l=1048575&u.providerIndexes,h=u.directiveStart,d=u.providerIndexes>>20;if(xo(t)||!t.multi){const r=new We(c,i,Uo),f=zs(a,e,i?l:l+d,h);-1===f?(hn(an(u,s),o,a),Ws(o,t,e.length),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(r),s.push(r)):(n[f]=r,s[f]=r)}else{const f=zs(a,e,l+d,h),p=zs(a,e,l,l+d),m=f>=0&&n[f],g=p>=0&&n[p];if(i&&!g||!i&&!m){hn(an(u,s),o,a);const l=function(t,e,n,r,i){const o=new We(t,n,Uo);return o.multi=[],o.index=e,o.componentProviders=0,Hs(o,i,r&&!n),o}(i?Gs:Ks,n.length,i,r,c);!i&&g&&(n[p].providerFactory=l),Ws(o,t,e.length,0),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(l),s.push(l)}else Ws(o,t,f>-1?f:p,Hs(n[i?p:f],c,!i&&r));!i&&r&&g&&n[p].componentProviders++}}}function Ws(t,e,n,r){const i=xo(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function Hs(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function zs(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Ks(t,e,n,r){return Ys(this.multi,[])}function Gs(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=gn(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),Ys(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],Ys(i,o);return o}function Ys(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Qs(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=le();if(r.firstCreatePass){const i=Lt(t);qs(n,r.data,r.blueprint,i,!0),qs(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class $s{}class Xs{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${k(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Js=(()=>{class t{}return t.NULL=new Xs,t})(),Zs=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>ta(t),t})();const ta=function(t){return io(t,de(),ue())};class ea{}var na=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let ra=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ia(),t})();const ia=function(){const t=ue(),e=te(de().index,t);return function(t){const e=t[11];if(Gt(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Pt(e)?e:t)};let oa=(()=>{class t{}return t.\u0275prov=b({token:t,providedIn:"root",factory:()=>null}),t})();class sa{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const aa=new sa("10.0.14");class ca{constructor(){}supports(t){return Po(t)}create(t){return new la(t)}}const ua=(t,e)=>e;class la{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ua}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<pa(n,r,i)?e:n,s=pa(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Po(t))throw new Error(`Error trying to diff '${k(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Ro()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new ha(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new fa),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new fa),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class ha{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class da{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class fa{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new da,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function pa(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class ma{constructor(){}supports(t){return t instanceof Map||Do(t)}create(){return new ga}}class ga{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Do(t)))throw new Error(`Error trying to diff '${k(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new ba(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class ba{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let va=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new f,new h]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=b({token:t,providedIn:"root",factory:()=>new t([new ca])}),t})(),ya=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new f,new h]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=b({token:t,providedIn:"root",factory:()=>new t([new ma])}),t})();const _a=[new ma],wa=new va([new ca]),Sa=new ya(_a);let Ca=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>xa(t,Zs),t})();const xa=function(t,e){return oo(t,e,de(),ue())};let Oa=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ea(t,Zs),t})();const Ea=function(t,e){return so(t,e,de(),ue())},ka={};class Ta extends Js{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=It(t);return new Aa(e,this.ngModule)}}function Ia(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Ra=new z("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>en});class Aa extends $s{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Tr).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Ia(this.componentDef.inputs)}get outputs(){return Ia(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,ka,i);return o!==ka||r===ka?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(ea,Yt),s=i.get(oa,null),a=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=n?function(t,e,n){if(Gt(t))return t.selectRootElement(e,n===gt.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Wr(c,o.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:en,clean:Oi,playerHandler:null,flags:0},d=ti(0,-1,null,1,0,null,null,null,null,null),f=Hr(null,d,h,l,null,null,o,a,s,i);let p,m;Te(f,null);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=zr(s,null,0,3,null,null),c=a.mergedAttrs=e.hostAttrs;null!==c&&(To(a,c,!0),null!==t&&(He(i,t,c),null!==a.classes&&Ji(i,t,a.classes),null!==a.styles&&Xi(i,t,a.styles)));const u=r.createRenderer(t,e),l=Hr(n,Zr(e),null,e.onPush?64:16,n[20],a,r,u,void 0);return s.firstCreatePass&&(hn(an(a,n),s,e.type),li(s,a),di(a,n.length,1)),_i(n,l),n[20]=l}(u,this.componentDef,f,o,a);if(u)if(n)He(a,u,["ng-version",aa.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Cr(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&He(a,u,t),e&&e.length>0&&Ji(a,u,e.join(" "))}if(m=Jt(d,0),void 0!==e){const t=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=de();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),ui(t,r,1),fi(t,e,n));const i=gn(e,t,e.length-1,r);mr(i,e);const o=Xt(r,e);return o&&mr(o,e),i}(o,n,e);r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries&&e.contentQueries(1,s,n.length-1);const a=de();if(o.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){Ne(a.index-20);const t=n[1];si(t,e),ai(t,n,e.hostVars),ci(e,s)}return s}(t,this.componentDef,f,h,[Ms]),Kr(d,f,null)}finally{De()}const g=new Pa(this.componentType,p,io(Zs,m,f),f,m);return d.node.child=m,g}}class Pa extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new to(r),function(t,e,n,r){let i=t.node;null==i&&(t.node=i=ni(0,null,2,-1,null,null)),r[6]=i}(r[1],0,0,r),this.componentType=t}get injector(){return new yn(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const Da=void 0;var ja=["en",[["a","p"],["AM","PM"],Da],[["AM","PM"],Da,Da],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Da,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Da,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Da,"{1} 'at' {0}",Da],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Na={};function Ma(t,e,n){"string"!=typeof e&&(n=e,e=t[Ua.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Na[e]=t,n&&(Na[e][Ua.ExtraData]=n)}function La(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Ba(e);if(n)return n;const r=e.split("-")[0];if(n=Ba(r),n)return n;if("en"===r)return ja;throw new Error(`Missing locale data for the locale "${t}".`)}function Fa(t){return La(t)[Ua.CurrencyCode]||null}function Va(t){return La(t)[Ua.PluralCase]}function Ba(t){return t in Na||(Na[t]=L.ng&&L.ng.common&&L.ng.common.locales&&L.ng.common.locales[t]),Na[t]}var Ua=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});let qa="en-US";function Wa(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(qa=t.toLowerCase().replace(/_/g,"-"))}const Ha=new Map;class za extends st{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ta(this);const n=At(t),r=t[q]||null;r&&Wa(r),this._bootstrapComponents=nn(n.bootstrap),this._r3Injector=vo(t,e,[{provide:st,useValue:this},{provide:Js,useValue:this.componentFactoryResolver}],k(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Eo.THROW_IF_NOT_FOUND,n=p.Default){return t===Eo||t===st||t===K?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Ka extends at{constructor(t){super(),this.moduleType=t,null!==At(t)&&function t(e){if(null!==e.\u0275mod.id){const t=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${k(e)} vs ${k(e.name)}`)})(t,Ha.get(t),e),Ha.set(t,e)}let n=e.\u0275mod.imports;n instanceof Function&&(n=n()),n&&n.forEach(e=>t(e))}(t)}create(t){return new za(this.moduleType,t)}}function Ga(t,e,n){const r=ve()+t,i=ue();return i[r]===Ir?jo(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function Ya(t,e,n,r){return Xa(ue(),ve(),t,e,n,r)}function Qa(t,e,n,r,i){return Ja(ue(),ve(),t,e,n,r,i)}function $a(t,e){const n=t[e];return n===Ir?void 0:n}function Xa(t,e,n,r,i,o){const s=e+n;return No(t,s,i)?jo(t,s+1,o?r.call(o,i):r(i)):$a(t,s+1)}function Ja(t,e,n,r,i,o,s){const a=e+n;return Mo(t,a,i,o)?jo(t,a+2,s?r.call(s,i,o):r(i,o)):$a(t,a+2)}function Za(t,e){const n=le();let r;const i=t+20;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new Error(`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=Rt(r.type)),s=Z(Uo),a=on(!1),c=o();return on(a),Z(s),function(t,e,n,r){const i=n+20;i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),e[i]=r}(n,ue(),t,c),c}function tc(t,e,n){const r=ue(),i=Zt(r,t);return rc(r,nc(r,t)?Xa(r,ve(),e,i.transform,n,i):i.transform(n))}function ec(t,e,n,r){const i=ue(),o=Zt(i,t);return rc(i,nc(i,t)?Ja(i,ve(),e,o.transform,n,r,o):o.transform(n,r))}function nc(t,e){return t[1].data[e+20].pure}function rc(t,e){return Ao.isWrapped(e)&&(e=Ao.unwrap(e),t[ye()]=Ir),e}const ic=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,o,s);return t instanceof i.a&&t.add(a),a}};function oc(){return this._results[Ro()]()}class sc{constructor(){this.dirty=!0,this._results=[],this.changes=new ic,this.length=0;const t=Ro(),e=sc.prototype;e[t]||(e[t]=oc)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class ac{constructor(t){this.queryList=t,this.matches=null}clone(){return new ac(this.queryList)}setDirty(){this.queryList.setDirty()}}class cc{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new cc(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Oc(t,e).matches&&this.queries[e].setDirty()}}class uc{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class lc{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new lc(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class hc{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new hc(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&4===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,dc(e,i)),this.matchTNodeWithReadOption(t,e,mn(e,t,i,!1,!1))}else n===Ca?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,mn(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Zs||r===Oa||r===Ca&&0===e.type)this.addMatch(e.index,-2);else{const n=mn(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function dc(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function fc(t,e,n,r){return-1===n?function(t,e){return 3===t.type||4===t.type?io(Zs,t,e):0===t.type?oo(Ca,Zs,t,e):null}(e,t):-2===n?function(t,e,n){return n===Zs?io(Zs,e,t):n===Ca?oo(Ca,Zs,e,t):n===Oa?so(Oa,Zs,e,t):void 0}(t,e,r):gn(t,t[1],n,e)}function pc(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:fc(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function mc(t){const e=ue(),n=le(),r=Oe();Ee(r+1);const i=Oc(n,r);if(t.dirty&&ne(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?function t(e,n,r,i){const o=e.queries.getByIndex(r),s=o.matches;if(null!==s){const a=pc(e,n,o,r);for(let e=0;e<s.length;e+=2){const r=s[e];if(r>0)i.push(a[e/2]);else{const o=s[e+1],a=n[-r];for(let e=10;e<a.length;e++){const n=a[e];n[17]===n[3]&&t(n[1],n,o,i)}if(null!==a[9]){const e=a[9];for(let n=0;n<e.length;n++){const r=e[n];t(r[1],r,o,i)}}}}}return i}(n,e,r,[]):pc(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function gc(t,e,n){vc(le(),ue(),t,e,n,!0)}function bc(t,e,n){vc(le(),ue(),t,e,n,!1)}function vc(t,e,n,r,i,o){t.firstCreatePass&&(xc(t,new uc(n,r,o,i),-1),o&&(t.staticViewQueries=!0)),Cc(t,e)}function yc(t,e,n,r){wc(le(),ue(),e,n,r,!1,de(),t)}function _c(t,e,n,r){wc(le(),ue(),e,n,r,!0,de(),t)}function wc(t,e,n,r,i,o,s,a){t.firstCreatePass&&(xc(t,new uc(n,r,o,i),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a),o&&(t.staticContentQueries=!0)),Cc(t,e)}function Sc(){return t=ue(),e=Oe(),t[19].queries[e].queryList;var t,e}function Cc(t,e){const n=new sc;ei(t,e,n,n.destroy),null===e[19]&&(e[19]=new cc),e[19].queries.push(new ac(n))}function xc(t,e,n){null===t.queries&&(t.queries=new lc),t.queries.track(new hc(e,n))}function Oc(t,e){return t.queries.getByIndex(e)}function Ec(t=p.Default){const e=ao(!0);if(null!=e||t&p.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}const kc=new z("Application Initializer");let Tc=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Zo(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(et(kc,8))},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();const Ic=new z("AppId"),Rc={provide:Ic,useFactory:function(){return`${Ac()}${Ac()}${Ac()}`},deps:[]};function Ac(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Pc=new z("Platform Initializer"),Dc=new z("Platform ID"),jc=new z("appBootstrapListener");let Nc=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();const Mc=new z("LocaleId"),Lc=new z("DefaultCurrencyCode");class Fc{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Vc=function(t){return new Ka(t)},Bc=Vc,Uc=function(t){return Promise.resolve(Vc(t))},qc=function(t){const e=Vc(t),n=nn(At(t).declarations).reduce((t,e)=>{const n=It(e);return n&&t.push(new Aa(n)),t},[]);return new Fc(e,n)},Wc=qc,Hc=function(t){return Promise.resolve(qc(t))};let zc=(()=>{class t{constructor(){this.compileModuleSync=Bc,this.compileModuleAsync=Uc,this.compileModuleAndAllComponentsSync=Wc,this.compileModuleAndAllComponentsAsync=Hc}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();const Kc=(()=>Promise.resolve(0))();function Gc(t){"undefined"==typeof Zone?Kc.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Yc{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ic(!1),this.onMicrotaskEmpty=new ic(!1),this.onStable=new ic(!1),this.onError=new ic(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=e,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=L.requestAnimationFrame,e=L.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(L,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Jc(t),Xc(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Jc(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,s,a)=>{try{return Zc(t),n.invokeTask(i,o,s,a)}finally{e&&"eventTask"===o.type&&e(),tu(t)}},onInvoke:(e,n,r,i,o,s,a)=>{try{return Zc(t),e.invoke(r,i,o,s,a)}finally{tu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Jc(t),Xc(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Yc.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Yc.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,$c,Qc,Qc);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function Qc(){}const $c={};function Xc(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Jc(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Zc(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function tu(t){t._nesting--,Xc(t)}class eu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ic,this.onMicrotaskEmpty=new ic,this.onStable=new ic,this.onError=new ic}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let nu=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Yc.assertNotInAngularZone(),Gc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Gc(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(et(Yc))},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})(),ru=(()=>{class t{constructor(){this._applications=new Map,au.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return au.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();class iu{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function ou(t){au=t}let su,au=new iu;const cu=new z("AllowMultipleToken");class uu{constructor(t,e){this.name=t,this.token=e}}function lu(t,e,n=[]){const r="Platform: "+e,i=new z(r);return(e=[])=>{let o=hu();if(!o||o.injector.get(cu,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:ho,useValue:"platform"});!function(t){if(su&&!su.destroyed&&!su.injector.get(cu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");su=t.get(du);const e=t.get(Pc,null);e&&e.forEach(t=>t())}(Eo.create({providers:t,name:r}))}return function(t){const e=hu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function hu(){return su&&!su.destroyed?su:null}let du=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new eu:("zone.js"===t?void 0:t)||new Yc({enableLongStackTrace:qn(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:Yc,useValue:n}];return n.run(()=>{const e=Eo.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(On,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>mu(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{o.handleError(t)}})),function(t,e,n){try{const r=n();return Zo(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(Tc);return t.runInitializers(),t.donePromise.then(()=>(Wa(i.injector.get(Mc,"en-US")||"en-US"),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=fu({},e);return function(t,e,n){const r=new Ka(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(pu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${k(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(et(Eo))},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();function fu(t,e){return Array.isArray(e)?e.reduce(fu,t):Object.assign(Object.assign({},t),e)}let pu=(()=>{class t{constructor(t,e,n,r,i,c){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=qn(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const u=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Yc.assertNotInAngularZone(),Gc(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Yc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(u,l.pipe(Object(a.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof $s?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(st),i=n.create(Eo.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const o=i.injector.get(nu,null);return o&&i.injector.get(ru).registerApplication(i.location.nativeElement,o),this._loadComponent(i),qn()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;mu(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(jc,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),mu(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(et(Yc),et(Nc),et(Eo),et(On),et(Js),et(Tc))},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();function mu(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class gu{}class bu{}const vu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let yu=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||vu}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>_u(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>_u(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(et(zc),et(bu,8))},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();function _u(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}class wu extends co{}class Su extends wu{}const Cu=function(t){return null},xu=lu(null,"core",[{provide:Dc,useValue:"unknown"},{provide:du,deps:[Eo]},{provide:ru,deps:[]},{provide:Nc,deps:[]}]),Ou=[{provide:pu,useClass:pu,deps:[Yc,Nc,Eo,On,Js,Tc]},{provide:Ra,deps:[Yc],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Tc,useClass:Tc,deps:[[new h,kc]]},{provide:zc,useClass:zc,deps:[]},Rc,{provide:va,useFactory:function(){return wa},deps:[]},{provide:ya,useFactory:function(){return Sa},deps:[]},{provide:Mc,useFactory:function(t){return Wa(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new l(Mc),new h,new f]]},{provide:Lc,useValue:"USD"}];let Eu=(()=>{class t{constructor(t){}}return t.\u0275mod=xt({type:t}),t.\u0275inj=v({factory:function(e){return new(e||t)(et(pu))},providers:Ou}),t})()},"9HnI":function(t,e){t.exports={AED:"\u062f.\u0625",AFN:"\u060b",ALL:"L",AMD:"\u058f",ANG:"\u0192",AOA:"Kz",ARS:"$",AUD:"$",AWG:"\u0192",AZN:"\u20bc",BAM:"KM",BBD:"$",BDT:"\u09f3",BGN:"\u043b\u0432",BHD:".\u062f.\u0628",BIF:"FBu",BMD:"$",BND:"$",BOB:"$b",BOV:"BOV",BRL:"R$",BSD:"$",BTC:"\u20bf",BTN:"Nu.",BWP:"P",BYN:"Br",BYR:"Br",BZD:"BZ$",CAD:"$",CDF:"FC",CHE:"CHE",CHF:"CHF",CHW:"CHW",CLF:"CLF",CLP:"$",CNY:"\xa5",COP:"$",COU:"COU",CRC:"\u20a1",CUC:"$",CUP:"\u20b1",CVE:"$",CZK:"K\u010d",DJF:"Fdj",DKK:"kr",DOP:"RD$",DZD:"\u062f\u062c",EEK:"kr",EGP:"\xa3",ERN:"Nfk",ETB:"Br",ETH:"\u039e",EUR:"\u20ac",FJD:"$",FKP:"\xa3",GBP:"\xa3",GEL:"\u20be",GGP:"\xa3",GHC:"\u20b5",GHS:"GH\u20b5",GIP:"\xa3",GMD:"D",GNF:"FG",GTQ:"Q",GYD:"$",HKD:"$",HNL:"L",HRK:"kn",HTG:"G",HUF:"Ft",IDR:"Rp",ILS:"\u20aa",IMP:"\xa3",INR:"\u20b9",IQD:"\u0639.\u062f",IRR:"\ufdfc",ISK:"kr",JEP:"\xa3",JMD:"J$",JOD:"JD",JPY:"\xa5",KES:"KSh",KGS:"\u043b\u0432",KHR:"\u17db",KMF:"CF",KPW:"\u20a9",KRW:"\u20a9",KWD:"KD",KYD:"$",KZT:"\u20b8",LAK:"\u20ad",LBP:"\xa3",LKR:"\u20a8",LRD:"$",LSL:"M",LTC:"\u0141",LTL:"Lt",LVL:"Ls",LYD:"LD",MAD:"MAD",MDL:"lei",MGA:"Ar",MKD:"\u0434\u0435\u043d",MMK:"K",MNT:"\u20ae",MOP:"MOP$",MRO:"UM",MRU:"UM",MUR:"\u20a8",MVR:"Rf",MWK:"MK",MXN:"$",MXV:"MXV",MYR:"RM",MZN:"MT",NAD:"$",NGN:"\u20a6",NIO:"C$",NOK:"kr",NPR:"\u20a8",NZD:"$",OMR:"\ufdfc",PAB:"B/.",PEN:"S/.",PGK:"K",PHP:"\u20b1",PKR:"\u20a8",PLN:"z\u0142",PYG:"Gs",QAR:"\ufdfc",RMB:"\uffe5",RON:"lei",RSD:"\u0414\u0438\u043d.",RUB:"\u20bd",RWF:"R\u20a3",SAR:"\ufdfc",SBD:"$",SCR:"\u20a8",SDG:"\u062c.\u0633.",SEK:"kr",SGD:"S$",SHP:"\xa3",SLL:"Le",SOS:"S",SRD:"$",SSP:"\xa3",STD:"Db",STN:"Db",SVC:"$",SYP:"\xa3",SZL:"E",THB:"\u0e3f",TJS:"SM",TMT:"T",TND:"\u062f.\u062a",TOP:"T$",TRL:"\u20a4",TRY:"\u20ba",TTD:"TT$",TVD:"$",TWD:"NT$",TZS:"TSh",UAH:"\u20b4",UGX:"USh",USD:"$",UYI:"UYI",UYU:"$U",UYW:"UYW",UZS:"\u043b\u0432",VEF:"Bs",VES:"Bs.S",VND:"\u20ab",VUV:"VT",WST:"WS$",XAF:"FCFA",XBT:"\u0243",XCD:"$",XOF:"CFA",XPF:"\u20a3",XSU:"Sucre",XUA:"XUA",YER:"\ufdfc",ZAR:"R",ZMW:"ZK",ZWD:"Z$",ZWL:"$"}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},"9x6x":function(t,e,n){"use strict";t.exports=function(t,e){e||(e={}),"function"==typeof e&&(e={cmp:e});var n,r="boolean"==typeof e.cycles&&e.cycles,i=e.cmp&&(n=e.cmp,function(t){return function(e,r){return n({key:e,value:t[e]},{key:r,value:t[r]})}}),o=[];return function t(e){if(e&&e.toJSON&&"function"==typeof e.toJSON&&(e=e.toJSON()),void 0!==e){if("number"==typeof e)return isFinite(e)?""+e:"null";if("object"!=typeof e)return JSON.stringify(e);var n,s;if(Array.isArray(e)){for(s="[",n=0;n<e.length;n++)n&&(s+=","),s+=t(e[n])||"null";return s+"]"}if(null===e)return"null";if(-1!==o.indexOf(e)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var a=o.push(e)-1,c=Object.keys(e).sort(i&&i(e));for(s="",n=0;n<c.length;n++){var u=c[n],l=t(e[u]);l&&(s&&(s+=","),s+=JSON.stringify(u)+":"+l)}return o.splice(a,1),"{"+s+"}"}}(t)}},"ABJ/":function(t,e,n){t.exports=n("p7JZ").Observable},ALmS:function(t,e,n){"use strict";var r=n("jzux");n.o(r,"ApolloLink")&&n.d(e,"ApolloLink",(function(){return r.ApolloLink}));var i=n("Gj6d");n.o(i,"ApolloLink")&&n.d(e,"ApolloLink",(function(){return i.ApolloLink}));var o=n("Bdln");n.o(o,"ApolloLink")&&n.d(e,"ApolloLink",(function(){return o.ApolloLink}));var s=n("qVdT");Object(s.c)("log")},AQry:function(t,e,n){"use strict";n.d(e,"a",(function(){return m}));var r=n("zC+P"),i=n("qVdT"),o=n("qx2n"),s=n("bb5K"),a=n("/Osu"),c=n("sHDe"),u=Object.prototype.toString,l=n("gclO"),h=n("AiWB"),d=n("n27f"),f=n("zKVw"),p=function(){function t(t,e,n,r){this.observer=t,this.options=e,this.fetch=n,this.shouldFetch=r}return t.prototype.reobserve=function(t,e){t?this.updateOptions(t):this.updatePolling();var n=this.fetch(this.options,e);return this.concast&&this.concast.removeObserver(this.observer,!0),n.addObserver(this.observer),(this.concast=n).promise},t.prototype.updateOptions=function(t){return Object.assign(this.options,Object(f.a)(t)),this.updatePolling(),this},t.prototype.stop=function(){this.concast&&(this.concast.removeObserver(this.observer),delete this.concast),this.pollingInfo&&(clearTimeout(this.pollingInfo.timeout),this.options.pollInterval=0,this.updatePolling())},t.prototype.updatePolling=function(){var t=this,e=this.pollingInfo,n=this.options.pollInterval;if(n){if((!e||e.interval!==n)&&(Object(i.b)(n,20),!1!==this.shouldFetch)){(e||(this.pollingInfo={})).interval=n;var r=function(){t.pollingInfo&&(t.shouldFetch&&t.shouldFetch()?t.reobserve({fetchPolicy:"network-only",nextFetchPolicy:t.options.fetchPolicy||"cache-first"},s.a.poll).then(o,o):o())},o=function(){var e=t.pollingInfo;e&&(clearTimeout(e.timeout),e.timeout=setTimeout(r,e.interval))};o()}}else e&&(clearTimeout(e.timeout),delete this.pollingInfo)},t}(),m=function(t){function e(e){var n=e.queryManager,i=e.queryInfo,o=e.options,u=t.call(this,(function(t){return u.onSubscribe(t)}))||this;u.observers=new Set,u.subscriptions=new Set,u.observer={next:function(t){(u.lastError||u.isDifferentFromLastResult(t))&&(u.updateLastResult(t),Object(a.a)(u.observers,"next",t))},error:function(t){u.updateLastResult(Object(r.a)(Object(r.a)({},u.lastResult),{error:t,errors:t.graphQLErrors,networkStatus:s.a.error,loading:!1})),Object(a.a)(u.observers,"error",u.lastError=t)}},u.isTornDown=!1,u.options=o,u.queryId=n.generateQueryId();var l=Object(c.f)(o.query);return u.queryName=l&&l.name&&l.name.value,u.queryManager=n,u.queryInfo=i,u}return Object(r.c)(e,t),Object.defineProperty(e.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),e.prototype.result=function(){var t=this;return new Promise((function(e,n){var r={next:function(n){e(n),t.observers.delete(r),t.observers.size||t.queryManager.removeQuery(t.queryId),setTimeout((function(){i.unsubscribe()}),0)},error:n},i=t.subscribe(r)}))},e.prototype.getCurrentResult=function(t){void 0===t&&(t=!0);var e=this.lastResult,n=this.queryInfo.networkStatus||e&&e.networkStatus||s.a.ready,i=Object(r.a)(Object(r.a)({},e),{loading:Object(s.b)(n),networkStatus:n});if(this.isTornDown)return i;var o=this.options.fetchPolicy,a=void 0===o?"cache-first":o;if("no-cache"===a||"network-only"===a)delete i.partial;else if(!i.data||!this.queryManager.transform(this.options.query).hasForcedResolvers){var c=this.queryInfo.getDiff();i.data=c.complete||this.options.returnPartialData?c.result:void 0,c.complete?(i.networkStatus!==s.a.loading||"cache-first"!==a&&"cache-only"!==a||(i.networkStatus=s.a.ready,i.loading=!1),delete i.partial):i.partial=!0}return t&&this.updateLastResult(i),i},e.prototype.isDifferentFromLastResult=function(t){return!Object(o.a)(this.lastResultSnapshot,t)},e.prototype.getLastResult=function(){return this.lastResult},e.prototype.getLastError=function(){return this.lastError},e.prototype.resetLastResults=function(){delete this.lastResult,delete this.lastResultSnapshot,delete this.lastError,this.isTornDown=!1},e.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},e.prototype.refetch=function(t){var e={pollInterval:0},n=this.options.fetchPolicy;return"no-cache"!==n&&"cache-and-network"!==n&&(e.fetchPolicy="network-only",e.nextFetchPolicy=n||"cache-first"),t&&!Object(o.a)(this.options.variables,t)&&(e.variables=this.options.variables=Object(r.a)(Object(r.a)({},this.options.variables),t)),this.newReobserver(!1).reobserve(e,s.a.refetch)},e.prototype.fetchMore=function(t){var e=this,n=Object(r.a)(Object(r.a)({},t.query?t:Object(r.a)(Object(r.a)(Object(r.a)({},this.options),t),{variables:Object(r.a)(Object(r.a)({},this.options.variables),t.variables)})),{fetchPolicy:"no-cache"}),i=this.queryManager.generateQueryId();return n.notifyOnNetworkStatusChange&&(this.queryInfo.networkStatus=s.a.fetchMore,this.observe()),this.queryManager.fetchQuery(i,n,s.a.fetchMore).then((function(r){var i=r.data,o=t.updateQuery;return o?e.updateQuery((function(t){return o(t,{fetchMoreResult:i,variables:n.variables})})):e.queryManager.cache.writeQuery({query:n.query,variables:n.variables,data:i}),r})).finally((function(){e.queryManager.stopQuery(i),e.reobserve()}))},e.prototype.subscribeToMore=function(t){var e=this,n=this.queryManager.startGraphQLSubscription({query:t.document,variables:t.variables,context:t.context}).subscribe({next:function(n){var r=t.updateQuery;r&&e.updateQuery((function(t,e){return r(t,{subscriptionData:n,variables:e.variables})}))},error:function(e){t.onError&&t.onError(e)}});return this.subscriptions.add(n),function(){e.subscriptions.delete(n)&&n.unsubscribe()}},e.prototype.setOptions=function(t){return this.reobserve(t)},e.prototype.setVariables=function(t){if(Object(o.a)(this.variables,t))return this.observers.size?this.result():Promise.resolve();if(this.options.variables=t,!this.observers.size)return Promise.resolve();var e=this.options.fetchPolicy,n=void 0===e?"cache-first":e,r={fetchPolicy:n,variables:t};return"cache-first"!==n&&"no-cache"!==n&&"network-only"!==n&&(r.fetchPolicy="cache-and-network",r.nextFetchPolicy=n),this.reobserve(r,s.a.setVariables)},e.prototype.updateQuery=function(t){var e,n=this.queryManager,r=t(n.cache.diff({query:this.options.query,variables:this.variables,previousResult:null===(e=this.lastResult)||void 0===e?void 0:e.data,returnPartialData:!0,optimistic:!1}).result,{variables:this.variables});r&&(n.cache.writeQuery({query:this.options.query,data:r,variables:this.variables}),n.broadcastQueries())},e.prototype.startPolling=function(t){this.getReobserver().updateOptions({pollInterval:t})},e.prototype.stopPolling=function(){this.reobserver&&this.reobserver.updateOptions({pollInterval:0})},e.prototype.updateLastResult=function(t){var e=this.lastResult;return this.lastResult=t,this.lastResultSnapshot=this.queryManager.assumeImmutableResults?t:function t(e,n){switch(u.call(e)){case"[object Array]":if((n=n||new Map).has(e))return n.get(e);var r=e.slice(0);return n.set(e,r),r.forEach((function(e,i){r[i]=t(e,n)})),r;case"[object Object]":if((n=n||new Map).has(e))return n.get(e);var i=Object.create(Object.getPrototypeOf(e));return n.set(e,i),Object.keys(e).forEach((function(r){i[r]=t(e[r],n)})),i;default:return e}}(t),Object(l.a)(t.errors)||delete this.lastError,e},e.prototype.onSubscribe=function(t){var e=this;if(t===this.observer)return function(){};try{var n=t._subscription._observer;n&&!n.error&&(n.error=g)}catch(i){}var r=!this.observers.size;return this.observers.add(t),this.lastError?t.error&&t.error(this.lastError):this.lastResult&&t.next&&t.next(this.lastResult),r&&this.reobserve().catch((function(t){})),function(){e.observers.delete(t)&&!e.observers.size&&e.tearDownQuery()}},e.prototype.getReobserver=function(){return this.reobserver||(this.reobserver=this.newReobserver(!0))},e.prototype.newReobserver=function(t){var e=this,n=this.queryManager,i=this.queryId;return n.setObservableQuery(this),new p(this.observer,t?this.options:Object(r.a)({},this.options),(function(t,r){return n.setObservableQuery(e),n.fetchQueryObservable(i,t,r)}),!n.ssrMode&&function(){return!Object(s.b)(e.queryInfo.networkStatus)})},e.prototype.reobserve=function(t,e){return this.isTornDown=!1,this.getReobserver().reobserve(t,e)},e.prototype.observe=function(){this.observer.next(this.getCurrentResult(!1))},e.prototype.hasObservers=function(){return this.observers.size>0},e.prototype.tearDownQuery=function(){this.isTornDown||(this.reobserver&&(this.reobserver.stop(),delete this.reobserver),this.subscriptions.forEach((function(t){return t.unsubscribe()})),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},e}(h.a);function g(t){}Object(d.a)(m)},AiWB:function(t,e,n){"use strict";var r=n("ABJ/"),i=n.n(r);n.d(e,"a",(function(){return i.a})),n("bCCX");var o=i.a.prototype;o["@@observable"]||(o["@@observable"]=function(){return this})},BAPW:function(t,e,n){"use strict";n.d(e,"a",(function(){return f})),n.d(e,"d",(function(){return m})),n.d(e,"b",(function(){return g})),n.d(e,"c",(function(){return b}));var r=n("zC+P"),i=n("L2ys"),o=(n("qVdT"),n("sHDe"));function s(t,e,n){var r=0;return t.forEach((function(n,i){e.call(this,n,i,t)&&(t[r++]=n)}),n),t.length=r,t}var a=n("56Qq"),c=n("CuOm"),u={kind:"Field",name:{kind:"Name",value:"__typename"}};function l(t){return function t(e,n){return e.selectionSet.selections.every((function(e){return"FragmentSpread"===e.kind&&t(n[e.name.value],n)}))}(Object(o.f)(t)||Object(o.c)(t),Object(c.a)(Object(o.d)(t)))?null:t}function h(t){return function(e){return t.some((function(t){return t.name&&t.name===e.name.value||t.test&&t.test(e)}))}}function d(t,e){var n=Object.create(null),o=[],c=Object.create(null),u=[],d=l(Object(i.b)(e,{Variable:{enter:function(t,e,r){"VariableDefinition"!==r.kind&&(n[t.name.value]=!0)}},Field:{enter:function(e){if(t&&e.directives&&t.some((function(t){return t.remove}))&&e.directives&&e.directives.some(h(t)))return e.arguments&&e.arguments.forEach((function(t){"Variable"===t.value.kind&&o.push({name:t.value.name.value})})),e.selectionSet&&function t(e){var n=[];return e.selections.forEach((function(e){(Object(a.d)(e)||Object(a.e)(e))&&e.selectionSet?t(e.selectionSet).forEach((function(t){return n.push(t)})):"FragmentSpread"===e.kind&&n.push(e)})),n}(e.selectionSet).forEach((function(t){u.push({name:t.name.value})})),null}},FragmentSpread:{enter:function(t){c[t.name.value]=!0}},Directive:{enter:function(e){if(h(t)(e))return null}}}));return d&&s(o,(function(t){return!!t.name&&!n[t.name]})).length&&(d=function(t,e){var n=function(t){return function(e){return t.some((function(t){return e.value&&"Variable"===e.value.kind&&e.value.name&&(t.name===e.value.name.value||t.test&&t.test(e))}))}}(t);return l(Object(i.b)(e,{OperationDefinition:{enter:function(e){return Object(r.a)(Object(r.a)({},e),{variableDefinitions:e.variableDefinitions?e.variableDefinitions.filter((function(e){return!t.some((function(t){return t.name===e.variable.name.value}))})):[]})}},Field:{enter:function(e){if(t.some((function(t){return t.remove}))){var r=0;if(e.arguments&&e.arguments.forEach((function(t){n(t)&&(r+=1)})),1===r)return null}}},Argument:{enter:function(t){if(n(t))return null}}}))}(o,d)),d&&s(u,(function(t){return!!t.name&&!c[t.name]})).length&&(d=function(t,e){function n(e){if(t.some((function(t){return t.name===e.name.value})))return null}return l(Object(i.b)(e,{FragmentSpread:{enter:n},FragmentDefinition:{enter:n}}))}(u,d)),d}function f(t){return Object(i.b)(Object(o.a)(t),{SelectionSet:{enter:function(t,e,n){if(!n||"OperationDefinition"!==n.kind){var i=t.selections;if(i&&!i.some((function(t){return Object(a.d)(t)&&("__typename"===t.name.value||0===t.name.value.lastIndexOf("__",0))}))){var o=n;if(!(Object(a.d)(o)&&o.directives&&o.directives.some((function(t){return"export"===t.name.value}))))return Object(r.a)(Object(r.a)({},t),{selections:Object(r.f)(i,[u])})}}}}})}f.added=function(t){return t===u};var p={test:function(t){var e="connection"===t.name.value;return e&&(!t.arguments||t.arguments.some((function(t){return"key"===t.name.value}))),e}};function m(t){return d([p],Object(o.a)(t))}function g(t){return"query"===Object(o.e)(t).operation?t:Object(i.b)(t,{OperationDefinition:{enter:function(t){return Object(r.a)(Object(r.a)({},t),{operation:"query"})}}})}function b(t){Object(o.a)(t);var e=d([{test:function(t){return"client"===t.name.value},remove:!0}],t);return e&&(e=Object(i.b)(e,{FragmentDefinition:{enter:function(t){if(t.selectionSet&&t.selectionSet.selections.every((function(t){return Object(a.d)(t)&&"__typename"===t.name.value})))return null}}})),e}},BLR7:function(t,e,n){"use strict";function r(t){var e=t.split(/\r\n|[\n\r]/g),n=function(t){for(var e,n=!0,r=!0,i=0,o=null,s=0;s<t.length;++s)switch(t.charCodeAt(s)){case 13:10===t.charCodeAt(s+1)&&++s;case 10:n=!1,r=!0,i=0;break;case 9:case 32:++i;break;default:r&&!n&&(null===o||i<o)&&(o=i),r=!1}return null!==(e=o)&&void 0!==e?e:0}(t);if(0!==n)for(var r=1;r<e.length;r++)e[r]=e[r].slice(n);for(var o=0;o<e.length&&i(e[o]);)++o;for(var s=e.length;s>o&&i(e[s-1]);)--s;return e.slice(o,s).join("\n")}function i(t){for(var e=0;e<t.length;++e)if(" "!==t[e]&&"\t"!==t[e])return!1;return!0}function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=-1===t.indexOf("\n"),i=" "===t[0]||"\t"===t[0],o='"'===t[t.length-1],s="\\"===t[t.length-1],a=!r||o||s||n,c="";return!a||r&&i||(c+="\n"+e),c+=e?t.replace(/\n/g,"\n"+e):t,a&&(c+="\n"),'"""'+c.replace(/"""/g,'\\"""')+'"""'}n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o}))},Bdln:function(t,e,n){"use strict";var r=n("3S/s");n.d(e,"ApolloLink",(function(){return r.a}))},Cfvw:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("4yVj"),c=n("jZKg"),u=n("Lhse"),l=n("c2HN"),h=n("I55L");function d(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(Object(h.a)(t))return Object(c.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},CuOm:function(t,e,n){"use strict";n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return a}));var r=n("zC+P"),i=n("qVdT");function o(t,e){var n=e,o=[];return t.definitions.forEach((function(t){if("OperationDefinition"===t.kind)throw new i.a(42);"FragmentDefinition"===t.kind&&o.push(t)})),void 0===n&&(Object(i.b)(1===o.length,43),n=o[0].name.value),Object(r.a)(Object(r.a)({},t),{definitions:Object(r.f)([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:n}}]}}],t.definitions)})}function s(t){void 0===t&&(t=[]);var e={};return t.forEach((function(t){e[t.name.value]=t})),e}function a(t,e){switch(t.kind){case"InlineFragment":return t;case"FragmentSpread":var n=e&&e[t.name.value];return Object(i.b)(n,44),n;default:return null}}},D0XW:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("3N8a");const i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},Dtfp:function(t,e,n){"use strict";var r=n("27Ei");t.exports=function(t){return"undefined"!=typeof File&&t instanceof File||"undefined"!=typeof Blob&&t instanceof Blob||t instanceof r}},EY2u:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},Gj6d:function(t,e){},HDdC:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("SpAZ"),c=n("2fFW");let u=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),c.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){c.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=c.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I1T4:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t,e,n,r,i){this.message=t,this.path=e,this.query=n,this.clientOnly=r,this.variables=i}},I55L:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",(function(){return r.default})),r.default.registerVersion("firebase","8.7.1","app"),r.default.SDK_VERSION="8.7.1"},L2ys:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return a}));var r=n("rWdj"),i=n("klf5"),o={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},s=Object.freeze({});function a(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o,a=void 0,u=Array.isArray(t),l=[t],h=-1,d=[],f=void 0,p=void 0,m=void 0,g=[],b=[],v=t;do{var y=++h===l.length,_=y&&0!==d.length;if(y){if(p=0===b.length?void 0:g[g.length-1],f=m,m=b.pop(),_){if(u)f=f.slice();else{for(var w={},S=0,C=Object.keys(f);S<C.length;S++){var x=C[S];w[x]=f[x]}f=w}for(var O=0,E=0;E<d.length;E++){var k=d[E][0],T=d[E][1];u&&(k-=O),u&&null===T?(f.splice(k,1),O++):f[k]=T}}h=a.index,l=a.keys,d=a.edits,u=a.inArray,a=a.prev}else{if(p=m?u?h:l[h]:void 0,null==(f=m?m[p]:v))continue;m&&g.push(p)}var I,R=void 0;if(!Array.isArray(f)){if(!Object(i.c)(f))throw new Error("Invalid AST Node: ".concat(Object(r.a)(f),"."));var A=c(e,f.kind,y);if(A){if((R=A.call(e,f,p,m,g,b))===s)break;if(!1===R){if(!y){g.pop();continue}}else if(void 0!==R&&(d.push([p,R]),!y)){if(!Object(i.c)(R)){g.pop();continue}f=R}}}void 0===R&&_&&d.push([p,f]),y?g.pop():(a={inArray:u,index:h,keys:l,edits:d,prev:a},l=(u=Array.isArray(f))?f:null!==(I=n[f.kind])&&void 0!==I?I:[],h=-1,d=[],m&&b.push(m),m=f)}while(void 0!==a);return 0!==d.length&&(v=d[d.length-1][1]),v}function c(t,e,n){var r=t[e];if(r){if(!n&&"function"==typeof r)return r;var i=n?r.leave:r.enter;if("function"==typeof i)return i}else{var o=n?t.leave:t.enter;if(o){if("function"==typeof o)return o;var s=o[e];if("function"==typeof s)return s}}}},LRne:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",(function(){return i}));const i=r()},LvDl:function(t,e,n){(function(t){var r;(function(){var i="Expected a function",o="__lodash_placeholder__",s=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],a="[object Arguments]",c="[object Array]",u="[object Boolean]",l="[object Date]",h="[object Error]",d="[object Function]",f="[object GeneratorFunction]",p="[object Map]",m="[object Number]",g="[object Object]",b="[object RegExp]",v="[object Set]",y="[object String]",_="[object Symbol]",w="[object WeakMap]",S="[object ArrayBuffer]",C="[object DataView]",x="[object Float32Array]",O="[object Float64Array]",E="[object Int8Array]",k="[object Int16Array]",T="[object Int32Array]",I="[object Uint8Array]",R="[object Uint16Array]",A="[object Uint32Array]",P=/\b__p \+= '';/g,D=/\b(__p \+=) '' \+/g,j=/(__e\(.*?\)|\b__t\)) \+\n'';/g,N=/&(?:amp|lt|gt|quot|#39);/g,M=/[&<>"']/g,L=RegExp(N.source),F=RegExp(M.source),V=/<%-([\s\S]+?)%>/g,B=/<%([\s\S]+?)%>/g,U=/<%=([\s\S]+?)%>/g,q=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,W=/^\w*$/,H=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,z=/[\\^$.*+?()[\]{}|]/g,K=RegExp(z.source),G=/^\s+/,Y=/\s/,Q=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,$=/\{\n\/\* \[wrapped with (.+)\] \*/,X=/,? & /,J=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Z=/[()=,{}\[\]\/\s]/,tt=/\\(\\)?/g,et=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,nt=/\w*$/,rt=/^[-+]0x[0-9a-f]+$/i,it=/^0b[01]+$/i,ot=/^\[object .+?Constructor\]$/,st=/^0o[0-7]+$/i,at=/^(?:0|[1-9]\d*)$/,ct=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ut=/($^)/,lt=/['\n\r\u2028\u2029\\]/g,ht="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",dt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ft="["+dt+"]",pt="["+ht+"]",mt="\\d+",gt="[a-z\\xdf-\\xf6\\xf8-\\xff]",bt="[^\\ud800-\\udfff"+dt+mt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",vt="\\ud83c[\\udffb-\\udfff]",yt="[^\\ud800-\\udfff]",_t="(?:\\ud83c[\\udde6-\\uddff]){2}",wt="[\\ud800-\\udbff][\\udc00-\\udfff]",St="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Ct="(?:"+gt+"|"+bt+")",xt="(?:"+St+"|"+bt+")",Ot="(?:"+pt+"|"+vt+")?",Et="[\\ufe0e\\ufe0f]?"+Ot+"(?:\\u200d(?:"+[yt,_t,wt].join("|")+")[\\ufe0e\\ufe0f]?"+Ot+")*",kt="(?:"+["[\\u2700-\\u27bf]",_t,wt].join("|")+")"+Et,Tt="(?:"+[yt+pt+"?",pt,_t,wt,"[\\ud800-\\udfff]"].join("|")+")",It=RegExp("['\u2019]","g"),Rt=RegExp(pt,"g"),At=RegExp(vt+"(?="+vt+")|"+Tt+Et,"g"),Pt=RegExp([St+"?"+gt+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[ft,St,"$"].join("|")+")",xt+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[ft,St+Ct,"$"].join("|")+")",St+"?"+Ct+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?",St+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",mt,kt].join("|"),"g"),Dt=RegExp("[\\u200d\\ud800-\\udfff"+ht+"\\ufe0e\\ufe0f]"),jt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Nt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Mt=-1,Lt={};Lt[x]=Lt[O]=Lt[E]=Lt[k]=Lt[T]=Lt[I]=Lt["[object Uint8ClampedArray]"]=Lt[R]=Lt[A]=!0,Lt[a]=Lt[c]=Lt[S]=Lt[u]=Lt[C]=Lt[l]=Lt[h]=Lt[d]=Lt[p]=Lt[m]=Lt[g]=Lt[b]=Lt[v]=Lt[y]=Lt[w]=!1;var Ft={};Ft[a]=Ft[c]=Ft[S]=Ft[C]=Ft[u]=Ft[l]=Ft[x]=Ft[O]=Ft[E]=Ft[k]=Ft[T]=Ft[p]=Ft[m]=Ft[g]=Ft[b]=Ft[v]=Ft[y]=Ft[_]=Ft[I]=Ft["[object Uint8ClampedArray]"]=Ft[R]=Ft[A]=!0,Ft[h]=Ft[d]=Ft[w]=!1;var Vt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Bt=parseFloat,Ut=parseInt,qt="object"==typeof global&&global&&global.Object===Object&&global,Wt="object"==typeof self&&self&&self.Object===Object&&self,Ht=qt||Wt||Function("return this")(),zt=e&&!e.nodeType&&e,Kt=zt&&"object"==typeof t&&t&&!t.nodeType&&t,Gt=Kt&&Kt.exports===zt,Yt=Gt&&qt.process,Qt=function(){try{return Kt&&Kt.require&&Kt.require("util").types||Yt&&Yt.binding&&Yt.binding("util")}catch(t){}}(),$t=Qt&&Qt.isArrayBuffer,Xt=Qt&&Qt.isDate,Jt=Qt&&Qt.isMap,Zt=Qt&&Qt.isRegExp,te=Qt&&Qt.isSet,ee=Qt&&Qt.isTypedArray;function ne(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function re(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var s=t[i];e(r,s,n(s),t)}return r}function ie(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function oe(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function se(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function ae(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}function ce(t,e){return!(null==t||!t.length)&&ve(t,e,0)>-1}function ue(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function le(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function he(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function de(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function fe(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function pe(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var me=Se("length");function ge(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r}function be(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function ve(t,e,n){return e==e?function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):be(t,_e,n)}function ye(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function _e(t){return t!=t}function we(t,e){var n=null==t?0:t.length;return n?Oe(t,e)/n:NaN}function Se(t){return function(e){return null==e?void 0:e[t]}}function Ce(t){return function(e){return null==t?void 0:t[e]}}function xe(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n}function Oe(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);void 0!==o&&(n=void 0===n?o:n+o)}return n}function Ee(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function ke(t){return t?t.slice(0,ze(t)+1).replace(G,""):t}function Te(t){return function(e){return t(e)}}function Ie(t,e){return le(e,(function(e){return t[e]}))}function Re(t,e){return t.has(e)}function Ae(t,e){for(var n=-1,r=t.length;++n<r&&ve(e,t[n],0)>-1;);return n}function Pe(t,e){for(var n=t.length;n--&&ve(e,t[n],0)>-1;);return n}function De(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}var je=Ce({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),Ne=Ce({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Me(t){return"\\"+Vt[t]}function Le(t){return Dt.test(t)}function Fe(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function Ve(t,e){return function(n){return t(e(n))}}function Be(t,e){for(var n=-1,r=t.length,i=0,s=[];++n<r;){var a=t[n];a!==e&&a!==o||(t[n]=o,s[i++]=n)}return s}function Ue(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function qe(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function We(t){return Le(t)?function(t){for(var e=At.lastIndex=0;At.test(t);)++e;return e}(t):me(t)}function He(t){return Le(t)?function(t){return t.match(At)||[]}(t):function(t){return t.split("")}(t)}function ze(t){for(var e=t.length;e--&&Y.test(t.charAt(e)););return e}var Ke=Ce({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Ge=function t(e){var n,r=(e=null==e?Ht:Ge.defaults(Ht.Object(),e,Ge.pick(Ht,Nt))).Array,Y=e.Date,ht=e.Error,dt=e.Function,ft=e.Math,pt=e.Object,mt=e.RegExp,gt=e.String,bt=e.TypeError,vt=r.prototype,yt=pt.prototype,_t=e["__core-js_shared__"],wt=dt.prototype.toString,St=yt.hasOwnProperty,Ct=0,xt=(n=/[^.]+$/.exec(_t&&_t.keys&&_t.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Ot=yt.toString,Et=wt.call(pt),kt=Ht._,Tt=mt("^"+wt.call(St).replace(z,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),At=Gt?e.Buffer:void 0,Dt=e.Symbol,Vt=e.Uint8Array,qt=At?At.allocUnsafe:void 0,Wt=Ve(pt.getPrototypeOf,pt),zt=pt.create,Kt=yt.propertyIsEnumerable,Yt=vt.splice,Qt=Dt?Dt.isConcatSpreadable:void 0,me=Dt?Dt.iterator:void 0,Ce=Dt?Dt.toStringTag:void 0,Ye=function(){try{var t=Ji(pt,"defineProperty");return t({},"",{}),t}catch(e){}}(),Qe=e.clearTimeout!==Ht.clearTimeout&&e.clearTimeout,$e=Y&&Y.now!==Ht.Date.now&&Y.now,Xe=e.setTimeout!==Ht.setTimeout&&e.setTimeout,Je=ft.ceil,Ze=ft.floor,tn=pt.getOwnPropertySymbols,en=At?At.isBuffer:void 0,nn=e.isFinite,rn=vt.join,on=Ve(pt.keys,pt),sn=ft.max,an=ft.min,cn=Y.now,un=e.parseInt,ln=ft.random,hn=vt.reverse,dn=Ji(e,"DataView"),fn=Ji(e,"Map"),pn=Ji(e,"Promise"),mn=Ji(e,"Set"),gn=Ji(e,"WeakMap"),bn=Ji(pt,"create"),vn=gn&&new gn,yn={},_n=To(dn),wn=To(fn),Sn=To(pn),Cn=To(mn),xn=To(gn),On=Dt?Dt.prototype:void 0,En=On?On.valueOf:void 0,kn=On?On.toString:void 0;function Tn(t){if(zs(t)&&!js(t)&&!(t instanceof Pn)){if(t instanceof An)return t;if(St.call(t,"__wrapped__"))return Io(t)}return new An(t)}var In=function(){function t(){}return function(e){if(!Hs(e))return{};if(zt)return zt(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function Rn(){}function An(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}function Pn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Dn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function jn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Nn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Mn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Nn;++e<n;)this.add(t[e])}function Ln(t){var e=this.__data__=new jn(t);this.size=e.size}function Fn(t,e){var n=js(t),r=!n&&Ds(t),i=!n&&!r&&Fs(t),o=!n&&!r&&!i&&Zs(t),s=n||r||i||o,a=s?Ee(t.length,gt):[],c=a.length;for(var u in t)!e&&!St.call(t,u)||s&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||oo(u,c))||a.push(u);return a}function Vn(t){var e=t.length;return e?t[Nr(0,e-1)]:void 0}function Bn(t,e){return Co(gi(t),Qn(e,0,t.length))}function Un(t){return Co(gi(t))}function qn(t,e,n){(void 0!==n&&!Rs(t[e],n)||void 0===n&&!(e in t))&&Gn(t,e,n)}function Wn(t,e,n){var r=t[e];St.call(t,e)&&Rs(r,n)&&(void 0!==n||e in t)||Gn(t,e,n)}function Hn(t,e){for(var n=t.length;n--;)if(Rs(t[n][0],e))return n;return-1}function zn(t,e,n,r){return tr(t,(function(t,i,o){e(r,t,n(t),o)})),r}function Kn(t,e){return t&&bi(e,wa(e),t)}function Gn(t,e,n){"__proto__"==e&&Ye?Ye(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Yn(t,e){for(var n=-1,i=e.length,o=r(i),s=null==t;++n<i;)o[n]=s?void 0:ga(t,e[n]);return o}function Qn(t,e,n){return t==t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}function $n(t,e,n,r,i,o){var s,c=1&e,h=2&e,w=4&e;if(n&&(s=i?n(t,r,i,o):n(t)),void 0!==s)return s;if(!Hs(t))return t;var P=js(t);if(P){if(s=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&St.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!c)return gi(t,s)}else{var D=eo(t),j=D==d||D==f;if(Fs(t))return li(t,c);if(D==g||D==a||j&&!i){if(s=h||j?{}:ro(t),!c)return h?function(t,e){return bi(t,to(t),e)}(t,function(t,e){return t&&bi(e,Sa(e),t)}(s,t)):function(t,e){return bi(t,Zi(t),e)}(t,Kn(s,t))}else{if(!Ft[D])return i?t:{};s=function(t,e,n){var r=t.constructor;switch(e){case S:return hi(t);case u:case l:return new r(+t);case C:return function(t,e){var n=e?hi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case x:case O:case E:case k:case T:case I:case"[object Uint8ClampedArray]":case R:case A:return di(t,n);case p:return new r;case m:case y:return new r(t);case b:return function(t){var e=new t.constructor(t.source,nt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case v:return new r;case _:return En?pt(En.call(t)):{}}}(t,D,c)}}o||(o=new Ln);var N=o.get(t);if(N)return N;o.set(t,s),$s(t)?t.forEach((function(r){s.add($n(r,e,n,r,t,o))})):Ks(t)&&t.forEach((function(r,i){s.set(i,$n(r,e,n,i,t,o))}));var M=P?void 0:(w?h?zi:Hi:h?Sa:wa)(t);return ie(M||t,(function(r,i){M&&(r=t[i=r]),Wn(s,i,$n(r,e,n,i,t,o))})),s}function Xn(t,e,n){var r=n.length;if(null==t)return!r;for(t=pt(t);r--;){var i=n[r],o=t[i];if(void 0===o&&!(i in t)||!(0,e[i])(o))return!1}return!0}function Jn(t,e,n){if("function"!=typeof t)throw new bt(i);return yo((function(){t.apply(void 0,n)}),e)}function Zn(t,e,n,r){var i=-1,o=ce,s=!0,a=t.length,c=[],u=e.length;if(!a)return c;n&&(e=le(e,Te(n))),r?(o=ue,s=!1):e.length>=200&&(o=Re,s=!1,e=new Mn(e));t:for(;++i<a;){var l=t[i],h=null==n?l:n(l);if(l=r||0!==l?l:0,s&&h==h){for(var d=u;d--;)if(e[d]===h)continue t;c.push(l)}else o(e,h,r)||c.push(l)}return c}Tn.templateSettings={escape:V,evaluate:B,interpolate:U,variable:"",imports:{_:Tn}},(Tn.prototype=Rn.prototype).constructor=Tn,(An.prototype=In(Rn.prototype)).constructor=An,(Pn.prototype=In(Rn.prototype)).constructor=Pn,Dn.prototype.clear=function(){this.__data__=bn?bn(null):{},this.size=0},Dn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Dn.prototype.get=function(t){var e=this.__data__;if(bn){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return St.call(e,t)?e[t]:void 0},Dn.prototype.has=function(t){var e=this.__data__;return bn?void 0!==e[t]:St.call(e,t)},Dn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=bn&&void 0===e?"__lodash_hash_undefined__":e,this},jn.prototype.clear=function(){this.__data__=[],this.size=0},jn.prototype.delete=function(t){var e=this.__data__,n=Hn(e,t);return!(n<0||(n==e.length-1?e.pop():Yt.call(e,n,1),--this.size,0))},jn.prototype.get=function(t){var e=this.__data__,n=Hn(e,t);return n<0?void 0:e[n][1]},jn.prototype.has=function(t){return Hn(this.__data__,t)>-1},jn.prototype.set=function(t,e){var n=this.__data__,r=Hn(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Nn.prototype.clear=function(){this.size=0,this.__data__={hash:new Dn,map:new(fn||jn),string:new Dn}},Nn.prototype.delete=function(t){var e=$i(this,t).delete(t);return this.size-=e?1:0,e},Nn.prototype.get=function(t){return $i(this,t).get(t)},Nn.prototype.has=function(t){return $i(this,t).has(t)},Nn.prototype.set=function(t,e){var n=$i(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Mn.prototype.add=Mn.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Mn.prototype.has=function(t){return this.__data__.has(t)},Ln.prototype.clear=function(){this.__data__=new jn,this.size=0},Ln.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Ln.prototype.get=function(t){return this.__data__.get(t)},Ln.prototype.has=function(t){return this.__data__.has(t)},Ln.prototype.set=function(t,e){var n=this.__data__;if(n instanceof jn){var r=n.__data__;if(!fn||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Nn(r)}return n.set(t,e),this.size=n.size,this};var tr=_i(cr),er=_i(ur,!0);function nr(t,e){var n=!0;return tr(t,(function(t,r,i){return n=!!e(t,r,i)})),n}function rr(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],s=e(o);if(null!=s&&(void 0===a?s==s&&!Js(s):n(s,a)))var a=s,c=o}return c}function ir(t,e){var n=[];return tr(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function or(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=io),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?or(a,e-1,n,r,i):he(i,a):r||(i[i.length]=a)}return i}var sr=wi(),ar=wi(!0);function cr(t,e){return t&&sr(t,e,wa)}function ur(t,e){return t&&ar(t,e,wa)}function lr(t,e){return ae(e,(function(e){return Us(t[e])}))}function hr(t,e){for(var n=0,r=(e=si(e,t)).length;null!=t&&n<r;)t=t[ko(e[n++])];return n&&n==r?t:void 0}function dr(t,e,n){var r=e(t);return js(t)?r:he(r,n(t))}function fr(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Ce&&Ce in pt(t)?function(t){var e=St.call(t,Ce),n=t[Ce];try{t[Ce]=void 0;var r=!0}catch(o){}var i=Ot.call(t);return r&&(e?t[Ce]=n:delete t[Ce]),i}(t):function(t){return Ot.call(t)}(t)}function pr(t,e){return t>e}function mr(t,e){return null!=t&&St.call(t,e)}function gr(t,e){return null!=t&&e in pt(t)}function br(t,e,n){for(var i=n?ue:ce,o=t[0].length,s=t.length,a=s,c=r(s),u=1/0,l=[];a--;){var h=t[a];a&&e&&(h=le(h,Te(e))),u=an(h.length,u),c[a]=!n&&(e||o>=120&&h.length>=120)?new Mn(a&&h):void 0}h=t[0];var d=-1,f=c[0];t:for(;++d<o&&l.length<u;){var p=h[d],m=e?e(p):p;if(p=n||0!==p?p:0,!(f?Re(f,m):i(l,m,n))){for(a=s;--a;){var g=c[a];if(!(g?Re(g,m):i(t[a],m,n)))continue t}f&&f.push(m),l.push(p)}}return l}function vr(t,e,n){var r=null==(t=mo(t,e=si(e,t)))?t:t[ko(Bo(e))];return null==r?void 0:ne(r,t,n)}function yr(t){return zs(t)&&fr(t)==a}function _r(t,e,n,r,i){return t===e||(null==t||null==e||!zs(t)&&!zs(e)?t!=t&&e!=e:function(t,e,n,r,i,o){var s=js(t),d=js(e),f=s?c:eo(t),w=d?c:eo(e),x=(f=f==a?g:f)==g,O=(w=w==a?g:w)==g,E=f==w;if(E&&Fs(t)){if(!Fs(e))return!1;s=!0,x=!1}if(E&&!x)return o||(o=new Ln),s||Zs(t)?qi(t,e,n,r,i,o):function(t,e,n,r,i,o,s){switch(n){case C:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case S:return!(t.byteLength!=e.byteLength||!o(new Vt(t),new Vt(e)));case u:case l:case m:return Rs(+t,+e);case h:return t.name==e.name&&t.message==e.message;case b:case y:return t==e+"";case p:var a=Fe;case v:if(a||(a=Ue),t.size!=e.size&&!(1&r))return!1;var c=s.get(t);if(c)return c==e;r|=2,s.set(t,e);var d=qi(a(t),a(e),r,i,o,s);return s.delete(t),d;case _:if(En)return En.call(t)==En.call(e)}return!1}(t,e,f,n,r,i,o);if(!(1&n)){var k=x&&St.call(t,"__wrapped__"),T=O&&St.call(e,"__wrapped__");if(k||T){var I=k?t.value():t,R=T?e.value():e;return o||(o=new Ln),i(I,R,n,r,o)}}return!!E&&(o||(o=new Ln),function(t,e,n,r,i,o){var s=1&n,a=Hi(t),c=a.length;if(c!=Hi(e).length&&!s)return!1;for(var u=c;u--;){var l=a[u];if(!(s?l in e:St.call(e,l)))return!1}var h=o.get(t),d=o.get(e);if(h&&d)return h==e&&d==t;var f=!0;o.set(t,e),o.set(e,t);for(var p=s;++u<c;){var m=t[l=a[u]],g=e[l];if(r)var b=s?r(g,m,l,e,t,o):r(m,g,l,t,e,o);if(!(void 0===b?m===g||i(m,g,n,r,o):b)){f=!1;break}p||(p="constructor"==l)}if(f&&!p){var v=t.constructor,y=e.constructor;v==y||!("constructor"in t)||!("constructor"in e)||"function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y||(f=!1)}return o.delete(t),o.delete(e),f}(t,e,n,r,i,o))}(t,e,n,r,_r,i))}function wr(t,e,n,r){var i=n.length,o=i,s=!r;if(null==t)return!o;for(t=pt(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){var c=(a=n[i])[0],u=t[c],l=a[1];if(s&&a[2]){if(void 0===u&&!(c in t))return!1}else{var h=new Ln;if(r)var d=r(u,l,c,t,e,h);if(!(void 0===d?_r(l,u,3,r,h):d))return!1}}return!0}function Sr(t){return!(!Hs(t)||(e=t,xt&&xt in e))&&(Us(t)?Tt:ot).test(To(t));var e}function Cr(t){return"function"==typeof t?t:null==t?Ga:"object"==typeof t?js(t)?Tr(t[0],t[1]):kr(t):nc(t)}function xr(t){if(!lo(t))return on(t);var e=[];for(var n in pt(t))St.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Or(t,e){return t<e}function Er(t,e){var n=-1,i=Ms(t)?r(t.length):[];return tr(t,(function(t,r,o){i[++n]=e(t,r,o)})),i}function kr(t){var e=Xi(t);return 1==e.length&&e[0][2]?fo(e[0][0],e[0][1]):function(n){return n===t||wr(n,t,e)}}function Tr(t,e){return ao(t)&&ho(e)?fo(ko(t),e):function(n){var r=ga(n,t);return void 0===r&&r===e?ba(n,t):_r(e,r,3)}}function Ir(t,e,n,r,i){t!==e&&sr(e,(function(o,s){if(i||(i=new Ln),Hs(o))!function(t,e,n,r,i,o,s){var a=bo(t,n),c=bo(e,n),u=s.get(c);if(u)qn(t,n,u);else{var l=o?o(a,c,n+"",t,e,s):void 0,h=void 0===l;if(h){var d=js(c),f=!d&&Fs(c),p=!d&&!f&&Zs(c);l=c,d||f||p?js(a)?l=a:Ls(a)?l=gi(a):f?(h=!1,l=li(c,!0)):p?(h=!1,l=di(c,!0)):l=[]:Ys(c)||Ds(c)?(l=a,Ds(a)?l=aa(a):Hs(a)&&!Us(a)||(l=ro(c))):h=!1}h&&(s.set(c,l),i(l,c,r,o,s),s.delete(c)),qn(t,n,l)}}(t,e,s,n,Ir,r,i);else{var a=r?r(bo(t,s),o,s+"",t,e,i):void 0;void 0===a&&(a=o),qn(t,s,a)}}),Sa)}function Rr(t,e){var n=t.length;if(n)return oo(e+=e<0?n:0,n)?t[e]:void 0}function Ar(t,e,n){e=e.length?le(e,(function(t){return js(t)?function(e){return hr(e,1===t.length?t[0]:t)}:t})):[Ga];var r=-1;return e=le(e,Te(Qi())),function(t,e){var r=t.length;for(t.sort((function(t,e){return function(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;++r<s;){var c=fi(i[r],o[r]);if(c)return r>=a?c:c*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)}));r--;)t[r]=t[r].value;return t}(Er(t,(function(t,n,i){return{criteria:le(e,(function(e){return e(t)})),index:++r,value:t}})))}function Pr(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var s=e[r],a=hr(t,s);n(a,s)&&Br(o,si(s,t),a)}return o}function Dr(t,e,n,r){var i=r?ye:ve,o=-1,s=e.length,a=t;for(t===e&&(e=gi(e)),n&&(a=le(t,Te(n)));++o<s;)for(var c=0,u=e[o],l=n?n(u):u;(c=i(a,l,c,r))>-1;)a!==t&&Yt.call(a,c,1),Yt.call(t,c,1);return t}function jr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;oo(i)?Yt.call(t,i,1):Jr(t,i)}}return t}function Nr(t,e){return t+Ze(ln()*(e-t+1))}function Mr(t,e){var n="";if(!t||e<1||e>9007199254740991)return n;do{e%2&&(n+=t),(e=Ze(e/2))&&(t+=t)}while(e);return n}function Lr(t,e){return _o(po(t,e,Ga),t+"")}function Fr(t){return Vn(Ra(t))}function Vr(t,e){var n=Ra(t);return Co(n,Qn(e,0,n.length))}function Br(t,e,n,r){if(!Hs(t))return t;for(var i=-1,o=(e=si(e,t)).length,s=o-1,a=t;null!=a&&++i<o;){var c=ko(e[i]),u=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(i!=s){var l=a[c];void 0===(u=r?r(l,c,a):void 0)&&(u=Hs(l)?l:oo(e[i+1])?[]:{})}Wn(a,c,u),a=a[c]}return t}var Ur=vn?function(t,e){return vn.set(t,e),t}:Ga,qr=Ye?function(t,e){return Ye(t,"toString",{configurable:!0,enumerable:!1,value:Ha(e),writable:!0})}:Ga;function Wr(t){return Co(Ra(t))}function Hr(t,e,n){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var s=r(o);++i<o;)s[i]=t[i+e];return s}function zr(t,e){var n;return tr(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}function Kr(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;r<i;){var o=r+i>>>1,s=t[o];null!==s&&!Js(s)&&(n?s<=e:s<e)?r=o+1:i=o}return i}return Gr(t,e,Ga,n)}function Gr(t,e,n,r){var i=0,o=null==t?0:t.length;if(0===o)return 0;for(var s=(e=n(e))!=e,a=null===e,c=Js(e),u=void 0===e;i<o;){var l=Ze((i+o)/2),h=n(t[l]),d=void 0!==h,f=null===h,p=h==h,m=Js(h);if(s)var g=r||p;else g=u?p&&(r||d):a?p&&d&&(r||!f):c?p&&d&&!f&&(r||!m):!f&&!m&&(r?h<=e:h<e);g?i=l+1:o=l}return an(o,4294967294)}function Yr(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var s=t[n],a=e?e(s):s;if(!n||!Rs(a,c)){var c=a;o[i++]=0===s?0:s}}return o}function Qr(t){return"number"==typeof t?t:Js(t)?NaN:+t}function $r(t){if("string"==typeof t)return t;if(js(t))return le(t,$r)+"";if(Js(t))return kn?kn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Xr(t,e,n){var r=-1,i=ce,o=t.length,s=!0,a=[],c=a;if(n)s=!1,i=ue;else if(o>=200){var u=e?null:Mi(t);if(u)return Ue(u);s=!1,i=Re,c=new Mn}else c=e?[]:a;t:for(;++r<o;){var l=t[r],h=e?e(l):l;if(l=n||0!==l?l:0,s&&h==h){for(var d=c.length;d--;)if(c[d]===h)continue t;e&&c.push(h),a.push(l)}else i(c,h,n)||(c!==a&&c.push(h),a.push(l))}return a}function Jr(t,e){return null==(t=mo(t,e=si(e,t)))||delete t[ko(Bo(e))]}function Zr(t,e,n,r){return Br(t,e,n(hr(t,e)),r)}function ti(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?Hr(t,r?0:o,r?o+1:i):Hr(t,r?o+1:0,r?i:o)}function ei(t,e){var n=t;return n instanceof Pn&&(n=n.value()),de(e,(function(t,e){return e.func.apply(e.thisArg,he([t],e.args))}),n)}function ni(t,e,n){var i=t.length;if(i<2)return i?Xr(t[0]):[];for(var o=-1,s=r(i);++o<i;)for(var a=t[o],c=-1;++c<i;)c!=o&&(s[o]=Zn(s[o]||a,t[c],e,n));return Xr(or(s,1),e,n)}function ri(t,e,n){for(var r=-1,i=t.length,o=e.length,s={};++r<i;)n(s,t[r],r<o?e[r]:void 0);return s}function ii(t){return Ls(t)?t:[]}function oi(t){return"function"==typeof t?t:Ga}function si(t,e){return js(t)?t:ao(t,e)?[t]:Eo(ca(t))}var ai=Lr;function ci(t,e,n){var r=t.length;return n=void 0===n?r:n,!e&&n>=r?t:Hr(t,e,n)}var ui=Qe||function(t){return Ht.clearTimeout(t)};function li(t,e){if(e)return t.slice();var n=t.length,r=qt?qt(n):new t.constructor(n);return t.copy(r),r}function hi(t){var e=new t.constructor(t.byteLength);return new Vt(e).set(new Vt(t)),e}function di(t,e){var n=e?hi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function fi(t,e){if(t!==e){var n=void 0!==t,r=null===t,i=t==t,o=Js(t),s=void 0!==e,a=null===e,c=e==e,u=Js(e);if(!a&&!u&&!o&&t>e||o&&s&&c&&!a&&!u||r&&s&&c||!n&&c||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!c)return-1}return 0}function pi(t,e,n,i){for(var o=-1,s=t.length,a=n.length,c=-1,u=e.length,l=sn(s-a,0),h=r(u+l),d=!i;++c<u;)h[c]=e[c];for(;++o<a;)(d||o<s)&&(h[n[o]]=t[o]);for(;l--;)h[c++]=t[o++];return h}function mi(t,e,n,i){for(var o=-1,s=t.length,a=-1,c=n.length,u=-1,l=e.length,h=sn(s-c,0),d=r(h+l),f=!i;++o<h;)d[o]=t[o];for(var p=o;++u<l;)d[p+u]=e[u];for(;++a<c;)(f||o<s)&&(d[p+n[a]]=t[o++]);return d}function gi(t,e){var n=-1,i=t.length;for(e||(e=r(i));++n<i;)e[n]=t[n];return e}function bi(t,e,n,r){var i=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],c=r?r(n[a],t[a],a,n,t):void 0;void 0===c&&(c=t[a]),i?Gn(n,a,c):Wn(n,a,c)}return n}function vi(t,e){return function(n,r){var i=js(n)?re:zn,o=e?e():{};return i(n,t,Qi(r,2),o)}}function yi(t){return Lr((function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(o=t.length>3&&"function"==typeof o?(i--,o):void 0,s&&so(n[0],n[1],s)&&(o=i<3?void 0:o,i=1),e=pt(e);++r<i;){var a=n[r];a&&t(e,a,r,o)}return e}))}function _i(t,e){return function(n,r){if(null==n)return n;if(!Ms(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=pt(n);(e?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function wi(t){return function(e,n,r){for(var i=-1,o=pt(e),s=r(e),a=s.length;a--;){var c=s[t?a:++i];if(!1===n(o[c],c,o))break}return e}}function Si(t){return function(e){var n=Le(e=ca(e))?He(e):void 0,r=n?n[0]:e.charAt(0),i=n?ci(n,1).join(""):e.slice(1);return r[t]()+i}}function Ci(t){return function(e){return de(Ua(Da(e).replace(It,"")),t,"")}}function xi(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=In(t.prototype),r=t.apply(n,e);return Hs(r)?r:n}}function Oi(t){return function(e,n,r){var i=pt(e);if(!Ms(e)){var o=Qi(n,3);e=wa(e),n=function(t){return o(i[t],t,i)}}var s=t(e,n,r);return s>-1?i[o?e[s]:s]:void 0}}function Ei(t){return Wi((function(e){var n=e.length,r=n,o=An.prototype.thru;for(t&&e.reverse();r--;){var s=e[r];if("function"!=typeof s)throw new bt(i);if(o&&!a&&"wrapper"==Gi(s))var a=new An([],!0)}for(r=a?r:n;++r<n;){var c=Gi(s=e[r]),u="wrapper"==c?Ki(s):void 0;a=u&&co(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?a[Gi(u[0])].apply(a,u[3]):1==s.length&&co(s)?a[c]():a.thru(s)}return function(){var t=arguments,r=t[0];if(a&&1==t.length&&js(r))return a.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}}))}function ki(t,e,n,i,o,s,a,c,u,l){var h=128&e,d=1&e,f=2&e,p=24&e,m=512&e,g=f?void 0:xi(t);return function b(){for(var v=arguments.length,y=r(v),_=v;_--;)y[_]=arguments[_];if(p)var w=Yi(b),S=De(y,w);if(i&&(y=pi(y,i,o,p)),s&&(y=mi(y,s,a,p)),v-=S,p&&v<l){var C=Be(y,w);return ji(t,e,ki,b.placeholder,n,y,C,c,u,l-v)}var x=d?n:this,O=f?x[t]:t;return v=y.length,c?y=go(y,c):m&&v>1&&y.reverse(),h&&u<v&&(y.length=u),this&&this!==Ht&&this instanceof b&&(O=g||xi(O)),O.apply(x,y)}}function Ti(t,e){return function(n,r){return function(t,e,n,r){return cr(t,(function(t,i,o){e(r,n(t),i,o)})),r}(n,t,e(r),{})}}function Ii(t,e){return function(n,r){var i;if(void 0===n&&void 0===r)return e;if(void 0!==n&&(i=n),void 0!==r){if(void 0===i)return r;"string"==typeof n||"string"==typeof r?(n=$r(n),r=$r(r)):(n=Qr(n),r=Qr(r)),i=t(n,r)}return i}}function Ri(t){return Wi((function(e){return e=le(e,Te(Qi())),Lr((function(n){var r=this;return t(e,(function(t){return ne(t,r,n)}))}))}))}function Ai(t,e){var n=(e=void 0===e?" ":$r(e)).length;if(n<2)return n?Mr(e,t):e;var r=Mr(e,Je(t/We(e)));return Le(e)?ci(He(r),0,t).join(""):r.slice(0,t)}function Pi(t){return function(e,n,i){return i&&"number"!=typeof i&&so(e,n,i)&&(n=i=void 0),e=ra(e),void 0===n?(n=e,e=0):n=ra(n),function(t,e,n,i){for(var o=-1,s=sn(Je((e-t)/(n||1)),0),a=r(s);s--;)a[i?s:++o]=t,t+=n;return a}(e,n,i=void 0===i?e<n?1:-1:ra(i),t)}}function Di(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=sa(e),n=sa(n)),t(e,n)}}function ji(t,e,n,r,i,o,s,a,c,u){var l=8&e;e|=l?32:64,4&(e&=~(l?64:32))||(e&=-4);var h=[t,e,i,l?o:void 0,l?s:void 0,l?void 0:o,l?void 0:s,a,c,u],d=n.apply(void 0,h);return co(t)&&vo(d,h),d.placeholder=r,wo(d,t,e)}function Ni(t){var e=ft[t];return function(t,n){if(t=sa(t),(n=null==n?0:an(ia(n),292))&&nn(t)){var r=(ca(t)+"e").split("e");return+((r=(ca(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Mi=mn&&1/Ue(new mn([,-0]))[1]==1/0?function(t){return new mn(t)}:Ja;function Li(t){return function(e){var n=eo(e);return n==p?Fe(e):n==v?qe(e):function(t,e){return le(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Fi(t,e,n,s,a,c,u,l){var h=2&e;if(!h&&"function"!=typeof t)throw new bt(i);var d=s?s.length:0;if(d||(e&=-97,s=a=void 0),u=void 0===u?u:sn(ia(u),0),l=void 0===l?l:ia(l),d-=a?a.length:0,64&e){var f=s,p=a;s=a=void 0}var m=h?void 0:Ki(t),g=[t,e,n,s,a,f,p,c,u,l];if(m&&function(t,e){var n=t[1],r=e[1],i=n|r;if(!(i<131||128==r&&8==n||128==r&&256==n&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n))return t;1&r&&(t[2]=e[2],i|=1&n?0:4);var s=e[3];if(s){var a=t[3];t[3]=a?pi(a,s,e[4]):s,t[4]=a?Be(t[3],o):e[4]}(s=e[5])&&(t[5]=(a=t[5])?mi(a,s,e[6]):s,t[6]=a?Be(t[5],o):e[6]),(s=e[7])&&(t[7]=s),128&r&&(t[8]=null==t[8]?e[8]:an(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i}(g,m),t=g[0],e=g[1],n=g[2],s=g[3],a=g[4],!(l=g[9]=void 0===g[9]?h?0:t.length:sn(g[9]-d,0))&&24&e&&(e&=-25),e&&1!=e)b=8==e||16==e?function(t,e,n){var i=xi(t);return function o(){for(var s=arguments.length,a=r(s),c=s,u=Yi(o);c--;)a[c]=arguments[c];var l=s<3&&a[0]!==u&&a[s-1]!==u?[]:Be(a,u);if((s-=l.length)<n)return ji(t,e,ki,o.placeholder,void 0,a,l,void 0,void 0,n-s);var h=this&&this!==Ht&&this instanceof o?i:t;return ne(h,this,a)}}(t,e,l):32!=e&&33!=e||a.length?ki.apply(void 0,g):function(t,e,n,i){var o=1&e,s=xi(t);return function e(){for(var a=-1,c=arguments.length,u=-1,l=i.length,h=r(l+c),d=this&&this!==Ht&&this instanceof e?s:t;++u<l;)h[u]=i[u];for(;c--;)h[u++]=arguments[++a];return ne(d,o?n:this,h)}}(t,e,n,s);else var b=function(t,e,n){var r=1&e,i=xi(t);return function e(){var o=this&&this!==Ht&&this instanceof e?i:t;return o.apply(r?n:this,arguments)}}(t,e,n);return wo((m?Ur:vo)(b,g),t,e)}function Vi(t,e,n,r){return void 0===t||Rs(t,yt[n])&&!St.call(r,n)?e:t}function Bi(t,e,n,r,i,o){return Hs(t)&&Hs(e)&&(o.set(e,t),Ir(t,e,void 0,Bi,o),o.delete(e)),t}function Ui(t){return Ys(t)?void 0:t}function qi(t,e,n,r,i,o){var s=1&n,a=t.length,c=e.length;if(a!=c&&!(s&&c>a))return!1;var u=o.get(t),l=o.get(e);if(u&&l)return u==e&&l==t;var h=-1,d=!0,f=2&n?new Mn:void 0;for(o.set(t,e),o.set(e,t);++h<a;){var p=t[h],m=e[h];if(r)var g=s?r(m,p,h,e,t,o):r(p,m,h,t,e,o);if(void 0!==g){if(g)continue;d=!1;break}if(f){if(!pe(e,(function(t,e){if(!Re(f,e)&&(p===t||i(p,t,n,r,o)))return f.push(e)}))){d=!1;break}}else if(p!==m&&!i(p,m,n,r,o)){d=!1;break}}return o.delete(t),o.delete(e),d}function Wi(t){return _o(po(t,void 0,No),t+"")}function Hi(t){return dr(t,wa,Zi)}function zi(t){return dr(t,Sa,to)}var Ki=vn?function(t){return vn.get(t)}:Ja;function Gi(t){for(var e=t.name+"",n=yn[e],r=St.call(yn,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function Yi(t){return(St.call(Tn,"placeholder")?Tn:t).placeholder}function Qi(){var t=Tn.iteratee||Ya;return t=t===Ya?Cr:t,arguments.length?t(arguments[0],arguments[1]):t}function $i(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function Xi(t){for(var e=wa(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,ho(i)]}return e}function Ji(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Sr(n)?n:void 0}var Zi=tn?function(t){return null==t?[]:(t=pt(t),ae(tn(t),(function(e){return Kt.call(t,e)})))}:oc,to=tn?function(t){for(var e=[];t;)he(e,Zi(t)),t=Wt(t);return e}:oc,eo=fr;function no(t,e,n){for(var r=-1,i=(e=si(e,t)).length,o=!1;++r<i;){var s=ko(e[r]);if(!(o=null!=t&&n(t,s)))break;t=t[s]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Ws(i)&&oo(s,i)&&(js(t)||Ds(t))}function ro(t){return"function"!=typeof t.constructor||lo(t)?{}:In(Wt(t))}function io(t){return js(t)||Ds(t)||!!(Qt&&t&&t[Qt])}function oo(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&at.test(t))&&t>-1&&t%1==0&&t<e}function so(t,e,n){if(!Hs(n))return!1;var r=typeof e;return!!("number"==r?Ms(n)&&oo(e,n.length):"string"==r&&e in n)&&Rs(n[e],t)}function ao(t,e){if(js(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Js(t))||W.test(t)||!q.test(t)||null!=e&&t in pt(e)}function co(t){var e=Gi(t),n=Tn[e];if("function"!=typeof n||!(e in Pn.prototype))return!1;if(t===n)return!0;var r=Ki(n);return!!r&&t===r[0]}(dn&&eo(new dn(new ArrayBuffer(1)))!=C||fn&&eo(new fn)!=p||pn&&"[object Promise]"!=eo(pn.resolve())||mn&&eo(new mn)!=v||gn&&eo(new gn)!=w)&&(eo=function(t){var e=fr(t),n=e==g?t.constructor:void 0,r=n?To(n):"";if(r)switch(r){case _n:return C;case wn:return p;case Sn:return"[object Promise]";case Cn:return v;case xn:return w}return e});var uo=_t?Us:sc;function lo(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||yt)}function ho(t){return t==t&&!Hs(t)}function fo(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in pt(n))}}function po(t,e,n){return e=sn(void 0===e?t.length-1:e,0),function(){for(var i=arguments,o=-1,s=sn(i.length-e,0),a=r(s);++o<s;)a[o]=i[e+o];o=-1;for(var c=r(e+1);++o<e;)c[o]=i[o];return c[e]=n(a),ne(t,this,c)}}function mo(t,e){return e.length<2?t:hr(t,Hr(e,0,-1))}function go(t,e){for(var n=t.length,r=an(e.length,n),i=gi(t);r--;){var o=e[r];t[r]=oo(o,n)?i[o]:void 0}return t}function bo(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var vo=So(Ur),yo=Xe||function(t,e){return Ht.setTimeout(t,e)},_o=So(qr);function wo(t,e,n){var r=e+"";return _o(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(Q,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return ie(s,(function(n){var r="_."+n[0];e&n[1]&&!ce(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match($);return e?e[1].split(X):[]}(r),n)))}function So(t){var e=0,n=0;return function(){var r=cn(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Co(t,e){var n=-1,r=t.length,i=r-1;for(e=void 0===e?r:e;++n<e;){var o=Nr(n,i),s=t[o];t[o]=t[n],t[n]=s}return t.length=e,t}var xo,Oo,Eo=(xo=xs((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(H,(function(t,n,r,i){e.push(r?i.replace(tt,"$1"):n||t)})),e}),(function(t){return 500===Oo.size&&Oo.clear(),t})),Oo=xo.cache,xo);function ko(t){if("string"==typeof t||Js(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function To(t){if(null!=t){try{return wt.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Io(t){if(t instanceof Pn)return t.clone();var e=new An(t.__wrapped__,t.__chain__);return e.__actions__=gi(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Ro=Lr((function(t,e){return Ls(t)?Zn(t,or(e,1,Ls,!0)):[]})),Ao=Lr((function(t,e){var n=Bo(e);return Ls(n)&&(n=void 0),Ls(t)?Zn(t,or(e,1,Ls,!0),Qi(n,2)):[]})),Po=Lr((function(t,e){var n=Bo(e);return Ls(n)&&(n=void 0),Ls(t)?Zn(t,or(e,1,Ls,!0),void 0,n):[]}));function Do(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:ia(n);return i<0&&(i=sn(r+i,0)),be(t,Qi(e,3),i)}function jo(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return void 0!==n&&(i=ia(n),i=n<0?sn(r+i,0):an(i,r-1)),be(t,Qi(e,3),i,!0)}function No(t){return null!=t&&t.length?or(t,1):[]}function Mo(t){return t&&t.length?t[0]:void 0}var Lo=Lr((function(t){var e=le(t,ii);return e.length&&e[0]===t[0]?br(e):[]})),Fo=Lr((function(t){var e=Bo(t),n=le(t,ii);return e===Bo(n)?e=void 0:n.pop(),n.length&&n[0]===t[0]?br(n,Qi(e,2)):[]})),Vo=Lr((function(t){var e=Bo(t),n=le(t,ii);return(e="function"==typeof e?e:void 0)&&n.pop(),n.length&&n[0]===t[0]?br(n,void 0,e):[]}));function Bo(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}var Uo=Lr(qo);function qo(t,e){return t&&t.length&&e&&e.length?Dr(t,e):t}var Wo=Wi((function(t,e){var n=null==t?0:t.length,r=Yn(t,e);return jr(t,le(e,(function(t){return oo(t,n)?+t:t})).sort(fi)),r}));function Ho(t){return null==t?t:hn.call(t)}var zo=Lr((function(t){return Xr(or(t,1,Ls,!0))})),Ko=Lr((function(t){var e=Bo(t);return Ls(e)&&(e=void 0),Xr(or(t,1,Ls,!0),Qi(e,2))})),Go=Lr((function(t){var e=Bo(t);return e="function"==typeof e?e:void 0,Xr(or(t,1,Ls,!0),void 0,e)}));function Yo(t){if(!t||!t.length)return[];var e=0;return t=ae(t,(function(t){if(Ls(t))return e=sn(t.length,e),!0})),Ee(e,(function(e){return le(t,Se(e))}))}function Qo(t,e){if(!t||!t.length)return[];var n=Yo(t);return null==e?n:le(n,(function(t){return ne(e,void 0,t)}))}var $o=Lr((function(t,e){return Ls(t)?Zn(t,e):[]})),Xo=Lr((function(t){return ni(ae(t,Ls))})),Jo=Lr((function(t){var e=Bo(t);return Ls(e)&&(e=void 0),ni(ae(t,Ls),Qi(e,2))})),Zo=Lr((function(t){var e=Bo(t);return e="function"==typeof e?e:void 0,ni(ae(t,Ls),void 0,e)})),ts=Lr(Yo),es=Lr((function(t){var e=t.length,n=e>1?t[e-1]:void 0;return n="function"==typeof n?(t.pop(),n):void 0,Qo(t,n)}));function ns(t){var e=Tn(t);return e.__chain__=!0,e}function rs(t,e){return e(t)}var is=Wi((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return Yn(e,t)};return!(e>1||this.__actions__.length)&&r instanceof Pn&&oo(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:rs,args:[i],thisArg:void 0}),new An(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(void 0),t}))):this.thru(i)})),os=vi((function(t,e,n){St.call(t,n)?++t[n]:Gn(t,n,1)})),ss=Oi(Do),as=Oi(jo);function cs(t,e){return(js(t)?ie:tr)(t,Qi(e,3))}function us(t,e){return(js(t)?oe:er)(t,Qi(e,3))}var ls=vi((function(t,e,n){St.call(t,n)?t[n].push(e):Gn(t,n,[e])})),hs=Lr((function(t,e,n){var i=-1,o="function"==typeof e,s=Ms(t)?r(t.length):[];return tr(t,(function(t){s[++i]=o?ne(e,t,n):vr(t,e,n)})),s})),ds=vi((function(t,e,n){Gn(t,n,e)}));function fs(t,e){return(js(t)?le:Er)(t,Qi(e,3))}var ps=vi((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]})),ms=Lr((function(t,e){if(null==t)return[];var n=e.length;return n>1&&so(t,e[0],e[1])?e=[]:n>2&&so(e[0],e[1],e[2])&&(e=[e[0]]),Ar(t,or(e,1),[])})),gs=$e||function(){return Ht.Date.now()};function bs(t,e,n){return e=n?void 0:e,Fi(t,128,void 0,void 0,void 0,void 0,e=t&&null==e?t.length:e)}function vs(t,e){var n;if("function"!=typeof e)throw new bt(i);return t=ia(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}var ys=Lr((function(t,e,n){var r=1;if(n.length){var i=Be(n,Yi(ys));r|=32}return Fi(t,r,e,n,i)})),_s=Lr((function(t,e,n){var r=3;if(n.length){var i=Be(n,Yi(_s));r|=32}return Fi(e,r,t,n,i)}));function ws(t,e,n){var r,o,s,a,c,u,l=0,h=!1,d=!1,f=!0;if("function"!=typeof t)throw new bt(i);function p(e){var n=r,i=o;return r=o=void 0,l=e,a=t.apply(i,n)}function m(t){return l=t,c=yo(b,e),h?p(t):a}function g(t){var n=t-u;return void 0===u||n>=e||n<0||d&&t-l>=s}function b(){var t=gs();if(g(t))return v(t);c=yo(b,function(t){var n=e-(t-u);return d?an(n,s-(t-l)):n}(t))}function v(t){return c=void 0,f&&r?p(t):(r=o=void 0,a)}function y(){var t=gs(),n=g(t);if(r=arguments,o=this,u=t,n){if(void 0===c)return m(u);if(d)return ui(c),c=yo(b,e),p(u)}return void 0===c&&(c=yo(b,e)),a}return e=sa(e)||0,Hs(n)&&(h=!!n.leading,s=(d="maxWait"in n)?sn(sa(n.maxWait)||0,e):s,f="trailing"in n?!!n.trailing:f),y.cancel=function(){void 0!==c&&ui(c),l=0,r=u=o=c=void 0},y.flush=function(){return void 0===c?a:v(gs())},y}var Ss=Lr((function(t,e){return Jn(t,1,e)})),Cs=Lr((function(t,e,n){return Jn(t,sa(e)||0,n)}));function xs(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new bt(i);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(xs.Cache||Nn),n}function Os(t){if("function"!=typeof t)throw new bt(i);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}xs.Cache=Nn;var Es=ai((function(t,e){var n=(e=1==e.length&&js(e[0])?le(e[0],Te(Qi())):le(or(e,1),Te(Qi()))).length;return Lr((function(r){for(var i=-1,o=an(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return ne(t,this,r)}))})),ks=Lr((function(t,e){return Fi(t,32,void 0,e,Be(e,Yi(ks)))})),Ts=Lr((function(t,e){return Fi(t,64,void 0,e,Be(e,Yi(Ts)))})),Is=Wi((function(t,e){return Fi(t,256,void 0,void 0,void 0,e)}));function Rs(t,e){return t===e||t!=t&&e!=e}var As=Di(pr),Ps=Di((function(t,e){return t>=e})),Ds=yr(function(){return arguments}())?yr:function(t){return zs(t)&&St.call(t,"callee")&&!Kt.call(t,"callee")},js=r.isArray,Ns=$t?Te($t):function(t){return zs(t)&&fr(t)==S};function Ms(t){return null!=t&&Ws(t.length)&&!Us(t)}function Ls(t){return zs(t)&&Ms(t)}var Fs=en||sc,Vs=Xt?Te(Xt):function(t){return zs(t)&&fr(t)==l};function Bs(t){if(!zs(t))return!1;var e=fr(t);return e==h||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Ys(t)}function Us(t){if(!Hs(t))return!1;var e=fr(t);return e==d||e==f||"[object AsyncFunction]"==e||"[object Proxy]"==e}function qs(t){return"number"==typeof t&&t==ia(t)}function Ws(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function Hs(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function zs(t){return null!=t&&"object"==typeof t}var Ks=Jt?Te(Jt):function(t){return zs(t)&&eo(t)==p};function Gs(t){return"number"==typeof t||zs(t)&&fr(t)==m}function Ys(t){if(!zs(t)||fr(t)!=g)return!1;var e=Wt(t);if(null===e)return!0;var n=St.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&wt.call(n)==Et}var Qs=Zt?Te(Zt):function(t){return zs(t)&&fr(t)==b},$s=te?Te(te):function(t){return zs(t)&&eo(t)==v};function Xs(t){return"string"==typeof t||!js(t)&&zs(t)&&fr(t)==y}function Js(t){return"symbol"==typeof t||zs(t)&&fr(t)==_}var Zs=ee?Te(ee):function(t){return zs(t)&&Ws(t.length)&&!!Lt[fr(t)]},ta=Di(Or),ea=Di((function(t,e){return t<=e}));function na(t){if(!t)return[];if(Ms(t))return Xs(t)?He(t):gi(t);if(me&&t[me])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[me]());var e=eo(t);return(e==p?Fe:e==v?Ue:Ra)(t)}function ra(t){return t?(t=sa(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function ia(t){var e=ra(t),n=e%1;return e==e?n?e-n:e:0}function oa(t){return t?Qn(ia(t),0,4294967295):0}function sa(t){if("number"==typeof t)return t;if(Js(t))return NaN;if(Hs(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Hs(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=ke(t);var n=it.test(t);return n||st.test(t)?Ut(t.slice(2),n?2:8):rt.test(t)?NaN:+t}function aa(t){return bi(t,Sa(t))}function ca(t){return null==t?"":$r(t)}var ua=yi((function(t,e){if(lo(e)||Ms(e))bi(e,wa(e),t);else for(var n in e)St.call(e,n)&&Wn(t,n,e[n])})),la=yi((function(t,e){bi(e,Sa(e),t)})),ha=yi((function(t,e,n,r){bi(e,Sa(e),t,r)})),da=yi((function(t,e,n,r){bi(e,wa(e),t,r)})),fa=Wi(Yn),pa=Lr((function(t,e){t=pt(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&so(e[0],e[1],i)&&(r=1);++n<r;)for(var o=e[n],s=Sa(o),a=-1,c=s.length;++a<c;){var u=s[a],l=t[u];(void 0===l||Rs(l,yt[u])&&!St.call(t,u))&&(t[u]=o[u])}return t})),ma=Lr((function(t){return t.push(void 0,Bi),ne(xa,void 0,t)}));function ga(t,e,n){var r=null==t?void 0:hr(t,e);return void 0===r?n:r}function ba(t,e){return null!=t&&no(t,e,gr)}var va=Ti((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Ot.call(e)),t[e]=n}),Ha(Ga)),ya=Ti((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Ot.call(e)),St.call(t,e)?t[e].push(n):t[e]=[n]}),Qi),_a=Lr(vr);function wa(t){return Ms(t)?Fn(t):xr(t)}function Sa(t){return Ms(t)?Fn(t,!0):function(t){if(!Hs(t))return function(t){var e=[];if(null!=t)for(var n in pt(t))e.push(n);return e}(t);var e=lo(t),n=[];for(var r in t)("constructor"!=r||!e&&St.call(t,r))&&n.push(r);return n}(t)}var Ca=yi((function(t,e,n){Ir(t,e,n)})),xa=yi((function(t,e,n,r){Ir(t,e,n,r)})),Oa=Wi((function(t,e){var n={};if(null==t)return n;var r=!1;e=le(e,(function(e){return e=si(e,t),r||(r=e.length>1),e})),bi(t,zi(t),n),r&&(n=$n(n,7,Ui));for(var i=e.length;i--;)Jr(n,e[i]);return n})),Ea=Wi((function(t,e){return null==t?{}:function(t,e){return Pr(t,e,(function(e,n){return ba(t,n)}))}(t,e)}));function ka(t,e){if(null==t)return{};var n=le(zi(t),(function(t){return[t]}));return e=Qi(e),Pr(t,n,(function(t,n){return e(t,n[0])}))}var Ta=Li(wa),Ia=Li(Sa);function Ra(t){return null==t?[]:Ie(t,wa(t))}var Aa=Ci((function(t,e,n){return e=e.toLowerCase(),t+(n?Pa(e):e)}));function Pa(t){return Ba(ca(t).toLowerCase())}function Da(t){return(t=ca(t))&&t.replace(ct,je).replace(Rt,"")}var ja=Ci((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Na=Ci((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Ma=Si("toLowerCase"),La=Ci((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()})),Fa=Ci((function(t,e,n){return t+(n?" ":"")+Ba(e)})),Va=Ci((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Ba=Si("toUpperCase");function Ua(t,e,n){return t=ca(t),void 0===(e=n?void 0:e)?function(t){return jt.test(t)}(t)?function(t){return t.match(Pt)||[]}(t):function(t){return t.match(J)||[]}(t):t.match(e)||[]}var qa=Lr((function(t,e){try{return ne(t,void 0,e)}catch(n){return Bs(n)?n:new ht(n)}})),Wa=Wi((function(t,e){return ie(e,(function(e){e=ko(e),Gn(t,e,ys(t[e],t))})),t}));function Ha(t){return function(){return t}}var za=Ei(),Ka=Ei(!0);function Ga(t){return t}function Ya(t){return Cr("function"==typeof t?t:$n(t,1))}var Qa=Lr((function(t,e){return function(n){return vr(n,t,e)}})),$a=Lr((function(t,e){return function(n){return vr(t,n,e)}}));function Xa(t,e,n){var r=wa(e),i=lr(e,r);null!=n||Hs(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=lr(e,wa(e)));var o=!(Hs(n)&&"chain"in n&&!n.chain),s=Us(t);return ie(i,(function(n){var r=e[n];t[n]=r,s&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),i=n.__actions__=gi(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,he([this.value()],arguments))})})),t}function Ja(){}var Za=Ri(le),tc=Ri(se),ec=Ri(pe);function nc(t){return ao(t)?Se(ko(t)):function(t){return function(e){return hr(e,t)}}(t)}var rc=Pi(),ic=Pi(!0);function oc(){return[]}function sc(){return!1}var ac,cc=Ii((function(t,e){return t+e}),0),uc=Ni("ceil"),lc=Ii((function(t,e){return t/e}),1),hc=Ni("floor"),dc=Ii((function(t,e){return t*e}),1),fc=Ni("round"),pc=Ii((function(t,e){return t-e}),0);return Tn.after=function(t,e){if("function"!=typeof e)throw new bt(i);return t=ia(t),function(){if(--t<1)return e.apply(this,arguments)}},Tn.ary=bs,Tn.assign=ua,Tn.assignIn=la,Tn.assignInWith=ha,Tn.assignWith=da,Tn.at=fa,Tn.before=vs,Tn.bind=ys,Tn.bindAll=Wa,Tn.bindKey=_s,Tn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return js(t)?t:[t]},Tn.chain=ns,Tn.chunk=function(t,e,n){e=(n?so(t,e,n):void 0===e)?1:sn(ia(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var o=0,s=0,a=r(Je(i/e));o<i;)a[s++]=Hr(t,o,o+=e);return a},Tn.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},Tn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return he(js(n)?gi(n):[n],or(e,1))},Tn.cond=function(t){var e=null==t?0:t.length,n=Qi();return t=e?le(t,(function(t){if("function"!=typeof t[1])throw new bt(i);return[n(t[0]),t[1]]})):[],Lr((function(n){for(var r=-1;++r<e;){var i=t[r];if(ne(i[0],this,n))return ne(i[1],this,n)}}))},Tn.conforms=function(t){return function(t){var e=wa(t);return function(n){return Xn(n,t,e)}}($n(t,1))},Tn.constant=Ha,Tn.countBy=os,Tn.create=function(t,e){var n=In(t);return null==e?n:Kn(n,e)},Tn.curry=function t(e,n,r){var i=Fi(e,8,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=t.placeholder,i},Tn.curryRight=function t(e,n,r){var i=Fi(e,16,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=t.placeholder,i},Tn.debounce=ws,Tn.defaults=pa,Tn.defaultsDeep=ma,Tn.defer=Ss,Tn.delay=Cs,Tn.difference=Ro,Tn.differenceBy=Ao,Tn.differenceWith=Po,Tn.drop=function(t,e,n){var r=null==t?0:t.length;return r?Hr(t,(e=n||void 0===e?1:ia(e))<0?0:e,r):[]},Tn.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?Hr(t,0,(e=r-(e=n||void 0===e?1:ia(e)))<0?0:e):[]},Tn.dropRightWhile=function(t,e){return t&&t.length?ti(t,Qi(e,3),!0,!0):[]},Tn.dropWhile=function(t,e){return t&&t.length?ti(t,Qi(e,3),!0):[]},Tn.fill=function(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&so(t,e,n)&&(n=0,r=i),function(t,e,n,r){var i=t.length;for((n=ia(n))<0&&(n=-n>i?0:i+n),(r=void 0===r||r>i?i:ia(r))<0&&(r+=i),r=n>r?0:oa(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},Tn.filter=function(t,e){return(js(t)?ae:ir)(t,Qi(e,3))},Tn.flatMap=function(t,e){return or(fs(t,e),1)},Tn.flatMapDeep=function(t,e){return or(fs(t,e),1/0)},Tn.flatMapDepth=function(t,e,n){return n=void 0===n?1:ia(n),or(fs(t,e),n)},Tn.flatten=No,Tn.flattenDeep=function(t){return null!=t&&t.length?or(t,1/0):[]},Tn.flattenDepth=function(t,e){return null!=t&&t.length?or(t,e=void 0===e?1:ia(e)):[]},Tn.flip=function(t){return Fi(t,512)},Tn.flow=za,Tn.flowRight=Ka,Tn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},Tn.functions=function(t){return null==t?[]:lr(t,wa(t))},Tn.functionsIn=function(t){return null==t?[]:lr(t,Sa(t))},Tn.groupBy=ls,Tn.initial=function(t){return null!=t&&t.length?Hr(t,0,-1):[]},Tn.intersection=Lo,Tn.intersectionBy=Fo,Tn.intersectionWith=Vo,Tn.invert=va,Tn.invertBy=ya,Tn.invokeMap=hs,Tn.iteratee=Ya,Tn.keyBy=ds,Tn.keys=wa,Tn.keysIn=Sa,Tn.map=fs,Tn.mapKeys=function(t,e){var n={};return e=Qi(e,3),cr(t,(function(t,r,i){Gn(n,e(t,r,i),t)})),n},Tn.mapValues=function(t,e){var n={};return e=Qi(e,3),cr(t,(function(t,r,i){Gn(n,r,e(t,r,i))})),n},Tn.matches=function(t){return kr($n(t,1))},Tn.matchesProperty=function(t,e){return Tr(t,$n(e,1))},Tn.memoize=xs,Tn.merge=Ca,Tn.mergeWith=xa,Tn.method=Qa,Tn.methodOf=$a,Tn.mixin=Xa,Tn.negate=Os,Tn.nthArg=function(t){return t=ia(t),Lr((function(e){return Rr(e,t)}))},Tn.omit=Oa,Tn.omitBy=function(t,e){return ka(t,Os(Qi(e)))},Tn.once=function(t){return vs(2,t)},Tn.orderBy=function(t,e,n,r){return null==t?[]:(js(e)||(e=null==e?[]:[e]),js(n=r?void 0:n)||(n=null==n?[]:[n]),Ar(t,e,n))},Tn.over=Za,Tn.overArgs=Es,Tn.overEvery=tc,Tn.overSome=ec,Tn.partial=ks,Tn.partialRight=Ts,Tn.partition=ps,Tn.pick=Ea,Tn.pickBy=ka,Tn.property=nc,Tn.propertyOf=function(t){return function(e){return null==t?void 0:hr(t,e)}},Tn.pull=Uo,Tn.pullAll=qo,Tn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Dr(t,e,Qi(n,2)):t},Tn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Dr(t,e,void 0,n):t},Tn.pullAt=Wo,Tn.range=rc,Tn.rangeRight=ic,Tn.rearg=Is,Tn.reject=function(t,e){return(js(t)?ae:ir)(t,Os(Qi(e,3)))},Tn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=Qi(e,3);++r<o;){var s=t[r];e(s,r,t)&&(n.push(s),i.push(r))}return jr(t,i),n},Tn.rest=function(t,e){if("function"!=typeof t)throw new bt(i);return Lr(t,e=void 0===e?e:ia(e))},Tn.reverse=Ho,Tn.sampleSize=function(t,e,n){return e=(n?so(t,e,n):void 0===e)?1:ia(e),(js(t)?Bn:Vr)(t,e)},Tn.set=function(t,e,n){return null==t?t:Br(t,e,n)},Tn.setWith=function(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:Br(t,e,n,r)},Tn.shuffle=function(t){return(js(t)?Un:Wr)(t)},Tn.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&so(t,e,n)?(e=0,n=r):(e=null==e?0:ia(e),n=void 0===n?r:ia(n)),Hr(t,e,n)):[]},Tn.sortBy=ms,Tn.sortedUniq=function(t){return t&&t.length?Yr(t):[]},Tn.sortedUniqBy=function(t,e){return t&&t.length?Yr(t,Qi(e,2)):[]},Tn.split=function(t,e,n){return n&&"number"!=typeof n&&so(t,e,n)&&(e=n=void 0),(n=void 0===n?4294967295:n>>>0)?(t=ca(t))&&("string"==typeof e||null!=e&&!Qs(e))&&!(e=$r(e))&&Le(t)?ci(He(t),0,n):t.split(e,n):[]},Tn.spread=function(t,e){if("function"!=typeof t)throw new bt(i);return e=null==e?0:sn(ia(e),0),Lr((function(n){var r=n[e],i=ci(n,0,e);return r&&he(i,r),ne(t,this,i)}))},Tn.tail=function(t){var e=null==t?0:t.length;return e?Hr(t,1,e):[]},Tn.take=function(t,e,n){return t&&t.length?Hr(t,0,(e=n||void 0===e?1:ia(e))<0?0:e):[]},Tn.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?Hr(t,(e=r-(e=n||void 0===e?1:ia(e)))<0?0:e,r):[]},Tn.takeRightWhile=function(t,e){return t&&t.length?ti(t,Qi(e,3),!1,!0):[]},Tn.takeWhile=function(t,e){return t&&t.length?ti(t,Qi(e,3)):[]},Tn.tap=function(t,e){return e(t),t},Tn.throttle=function(t,e,n){var r=!0,o=!0;if("function"!=typeof t)throw new bt(i);return Hs(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),ws(t,e,{leading:r,maxWait:e,trailing:o})},Tn.thru=rs,Tn.toArray=na,Tn.toPairs=Ta,Tn.toPairsIn=Ia,Tn.toPath=function(t){return js(t)?le(t,ko):Js(t)?[t]:gi(Eo(ca(t)))},Tn.toPlainObject=aa,Tn.transform=function(t,e,n){var r=js(t),i=r||Fs(t)||Zs(t);if(e=Qi(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:Hs(t)&&Us(o)?In(Wt(t)):{}}return(i?ie:cr)(t,(function(t,r,i){return e(n,t,r,i)})),n},Tn.unary=function(t){return bs(t,1)},Tn.union=zo,Tn.unionBy=Ko,Tn.unionWith=Go,Tn.uniq=function(t){return t&&t.length?Xr(t):[]},Tn.uniqBy=function(t,e){return t&&t.length?Xr(t,Qi(e,2)):[]},Tn.uniqWith=function(t,e){return e="function"==typeof e?e:void 0,t&&t.length?Xr(t,void 0,e):[]},Tn.unset=function(t,e){return null==t||Jr(t,e)},Tn.unzip=Yo,Tn.unzipWith=Qo,Tn.update=function(t,e,n){return null==t?t:Zr(t,e,oi(n))},Tn.updateWith=function(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:Zr(t,e,oi(n),r)},Tn.values=Ra,Tn.valuesIn=function(t){return null==t?[]:Ie(t,Sa(t))},Tn.without=$o,Tn.words=Ua,Tn.wrap=function(t,e){return ks(oi(e),t)},Tn.xor=Xo,Tn.xorBy=Jo,Tn.xorWith=Zo,Tn.zip=ts,Tn.zipObject=function(t,e){return ri(t||[],e||[],Wn)},Tn.zipObjectDeep=function(t,e){return ri(t||[],e||[],Br)},Tn.zipWith=es,Tn.entries=Ta,Tn.entriesIn=Ia,Tn.extend=la,Tn.extendWith=ha,Xa(Tn,Tn),Tn.add=cc,Tn.attempt=qa,Tn.camelCase=Aa,Tn.capitalize=Pa,Tn.ceil=uc,Tn.clamp=function(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=sa(n))==n?n:0),void 0!==e&&(e=(e=sa(e))==e?e:0),Qn(sa(t),e,n)},Tn.clone=function(t){return $n(t,4)},Tn.cloneDeep=function(t){return $n(t,5)},Tn.cloneDeepWith=function(t,e){return $n(t,5,e="function"==typeof e?e:void 0)},Tn.cloneWith=function(t,e){return $n(t,4,e="function"==typeof e?e:void 0)},Tn.conformsTo=function(t,e){return null==e||Xn(t,e,wa(e))},Tn.deburr=Da,Tn.defaultTo=function(t,e){return null==t||t!=t?e:t},Tn.divide=lc,Tn.endsWith=function(t,e,n){t=ca(t),e=$r(e);var r=t.length,i=n=void 0===n?r:Qn(ia(n),0,r);return(n-=e.length)>=0&&t.slice(n,i)==e},Tn.eq=Rs,Tn.escape=function(t){return(t=ca(t))&&F.test(t)?t.replace(M,Ne):t},Tn.escapeRegExp=function(t){return(t=ca(t))&&K.test(t)?t.replace(z,"\\$&"):t},Tn.every=function(t,e,n){var r=js(t)?se:nr;return n&&so(t,e,n)&&(e=void 0),r(t,Qi(e,3))},Tn.find=ss,Tn.findIndex=Do,Tn.findKey=function(t,e){return ge(t,Qi(e,3),cr)},Tn.findLast=as,Tn.findLastIndex=jo,Tn.findLastKey=function(t,e){return ge(t,Qi(e,3),ur)},Tn.floor=hc,Tn.forEach=cs,Tn.forEachRight=us,Tn.forIn=function(t,e){return null==t?t:sr(t,Qi(e,3),Sa)},Tn.forInRight=function(t,e){return null==t?t:ar(t,Qi(e,3),Sa)},Tn.forOwn=function(t,e){return t&&cr(t,Qi(e,3))},Tn.forOwnRight=function(t,e){return t&&ur(t,Qi(e,3))},Tn.get=ga,Tn.gt=As,Tn.gte=Ps,Tn.has=function(t,e){return null!=t&&no(t,e,mr)},Tn.hasIn=ba,Tn.head=Mo,Tn.identity=Ga,Tn.includes=function(t,e,n,r){t=Ms(t)?t:Ra(t),n=n&&!r?ia(n):0;var i=t.length;return n<0&&(n=sn(i+n,0)),Xs(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&ve(t,e,n)>-1},Tn.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:ia(n);return i<0&&(i=sn(r+i,0)),ve(t,e,i)},Tn.inRange=function(t,e,n){return e=ra(e),void 0===n?(n=e,e=0):n=ra(n),function(t,e,n){return t>=an(e,n)&&t<sn(e,n)}(t=sa(t),e,n)},Tn.invoke=_a,Tn.isArguments=Ds,Tn.isArray=js,Tn.isArrayBuffer=Ns,Tn.isArrayLike=Ms,Tn.isArrayLikeObject=Ls,Tn.isBoolean=function(t){return!0===t||!1===t||zs(t)&&fr(t)==u},Tn.isBuffer=Fs,Tn.isDate=Vs,Tn.isElement=function(t){return zs(t)&&1===t.nodeType&&!Ys(t)},Tn.isEmpty=function(t){if(null==t)return!0;if(Ms(t)&&(js(t)||"string"==typeof t||"function"==typeof t.splice||Fs(t)||Zs(t)||Ds(t)))return!t.length;var e=eo(t);if(e==p||e==v)return!t.size;if(lo(t))return!xr(t).length;for(var n in t)if(St.call(t,n))return!1;return!0},Tn.isEqual=function(t,e){return _r(t,e)},Tn.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:void 0)?n(t,e):void 0;return void 0===r?_r(t,e,void 0,n):!!r},Tn.isError=Bs,Tn.isFinite=function(t){return"number"==typeof t&&nn(t)},Tn.isFunction=Us,Tn.isInteger=qs,Tn.isLength=Ws,Tn.isMap=Ks,Tn.isMatch=function(t,e){return t===e||wr(t,e,Xi(e))},Tn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:void 0,wr(t,e,Xi(e),n)},Tn.isNaN=function(t){return Gs(t)&&t!=+t},Tn.isNative=function(t){if(uo(t))throw new ht("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Sr(t)},Tn.isNil=function(t){return null==t},Tn.isNull=function(t){return null===t},Tn.isNumber=Gs,Tn.isObject=Hs,Tn.isObjectLike=zs,Tn.isPlainObject=Ys,Tn.isRegExp=Qs,Tn.isSafeInteger=function(t){return qs(t)&&t>=-9007199254740991&&t<=9007199254740991},Tn.isSet=$s,Tn.isString=Xs,Tn.isSymbol=Js,Tn.isTypedArray=Zs,Tn.isUndefined=function(t){return void 0===t},Tn.isWeakMap=function(t){return zs(t)&&eo(t)==w},Tn.isWeakSet=function(t){return zs(t)&&"[object WeakSet]"==fr(t)},Tn.join=function(t,e){return null==t?"":rn.call(t,e)},Tn.kebabCase=ja,Tn.last=Bo,Tn.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return void 0!==n&&(i=(i=ia(n))<0?sn(r+i,0):an(i,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,i):be(t,_e,i,!0)},Tn.lowerCase=Na,Tn.lowerFirst=Ma,Tn.lt=ta,Tn.lte=ea,Tn.max=function(t){return t&&t.length?rr(t,Ga,pr):void 0},Tn.maxBy=function(t,e){return t&&t.length?rr(t,Qi(e,2),pr):void 0},Tn.mean=function(t){return we(t,Ga)},Tn.meanBy=function(t,e){return we(t,Qi(e,2))},Tn.min=function(t){return t&&t.length?rr(t,Ga,Or):void 0},Tn.minBy=function(t,e){return t&&t.length?rr(t,Qi(e,2),Or):void 0},Tn.stubArray=oc,Tn.stubFalse=sc,Tn.stubObject=function(){return{}},Tn.stubString=function(){return""},Tn.stubTrue=function(){return!0},Tn.multiply=dc,Tn.nth=function(t,e){return t&&t.length?Rr(t,ia(e)):void 0},Tn.noConflict=function(){return Ht._===this&&(Ht._=kt),this},Tn.noop=Ja,Tn.now=gs,Tn.pad=function(t,e,n){t=ca(t);var r=(e=ia(e))?We(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return Ai(Ze(i),n)+t+Ai(Je(i),n)},Tn.padEnd=function(t,e,n){t=ca(t);var r=(e=ia(e))?We(t):0;return e&&r<e?t+Ai(e-r,n):t},Tn.padStart=function(t,e,n){t=ca(t);var r=(e=ia(e))?We(t):0;return e&&r<e?Ai(e-r,n)+t:t},Tn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),un(ca(t).replace(G,""),e||0)},Tn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&so(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=ra(t),void 0===e?(e=t,t=0):e=ra(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=ln();return an(t+i*(e-t+Bt("1e-"+((i+"").length-1))),e)}return Nr(t,e)},Tn.reduce=function(t,e,n){var r=js(t)?de:xe,i=arguments.length<3;return r(t,Qi(e,4),n,i,tr)},Tn.reduceRight=function(t,e,n){var r=js(t)?fe:xe,i=arguments.length<3;return r(t,Qi(e,4),n,i,er)},Tn.repeat=function(t,e,n){return e=(n?so(t,e,n):void 0===e)?1:ia(e),Mr(ca(t),e)},Tn.replace=function(){var t=arguments,e=ca(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Tn.result=function(t,e,n){var r=-1,i=(e=si(e,t)).length;for(i||(i=1,t=void 0);++r<i;){var o=null==t?void 0:t[ko(e[r])];void 0===o&&(r=i,o=n),t=Us(o)?o.call(t):o}return t},Tn.round=fc,Tn.runInContext=t,Tn.sample=function(t){return(js(t)?Vn:Fr)(t)},Tn.size=function(t){if(null==t)return 0;if(Ms(t))return Xs(t)?We(t):t.length;var e=eo(t);return e==p||e==v?t.size:xr(t).length},Tn.snakeCase=La,Tn.some=function(t,e,n){var r=js(t)?pe:zr;return n&&so(t,e,n)&&(e=void 0),r(t,Qi(e,3))},Tn.sortedIndex=function(t,e){return Kr(t,e)},Tn.sortedIndexBy=function(t,e,n){return Gr(t,e,Qi(n,2))},Tn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=Kr(t,e);if(r<n&&Rs(t[r],e))return r}return-1},Tn.sortedLastIndex=function(t,e){return Kr(t,e,!0)},Tn.sortedLastIndexBy=function(t,e,n){return Gr(t,e,Qi(n,2),!0)},Tn.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=Kr(t,e,!0)-1;if(Rs(t[n],e))return n}return-1},Tn.startCase=Fa,Tn.startsWith=function(t,e,n){return t=ca(t),n=null==n?0:Qn(ia(n),0,t.length),e=$r(e),t.slice(n,n+e.length)==e},Tn.subtract=pc,Tn.sum=function(t){return t&&t.length?Oe(t,Ga):0},Tn.sumBy=function(t,e){return t&&t.length?Oe(t,Qi(e,2)):0},Tn.template=function(t,e,n){var r=Tn.templateSettings;n&&so(t,e,n)&&(e=void 0),t=ca(t),e=ha({},e,r,Vi);var i,o,s=ha({},e.imports,r.imports,Vi),a=wa(s),c=Ie(s,a),u=0,l=e.interpolate||ut,h="__p += '",d=mt((e.escape||ut).source+"|"+l.source+"|"+(l===U?et:ut).source+"|"+(e.evaluate||ut).source+"|$","g"),f="//# sourceURL="+(St.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Mt+"]")+"\n";t.replace(d,(function(e,n,r,s,a,c){return r||(r=s),h+=t.slice(u,c).replace(lt,Me),n&&(i=!0,h+="' +\n__e("+n+") +\n'"),a&&(o=!0,h+="';\n"+a+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=c+e.length,e})),h+="';\n";var p=St.call(e,"variable")&&e.variable;if(p){if(Z.test(p))throw new ht("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(o?h.replace(P,""):h).replace(D,"$1").replace(j,"$1;"),h="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var m=qa((function(){return dt(a,f+"return "+h).apply(void 0,c)}));if(m.source=h,Bs(m))throw m;return m},Tn.times=function(t,e){if((t=ia(t))<1||t>9007199254740991)return[];var n=4294967295,r=an(t,4294967295);t-=4294967295;for(var i=Ee(r,e=Qi(e));++n<t;)e(n);return i},Tn.toFinite=ra,Tn.toInteger=ia,Tn.toLength=oa,Tn.toLower=function(t){return ca(t).toLowerCase()},Tn.toNumber=sa,Tn.toSafeInteger=function(t){return t?Qn(ia(t),-9007199254740991,9007199254740991):0===t?t:0},Tn.toString=ca,Tn.toUpper=function(t){return ca(t).toUpperCase()},Tn.trim=function(t,e,n){if((t=ca(t))&&(n||void 0===e))return ke(t);if(!t||!(e=$r(e)))return t;var r=He(t),i=He(e);return ci(r,Ae(r,i),Pe(r,i)+1).join("")},Tn.trimEnd=function(t,e,n){if((t=ca(t))&&(n||void 0===e))return t.slice(0,ze(t)+1);if(!t||!(e=$r(e)))return t;var r=He(t);return ci(r,0,Pe(r,He(e))+1).join("")},Tn.trimStart=function(t,e,n){if((t=ca(t))&&(n||void 0===e))return t.replace(G,"");if(!t||!(e=$r(e)))return t;var r=He(t);return ci(r,Ae(r,He(e))).join("")},Tn.truncate=function(t,e){var n=30,r="...";if(Hs(e)){var i="separator"in e?e.separator:i;n="length"in e?ia(e.length):n,r="omission"in e?$r(e.omission):r}var o=(t=ca(t)).length;if(Le(t)){var s=He(t);o=s.length}if(n>=o)return t;var a=n-We(r);if(a<1)return r;var c=s?ci(s,0,a).join(""):t.slice(0,a);if(void 0===i)return c+r;if(s&&(a+=c.length-a),Qs(i)){if(t.slice(a).search(i)){var u,l=c;for(i.global||(i=mt(i.source,ca(nt.exec(i))+"g")),i.lastIndex=0;u=i.exec(l);)var h=u.index;c=c.slice(0,void 0===h?a:h)}}else if(t.indexOf($r(i),a)!=a){var d=c.lastIndexOf(i);d>-1&&(c=c.slice(0,d))}return c+r},Tn.unescape=function(t){return(t=ca(t))&&L.test(t)?t.replace(N,Ke):t},Tn.uniqueId=function(t){var e=++Ct;return ca(t)+e},Tn.upperCase=Va,Tn.upperFirst=Ba,Tn.each=cs,Tn.eachRight=us,Tn.first=Mo,Xa(Tn,(ac={},cr(Tn,(function(t,e){St.call(Tn.prototype,e)||(ac[e]=t)})),ac),{chain:!1}),Tn.VERSION="4.17.21",ie(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Tn[t].placeholder=Tn})),ie(["drop","take"],(function(t,e){Pn.prototype[t]=function(n){n=void 0===n?1:sn(ia(n),0);var r=this.__filtered__&&!e?new Pn(this):this.clone();return r.__filtered__?r.__takeCount__=an(n,r.__takeCount__):r.__views__.push({size:an(n,4294967295),type:t+(r.__dir__<0?"Right":"")}),r},Pn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),ie(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;Pn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Qi(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),ie(["head","last"],(function(t,e){var n="take"+(e?"Right":"");Pn.prototype[t]=function(){return this[n](1).value()[0]}})),ie(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");Pn.prototype[t]=function(){return this.__filtered__?new Pn(this):this[n](1)}})),Pn.prototype.compact=function(){return this.filter(Ga)},Pn.prototype.find=function(t){return this.filter(t).head()},Pn.prototype.findLast=function(t){return this.reverse().find(t)},Pn.prototype.invokeMap=Lr((function(t,e){return"function"==typeof t?new Pn(this):this.map((function(n){return vr(n,t,e)}))})),Pn.prototype.reject=function(t){return this.filter(Os(Qi(t)))},Pn.prototype.slice=function(t,e){t=ia(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Pn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),void 0!==e&&(n=(e=ia(e))<0?n.dropRight(-e):n.take(e-t)),n)},Pn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Pn.prototype.toArray=function(){return this.take(4294967295)},cr(Pn.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=Tn[r?"take"+("last"==e?"Right":""):e],o=r||/^find/.test(e);i&&(Tn.prototype[e]=function(){var e=this.__wrapped__,s=r?[1]:arguments,a=e instanceof Pn,c=s[0],u=a||js(e),l=function(t){var e=i.apply(Tn,he([t],s));return r&&h?e[0]:e};u&&n&&"function"==typeof c&&1!=c.length&&(a=u=!1);var h=this.__chain__,d=!!this.__actions__.length,f=o&&!h,p=a&&!d;if(!o&&u){e=p?e:new Pn(this);var m=t.apply(e,s);return m.__actions__.push({func:rs,args:[l],thisArg:void 0}),new An(m,h)}return f&&p?t.apply(this,s):(m=this.thru(l),f?r?m.value()[0]:m.value():m)})})),ie(["pop","push","shift","sort","splice","unshift"],(function(t){var e=vt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);Tn.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(js(i)?i:[],t)}return this[n]((function(n){return e.apply(js(n)?n:[],t)}))}})),cr(Pn.prototype,(function(t,e){var n=Tn[e];if(n){var r=n.name+"";St.call(yn,r)||(yn[r]=[]),yn[r].push({name:e,func:n})}})),yn[ki(void 0,2).name]=[{name:"wrapper",func:void 0}],Pn.prototype.clone=function(){var t=new Pn(this.__wrapped__);return t.__actions__=gi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=gi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=gi(this.__views__),t},Pn.prototype.reverse=function(){if(this.__filtered__){var t=new Pn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Pn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=js(t),r=e<0,i=n?t.length:0,o=function(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=an(e,t+s);break;case"takeRight":t=sn(t,e-s)}}return{start:t,end:e}}(0,i,this.__views__),s=o.start,a=o.end,c=a-s,u=r?a:s-1,l=this.__iteratees__,h=l.length,d=0,f=an(c,this.__takeCount__);if(!n||!r&&i==c&&f==c)return ei(t,this.__actions__);var p=[];t:for(;c--&&d<f;){for(var m=-1,g=t[u+=e];++m<h;){var b=l[m],v=b.type,y=(0,b.iteratee)(g);if(2==v)g=y;else if(!y){if(1==v)continue t;break t}}p[d++]=g}return p},Tn.prototype.at=is,Tn.prototype.chain=function(){return ns(this)},Tn.prototype.commit=function(){return new An(this.value(),this.__chain__)},Tn.prototype.next=function(){void 0===this.__values__&&(this.__values__=na(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}},Tn.prototype.plant=function(t){for(var e,n=this;n instanceof Rn;){var r=Io(n);r.__index__=0,r.__values__=void 0,e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e},Tn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Pn){var e=t;return this.__actions__.length&&(e=new Pn(this)),(e=e.reverse()).__actions__.push({func:rs,args:[Ho],thisArg:void 0}),new An(e,this.__chain__)}return this.thru(Ho)},Tn.prototype.toJSON=Tn.prototype.valueOf=Tn.prototype.value=function(){return ei(this.__wrapped__,this.__actions__)},Tn.prototype.first=Tn.prototype.head,me&&(Tn.prototype[me]=function(){return this}),Tn}();Ht._=Ge,void 0===(r=(function(){return Ge}).call(e,n,e,t))||(t.exports=r)}).call(this)}).call(this,n("YuTi")(t))},"M2J/":function(t,e,n){"use strict";n.d(e,"b",(function(){return d})),n.d(e,"a",(function(){return b}));var r=n("zC+P"),i=n("4ygG"),o=n("qVdT"),s=n("56Qq"),a=n("zf2e"),c=n("CuOm"),u=n("8CQ5"),l=n("uiNf");function h(t){return void 0!==t.args?t.args:t.field?Object(s.a)(t.field,t.variables):null}var d=function(t,e){var n=t.__typename,r=t.id,i=t._id;if("string"==typeof n&&(e&&(e.keyObject=void 0!==r?{id:r}:void 0!==i?{_id:i}:void 0),void 0===r&&(r=i),void 0!==r))return n+":"+("number"==typeof r||"string"==typeof r?r:JSON.stringify(r))},f=function(){},p=function(t,e){return e.fieldName},m=function(t,e,n){return(0,n.mergeObjects)(t,e)},g=function(t,e){return e},b=function(){function t(t){this.config=t,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=Object(r.a)({dataIdFromObject:d},t),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),t.possibleTypes&&this.addPossibleTypes(t.possibleTypes),t.typePolicies&&this.addTypePolicies(t.typePolicies)}return t.prototype.identify=function(t,e,n){var r=e&&n?Object(s.c)(t,e,n):t.__typename;if(r===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];for(var i,o={typename:r,selectionSet:e,fragmentMap:n},a=r&&this.getTypePolicy(r),c=a&&a.keyFn||this.config.dataIdFromObject;c;){var u=c(t,o);if(!Array.isArray(u)){i=u;break}c=w(u)}return i=i?String(i):void 0,o.keyObject?[i,o.keyObject]:[i]},t.prototype.addTypePolicies=function(t){var e=this;Object.keys(t).forEach((function(n){var i=t[n],o=i.queryType,s=i.mutationType,a=i.subscriptionType,c=Object(r.e)(i,["queryType","mutationType","subscriptionType"]);o&&e.setRootTypename("Query",n),s&&e.setRootTypename("Mutation",n),a&&e.setRootTypename("Subscription",n),u.c.call(e.toBeAdded,n)?e.toBeAdded[n].push(c):e.toBeAdded[n]=[c]}))},t.prototype.updateTypePolicy=function(t,e){var n=this,r=this.getTypePolicy(t),i=e.keyFields,o=e.fields;function s(t,e){t.merge="function"==typeof e?e:!0===e?m:!1===e?g:t.merge}s(r,e.merge),r.keyFn=!1===i?f:Array.isArray(i)?w(i):"function"==typeof i?i:r.keyFn,o&&Object.keys(o).forEach((function(e){var r=n.getFieldPolicy(t,e,!0),i=o[e];if("function"==typeof i)r.read=i;else{var a=i.keyArgs,c=i.read,u=i.merge;r.keyFn=!1===a?p:Array.isArray(a)?_(a):"function"==typeof a?a:r.keyFn,"function"==typeof c&&(r.read=c),s(r,u)}r.read&&r.merge&&(r.keyFn=r.keyFn||p)}))},t.prototype.setRootTypename=function(t,e){void 0===e&&(e=t);var n="ROOT_"+t.toUpperCase(),r=this.rootTypenamesById[n];e!==r&&(Object(o.b)(!r||r===t,1),r&&delete this.rootIdsByTypename[r],this.rootIdsByTypename[e]=n,this.rootTypenamesById[n]=e)},t.prototype.addPossibleTypes=function(t){var e=this;this.usingPossibleTypes=!0,Object.keys(t).forEach((function(n){e.getSupertypeSet(n,!0),t[n].forEach((function(t){e.getSupertypeSet(t,!0).add(n);var r=t.match(u.a);r&&r[0]===t||e.fuzzySubtypes.set(t,new RegExp(t))}))}))},t.prototype.getTypePolicy=function(t){var e=this;if(!u.c.call(this.typePolicies,t)){var n=this.typePolicies[t]=Object.create(null);n.fields=Object.create(null);var i=this.supertypeMap.get(t);i&&i.size&&i.forEach((function(t){var i=e.getTypePolicy(t),o=i.fields,s=Object(r.e)(i,["fields"]);Object.assign(n,s),Object.assign(n.fields,o)}))}var o=this.toBeAdded[t];return o&&o.length&&o.splice(0).forEach((function(n){e.updateTypePolicy(t,n)})),this.typePolicies[t]},t.prototype.getFieldPolicy=function(t,e,n){if(t){var r=this.getTypePolicy(t).fields;return r[e]||n&&(r[e]=Object.create(null))}},t.prototype.getSupertypeSet=function(t,e){var n=this.supertypeMap.get(t);return!n&&e&&this.supertypeMap.set(t,n=new Set),n},t.prototype.fragmentMatches=function(t,e,n,r){var i=this;if(!t.typeCondition)return!0;if(!e)return!1;var o=t.typeCondition.name.value;if(e===o)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(o))for(var s=this.getSupertypeSet(e,!0),a=[s],c=function(t){var e=i.getSupertypeSet(t,!1);e&&e.size&&a.indexOf(e)<0&&a.push(e)},l=!(!n||!this.fuzzySubtypes.size),h=0;h<a.length;++h){var d=a[h];if(d.has(o))return s.has(o)||s.add(o),!0;d.forEach(c),l&&h===a.length-1&&Object(u.e)(t.selectionSet,n,r)&&(l=!1,this.fuzzySubtypes.forEach((function(t,n){var r=e.match(t);r&&r[0]===e&&c(n)})))}return!1},t.prototype.hasKeyArgs=function(t,e){var n=this.getFieldPolicy(t,e,!1);return!(!n||!n.keyFn)},t.prototype.getStoreFieldName=function(t){var e,n=t.typename,r=t.fieldName,i=this.getFieldPolicy(n,r,!1),o=i&&i.keyFn;if(o&&n)for(var a={typename:n,fieldName:r,field:t.field||null,variables:t.variables},c=h(t);o;){var l=o(c,a);if(!Array.isArray(l)){e=l||r;break}o=_(l)}return void 0===e&&(e=t.field?Object(s.i)(t.field,t.variables):Object(s.b)(r,h(t))),!1===e?r:r===Object(u.b)(e)?e:r+":"+e},t.prototype.readField=function(t,e){var n=t.from;if(n&&(t.field||t.fieldName)){if(void 0===t.typename){var r=e.store.getFieldValue(n,"__typename");r&&(t.typename=r)}var i=this.getStoreFieldName(t),o=Object(u.b)(i),a=e.store.getFieldValue(n,i),c=this.getFieldPolicy(t.typename,o,!1),h=c&&c.read;if(h){var d=v(this,n,t,e,e.store.getStorage(Object(s.f)(n)?n.__ref:n,i));return l.a.withValue(this.cache,h,[a,d])}return a}},t.prototype.getMergeFunction=function(t,e,n){var r=this.getFieldPolicy(t,e,!1),i=r&&r.merge;return!i&&n&&(i=(r=this.getTypePolicy(n))&&r.merge),i},t.prototype.runMergeFunction=function(t,e,n,r,i){var o=n.field,s=n.typename,a=n.merge;return a===m?y(r.store.getFieldValue)(t,e):a===g?e:a(t,e,v(this,void 0,{typename:s,fieldName:o.name.value,field:o,variables:r.variables},r,i||Object.create(null)))},t}();function v(t,e,n,i,o){var a=t.getStoreFieldName(n),c=Object(u.b)(a),l=n.variables||i.variables,d=i.store,f=d.getFieldValue,p=d.toReference,m=d.canRead;return{args:h(n),field:n.field||null,fieldName:c,storeFieldName:a,variables:l,isReference:s.f,toReference:p,storage:o,cache:t.cache,canRead:m,readField:function(n,o){var s="string"==typeof n?{fieldName:n,from:o}:Object(r.a)({},n);return void 0===s.from&&(s.from=e),void 0===s.variables&&(s.variables=l),t.readField(s,i)},mergeObjects:y(f)}}function y(t){return function(e,n){if(Array.isArray(e)||Array.isArray(n))throw new o.a(2);if(e&&"object"==typeof e&&n&&"object"==typeof n){var i=t(e,"__typename"),s=t(n,"__typename");return i&&s&&i!==s||!Object(u.f)(e)||!Object(u.f)(n)?n:Object(r.a)(Object(r.a)({},e),n)}return n}}function _(t){return function(e,n){return e?n.fieldName+":"+JSON.stringify(S(e,t,!1)):n.fieldName}}function w(t){var e=new i.a(a.a);return function(n,r){var i;if(r.selectionSet&&r.fragmentMap){var o=e.lookupArray([r.selectionSet,r.fragmentMap]);i=o.aliasMap||(o.aliasMap=function t(e,n){var r=Object.create(null),i=new Set([e]);return i.forEach((function(e){e.selections.forEach((function(e){if(Object(s.d)(e)){if(e.alias){var o=e.alias.value,a=e.name.value;a!==o&&((r.aliases||(r.aliases=Object.create(null)))[a]=o)}e.selectionSet&&((r.subsets||(r.subsets=Object.create(null)))[e.name.value]=t(e.selectionSet,n))}else{var u=Object(c.b)(e,n);u&&i.add(u.selectionSet)}}))})),r}(r.selectionSet,r.fragmentMap))}var a=r.keyObject=S(n,t,!0,i);return r.typename+":"+JSON.stringify(a)}}function S(t,e,n,r){var i,s=Object.create(null);return e.forEach((function(e){if(Array.isArray(e)){if("string"==typeof i){var a=r&&r.subsets;s[i]=S(t[i],e,n,a&&a[i])}}else{var c=r&&r.aliases,l=c&&c[e]||e;u.c.call(t,l)?s[i=e]=t[l]:(Object(o.b)(!n,3),i=void 0)}})),s}},Me6K:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("AiWB");function i(t){return new r.a((function(e){e.error(t)}))}},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",(function(){return r}))},Nlz5:function(t,e,n){"use strict";n.d(e,"a",(function(){return K}));var r=n("zC+P"),i=n("qVdT"),o=n("3S/s"),s=n("UK3C"),a=n("zKVw"),c=n("L2ys"),u=n("AiWB"),l=function(t,e){var n;try{n=JSON.stringify(t)}catch(o){var r=new i.a(23);throw r.parseError=o,r}return n},h=n("TrNH"),d=Object.prototype.hasOwnProperty,f=n("dQau"),p={http:{includeQuery:!0,includeExtensions:!1},headers:{accept:"*/*","content-type":"application/json"},options:{method:"POST"}};function m(t){if(t){var e=Object.create(null);return Object.keys(Object(t)).forEach((function(n){e[n.toLowerCase()]=t[n]})),e}return t}var g=n("Me6K"),b=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,function(t){void 0===t&&(t={});var e=t.uri,n=void 0===e?"/graphql":e,s=t.fetch,a=t.includeExtensions,b=t.useGETForQueries,v=t.includeUnusedVariables,y=void 0!==v&&v,_=Object(r.e)(t,["uri","fetch","includeExtensions","useGETForQueries","includeUnusedVariables"]);!function(t){if(!t&&"undefined"==typeof fetch)throw new i.a(22)}(s),s||(s=fetch);var w={http:{includeExtensions:a},options:_.fetchOptions,credentials:_.credentials,headers:_.headers};return new o.a((function(t){var e=function(t,e){return t.getContext().uri||("function"==typeof e?e(t):e||"/graphql")}(t,n),i=t.getContext(),o={};if(i.clientAwareness){var a=i.clientAwareness,v=a.name,_=a.version;v&&(o["apollographql-client-name"]=v),_&&(o["apollographql-client-version"]=_)}var S,C=Object(r.a)(Object(r.a)({},o),i.headers),x=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var o=Object(r.a)(Object(r.a)({},e.options),{headers:e.headers,credentials:e.credentials}),s=e.http||{};n.forEach((function(t){o=Object(r.a)(Object(r.a)(Object(r.a)({},o),t.options),{headers:Object(r.a)(Object(r.a)({},o.headers),m(t.headers))}),t.credentials&&(o.credentials=t.credentials),s=Object(r.a)(Object(r.a)({},s),t.http)}));var a=t.operationName,c=t.extensions,u=t.variables,l=t.query,h={operationName:a,variables:u};return s.includeExtensions&&(h.extensions=c),s.includeQuery&&(h.query=Object(f.a)(l)),{options:o,body:h}}(t,p,w,{http:i.http,options:i.fetchOptions,credentials:i.credentials,headers:C}),O=x.options,E=x.body;if(E.variables&&!y){var k=new Set(Object.keys(E.variables));Object(c.b)(t.query,{Variable:function(t,e,n){n&&"VariableDefinition"!==n.kind&&k.delete(t.name.value)}}),k.size&&(E.variables=Object(r.a)({},E.variables),k.forEach((function(t){delete E.variables[t]})))}if(!O.signal){var T=function(){if("undefined"==typeof AbortController)return{controller:!1,signal:!1};var t=new AbortController;return{controller:t,signal:t.signal}}();(S=T.controller)&&(O.signal=T.signal)}if(b&&!t.query.definitions.some((function(t){return"OperationDefinition"===t.kind&&"mutation"===t.operation}))&&(O.method="GET"),"GET"===O.method){var I=function(t,e){var n=[],r=function(t,e){n.push(t+"="+encodeURIComponent(e))};if("query"in e&&r("query",e.query),e.operationName&&r("operationName",e.operationName),e.variables){var i=void 0;try{i=l(e.variables)}catch(A){return{parseError:A}}r("variables",i)}if(e.extensions){var o=void 0;try{o=l(e.extensions)}catch(A){return{parseError:A}}r("extensions",o)}var s="",a=t,c=t.indexOf("#");-1!==c&&(s=t.substr(c),a=t.substr(0,c));var u=-1===a.indexOf("?")?"?":"&";return{newURI:a+u+n.join("&")+s}}(e,E),R=I.newURI,A=I.parseError;if(A)return Object(g.a)(A);e=R}else try{O.body=l(E)}catch(A){return Object(g.a)(A)}return new u.a((function(n){var r;return s(e,O).then((function(e){return t.setContext({response:e}),e})).then((r=t,function(t){return t.text().then((function(e){try{return JSON.parse(e)}catch(r){var n=r;throw n.name="ServerParseError",n.response=t,n.statusCode=t.status,n.bodyText=e,n}})).then((function(e){return t.status>=300&&Object(h.a)(t,e,"Response not successful: Received status code "+t.status),Array.isArray(e)||d.call(e,"data")||d.call(e,"errors")||Object(h.a)(t,e,"Server response was missing for query '"+(Array.isArray(r)?r.map((function(t){return t.operationName})):r.operationName)+"'."),e}))})).then((function(t){return n.next(t),n.complete(),t})).catch((function(t){"AbortError"!==t.name&&(t.result&&t.result.errors&&t.result.data&&n.next(t.result),n.error(t))})),function(){S&&S.abort()}}))}))}(e).request)||this;return n.options=e,n}return Object(r.c)(e,t),e}(o.a),v=n("qx2n"),y=n("zf2e");function _(t){return t.errors&&t.errors.length>0||!1}var w=n("gclO"),S=n("sHDe"),C=n("BAPW"),x=n("QcCY"),O=n("/Osu"),E=n("n27f");function k(t){return t&&"function"==typeof t.then}var T=function(t){function e(e){var n=t.call(this,(function(t){return n.addObserver(t),function(){return n.removeObserver(t)}}))||this;return n.observers=new Set,n.addCount=0,n.promise=new Promise((function(t,e){n.resolve=t,n.reject=e})),n.handlers={next:function(t){null!==n.sub&&(n.latest=["next",t],Object(O.a)(n.observers,"next",t))},error:function(t){var e=n.sub;null!==e&&(e&&Promise.resolve().then((function(){return e.unsubscribe()})),n.sub=null,n.latest=["error",t],n.reject(t),Object(O.a)(n.observers,"error",t))},complete:function(){if(null!==n.sub){var t=n.sources.shift();t?k(t)?t.then((function(t){return n.sub=t.subscribe(n.handlers)})):n.sub=t.subscribe(n.handlers):(n.sub=null,n.latest&&"next"===n.latest[0]?n.resolve(n.latest[1]):n.resolve(),Object(O.a)(n.observers,"complete"))}}},n.cancel=function(t){n.reject(t),n.sources=[],n.handlers.complete()},n.promise.catch((function(t){})),"function"==typeof e&&(e=[new u.a(e)]),k(e)?e.then((function(t){return n.start(t)}),n.handlers.error):n.start(e),n}return Object(r.c)(e,t),e.prototype.start=function(t){void 0===this.sub&&(this.sources=Array.from(t),this.handlers.complete())},e.prototype.deliverLastMessage=function(t){if(this.latest){var e=this.latest[0],n=t[e];n&&n.call(t,this.latest[1]),null===this.sub&&"next"===e&&t.complete&&t.complete()}},e.prototype.addObserver=function(t){this.observers.has(t)||(this.deliverLastMessage(t),this.observers.add(t),++this.addCount)},e.prototype.removeObserver=function(t,e){this.observers.delete(t)&&--this.addCount<1&&!e&&this.handlers.error(new Error("Observable cancelled prematurely"))},e.prototype.cleanup=function(t){var e=this,n=!1,r=function(){n||(n=!0,e.observers.delete(i),t())},i={next:r,error:r,complete:r},o=this.addCount;this.addObserver(i),this.addCount=o},e}(u.a);function I(t,e,n){return new u.a((function(r){var i=r.next,o=r.error,s=r.complete,a=0,c=!1,u={then:function(t){return new Promise((function(e){return e(t())}))}};function l(t,e){return t?function(e){++a;var n=function(){return t(e)};u=u.then(n,n).then((function(t){--a,i&&i.call(r,t),c&&h.complete()}),(function(t){throw--a,t})).catch((function(t){o&&o.call(r,t)}))}:function(t){return e&&e.call(r,t)}}var h={next:l(e,i),error:l(n,o),complete:function(){c=!0,a||s&&s.call(r)}},d=t.subscribe(h);return function(){return d.unsubscribe()}}))}Object(E.a)(T);var R=n("PKC9"),A=n("AQry"),P=n("bb5K"),D=n("mph4"),j=n("CuOm"),N=n("56Qq"),M=n("uiNf"),L=function(){function t(t){var e=t.client,n=t.resolvers,r=t.fragmentMatcher;this.cache=t.cache,e&&(this.client=e),n&&this.addResolvers(n),r&&this.setFragmentMatcher(r)}return t.prototype.addResolvers=function(t){var e=this;this.resolvers=this.resolvers||{},Array.isArray(t)?t.forEach((function(t){e.resolvers=Object(D.b)(e.resolvers,t)})):this.resolvers=Object(D.b)(this.resolvers,t)},t.prototype.setResolvers=function(t){this.resolvers={},this.addResolvers(t)},t.prototype.getResolvers=function(){return this.resolvers||{}},t.prototype.runResolvers=function(t){var e=t.document,n=t.remoteResult,i=t.context,o=t.variables,s=t.onlyRunForcedResolvers,a=void 0!==s&&s;return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(t){return e?[2,this.resolveDocument(e,n.data,i,o,this.fragmentMatcher,a).then((function(t){return Object(r.a)(Object(r.a)({},n),{data:t.result})}))]:[2,n]}))}))},t.prototype.setFragmentMatcher=function(t){this.fragmentMatcher=t},t.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},t.prototype.clientQuery=function(t){return Object(x.b)(["client"],t)&&this.resolvers?t:null},t.prototype.serverQuery=function(t){return Object(C.c)(t)},t.prototype.prepareContext=function(t){var e=this.cache;return Object(r.a)(Object(r.a)({},t),{cache:e,getCacheKey:function(t){return e.identify(t)}})},t.prototype.addExportedVariables=function(t,e,n){return void 0===e&&(e={}),void 0===n&&(n={}),Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(i){return t?[2,this.resolveDocument(t,this.buildRootValueFromCache(t,e)||{},this.prepareContext(n),e).then((function(t){return Object(r.a)(Object(r.a)({},e),t.exportedVariables)}))]:[2,Object(r.a)({},e)]}))}))},t.prototype.shouldForceResolvers=function(t){var e=!1;return Object(c.b)(t,{Directive:{enter:function(t){if("client"===t.name.value&&t.arguments&&(e=t.arguments.some((function(t){return"always"===t.name.value&&"BooleanValue"===t.value.kind&&!0===t.value.value}))))return c.a}}}),e},t.prototype.buildRootValueFromCache=function(t,e){return this.cache.diff({query:Object(C.b)(t),variables:e,returnPartialData:!0,optimistic:!1}).result},t.prototype.resolveDocument=function(t,e,n,i,o,s){return void 0===n&&(n={}),void 0===i&&(i={}),void 0===o&&(o=function(){return!0}),void 0===s&&(s=!1),Object(r.b)(this,void 0,void 0,(function(){var a,c,u,l,h,d,f,p,m;return Object(r.d)(this,(function(g){return a=Object(S.e)(t),c=Object(S.d)(t),u=Object(j.a)(c),h=(l=a.operation)?l.charAt(0).toUpperCase()+l.slice(1):"Query",f=(d=this).cache,p=d.client,m={fragmentMap:u,context:Object(r.a)(Object(r.a)({},n),{cache:f,client:p}),variables:i,fragmentMatcher:o,defaultOperationType:h,exportedVariables:{},onlyRunForcedResolvers:s},[2,this.resolveSelectionSet(a.selectionSet,e,m).then((function(t){return{result:t,exportedVariables:m.exportedVariables}}))]}))}))},t.prototype.resolveSelectionSet=function(t,e,n){return Object(r.b)(this,void 0,void 0,(function(){var o,s,a,c,u=this;return Object(r.d)(this,(function(l){return o=n.fragmentMap,s=n.context,a=n.variables,c=[e],[2,Promise.all(t.selections.map((function(t){return Object(r.b)(u,void 0,void 0,(function(){var u;return Object(r.d)(this,(function(r){return Object(x.c)(t,a)?Object(N.d)(t)?[2,this.resolveField(t,e,n).then((function(e){var n;void 0!==e&&c.push(((n={})[Object(N.h)(t)]=e,n))}))]:(Object(N.e)(t)?u=t:(u=o[t.name.value],Object(i.b)(u,11)),u&&u.typeCondition&&n.fragmentMatcher(e,u.typeCondition.name.value,s)?[2,this.resolveSelectionSet(u.selectionSet,e,n).then((function(t){c.push(t)}))]:[2]):[2]}))}))}))).then((function(){return Object(D.c)(c)}))]}))}))},t.prototype.resolveField=function(t,e,n){return Object(r.b)(this,void 0,void 0,(function(){var i,o,s,a,c,u,l,h,d,f=this;return Object(r.d)(this,(function(r){return i=n.variables,o=t.name.value,s=Object(N.h)(t),a=o!==s,c=e[s]||e[o],u=Promise.resolve(c),n.onlyRunForcedResolvers&&!this.shouldForceResolvers(t)||(l=e.__typename||n.defaultOperationType,(h=this.resolvers&&this.resolvers[l])&&(d=h[a?o:s])&&(u=Promise.resolve(M.a.withValue(this.cache,d,[e,Object(N.a)(t,i),n.context,{field:t,fragmentMap:n.fragmentMap}])))),[2,u.then((function(e){return void 0===e&&(e=c),t.directives&&t.directives.forEach((function(t){"export"===t.name.value&&t.arguments&&t.arguments.forEach((function(t){"as"===t.name.value&&"StringValue"===t.value.kind&&(n.exportedVariables[t.value.value]=e)}))})),t.selectionSet?null==e?e:Array.isArray(e)?f.resolveSubSelectedArray(t,e,n):t.selectionSet?f.resolveSelectionSet(t.selectionSet,e,n):void 0:e}))]}))}))},t.prototype.resolveSubSelectedArray=function(t,e,n){var r=this;return Promise.all(e.map((function(e){return null===e?null:Array.isArray(e)?r.resolveSubSelectedArray(t,e,n):t.selectionSet?r.resolveSelectionSet(t.selectionSet,e,n):void 0})))},t}(),F=new(y.a?WeakMap:Map);function V(t,e){var n=t[e];"function"==typeof n&&(t[e]=function(){return F.set(t,(F.get(t)+1)%1e15),n.apply(this,arguments)})}function B(t){t.notifyTimeout&&(clearTimeout(t.notifyTimeout),t.notifyTimeout=void 0)}var U=function(){function t(t){this.cache=t,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.subscriptions=new Set,this.stopped=!1,this.dirty=!1,this.diff=null,this.observableQuery=null,F.has(t)||(F.set(t,0),V(t,"evict"),V(t,"modify"),V(t,"reset"))}return t.prototype.init=function(t){var e=t.networkStatus||P.a.loading;return this.variables&&this.networkStatus!==P.a.loading&&!Object(v.a)(this.variables,t.variables)&&(e=P.a.setVariables),Object(v.a)(t.variables,this.variables)||(this.diff=null),Object.assign(this,{document:t.document,variables:t.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:e}),t.observableQuery&&this.setObservableQuery(t.observableQuery),t.lastRequestId&&(this.lastRequestId=t.lastRequestId),this},t.prototype.reset=function(){B(this),this.diff=null,this.dirty=!1},t.prototype.getDiff=function(t){return void 0===t&&(t=this.variables),this.diff&&Object(v.a)(t,this.variables)?this.diff:(this.updateWatch(this.variables=t),this.diff=this.cache.diff({query:this.document,variables:t,returnPartialData:!0,optimistic:!0}))},t.prototype.setDiff=function(t){var e=this,n=this.diff;this.diff=t,this.dirty||(t&&t.result)===(n&&n.result)||(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout((function(){return e.notify()}),0)))},t.prototype.setObservableQuery=function(t){var e=this;t!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=t,t?(t.queryInfo=this,this.listeners.add(this.oqListener=function(){e.getDiff().fromOptimisticTransaction?t.observe():t.reobserve()})):delete this.oqListener)},t.prototype.notify=function(){var t=this;B(this),this.shouldNotify()&&this.listeners.forEach((function(e){return e(t)})),this.dirty=!1},t.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if(Object(P.b)(this.networkStatus)&&this.observableQuery){var t=this.observableQuery.options.fetchPolicy;if("cache-only"!==t&&"cache-and-network"!==t)return!1}return!0},t.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.reset(),this.cancel(),delete this.cancel,this.subscriptions.forEach((function(t){return t.unsubscribe()}));var t=this.observableQuery;t&&t.stopPolling()}},t.prototype.cancel=function(){},t.prototype.updateWatch=function(t){var e=this;void 0===t&&(t=this.variables);var n=this.observableQuery;n&&"no-cache"===n.options.fetchPolicy||this.lastWatch&&this.lastWatch.query===this.document&&Object(v.a)(t,this.lastWatch.variables)||(this.cancel(),this.cancel=this.cache.watch(this.lastWatch={query:this.document,variables:t,optimistic:!0,callback:function(t){return e.setDiff(t)}}))},t.prototype.shouldWrite=function(t,e){var n=this.lastWrite;return!(n&&n.dmCount===F.get(this.cache)&&Object(v.a)(e,n.variables)&&Object(v.a)(t.data,n.result.data))},t.prototype.markResult=function(t,e,n){var r=this;this.graphQLErrors=Object(w.a)(t.errors)?t.errors:[],this.reset(),"no-cache"===e.fetchPolicy?this.diff={result:t.data,complete:!0}:!this.stopped&&n&&(q(t,e.errorPolicy)?this.cache.performTransaction((function(n){if(r.shouldWrite(t,e.variables))n.writeQuery({query:r.document,data:t.data,variables:e.variables}),r.lastWrite={result:t,variables:e.variables,dmCount:F.get(r.cache)};else if(r.diff&&r.diff.complete)return void(t.data=r.diff.result);var i=n.diff({query:r.document,variables:e.variables,returnPartialData:!0,optimistic:!0});r.stopped||r.updateWatch(e.variables),r.diff=i,i.complete&&(t.data=i.result)})):this.lastWrite=void 0)},t.prototype.markReady=function(){return this.networkError=null,this.networkStatus=P.a.ready},t.prototype.markError=function(t){return this.networkStatus=P.a.error,this.lastWrite=void 0,this.reset(),t.graphQLErrors&&(this.graphQLErrors=t.graphQLErrors),t.networkError&&(this.networkError=t.networkError),t},t}();function q(t,e){void 0===e&&(e="none");var n="ignore"===e||"all"===e,r=!_(t);return!r&&n&&t.data&&(r=!0),r}var W=Object.prototype.hasOwnProperty,H=function(){function t(t){var e=t.cache,n=t.link,r=t.queryDeduplication,i=void 0!==r&&r,o=t.onBroadcast,s=t.ssrMode,a=void 0!==s&&s,c=t.clientAwareness,u=void 0===c?{}:c,l=t.localState,h=t.assumeImmutableResults;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new(y.a?WeakMap:Map),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new Map,this.cache=e,this.link=n,this.queryDeduplication=i,this.clientAwareness=u,this.localState=l||new L({cache:e}),this.ssrMode=a,this.assumeImmutableResults=!!h,(this.onBroadcast=o)&&(this.mutationStore=Object.create(null))}return t.prototype.stop=function(){var t=this;this.queries.forEach((function(e,n){t.stopQueryNoBroadcast(n)})),this.cancelPendingFetches(new i.a(12))},t.prototype.cancelPendingFetches=function(t){this.fetchCancelFns.forEach((function(e){return e(t)})),this.fetchCancelFns.clear()},t.prototype.mutate=function(t){var e=t.mutation,n=t.variables,o=t.optimisticResponse,s=t.updateQueries,a=t.refetchQueries,c=void 0===a?[]:a,u=t.awaitRefetchQueries,l=void 0!==u&&u,h=t.update,d=t.errorPolicy,f=void 0===d?"none":d,p=t.fetchPolicy,m=t.context,g=void 0===m?{}:m;return Object(r.b)(this,void 0,void 0,(function(){var t,a,u;return Object(r.d)(this,(function(d){switch(d.label){case 0:return Object(i.b)(e,13),Object(i.b)(!p||"no-cache"===p,14),t=this.generateMutationId(),e=this.transform(e).document,n=this.getVariables(e,n),this.transform(e).hasClientExports?[4,this.localState.addExportedVariables(e,n,g)]:[3,2];case 1:n=d.sent(),d.label=2;case 2:return a=this.mutationStore&&(this.mutationStore[t]={mutation:e,variables:n,loading:!0,error:null}),o&&this.markMutationOptimistic(o,{mutationId:t,document:e,variables:n,errorPolicy:f,updateQueries:s,update:h}),this.broadcastQueries(),u=this,[2,new Promise((function(i,d){var m,b;u.getObservableFromLink(e,Object(r.a)(Object(r.a)({},g),{optimisticResponse:o}),n,!1).subscribe({next:function(r){if(_(r)&&"none"===f)b=new R.a({graphQLErrors:r.errors});else{if(a&&(a.loading=!1,a.error=null),"no-cache"!==p)try{u.markMutationResult({mutationId:t,result:r,document:e,variables:n,errorPolicy:f,updateQueries:s,update:h})}catch(i){return void(b=new R.a({networkError:i}))}m=r}},error:function(e){a&&(a.loading=!1,a.error=e),o&&u.cache.removeOptimistic(t),u.broadcastQueries(),d(new R.a({networkError:e}))},complete:function(){if(b&&a&&(a.loading=!1,a.error=b),o&&u.cache.removeOptimistic(t),u.broadcastQueries(),b)d(b);else{"function"==typeof c&&(c=c(m));var e=[];Object(w.a)(c)&&c.forEach((function(t){if("string"==typeof t)u.queries.forEach((function(n){var r=n.observableQuery;r&&r.hasObservers()&&r.queryName===t&&e.push(r.refetch())}));else{var n={query:t.query,variables:t.variables,fetchPolicy:"network-only"};t.context&&(n.context=t.context),e.push(u.query(n))}})),Promise.all(l?e:[]).then((function(){"ignore"===f&&m&&_(m)&&delete m.errors,i(m)}),d)}}})}))]}}))}))},t.prototype.markMutationResult=function(t,e){var n=this;if(void 0===e&&(e=this.cache),q(t.result,t.errorPolicy)){var r=[{result:t.result.data,dataId:"ROOT_MUTATION",query:t.document,variables:t.variables}],i=t.updateQueries;i&&this.queries.forEach((function(o,s){var a=o.observableQuery,c=a&&a.queryName;if(c&&W.call(i,c)){var u=i[c],l=n.queries.get(s),h=l.document,d=l.variables,f=e.diff({query:h,variables:d,returnPartialData:!0,optimistic:!1}),p=f.result;if(f.complete&&p){var m=u(p,{mutationResult:t.result,queryName:h&&Object(S.g)(h)||void 0,queryVariables:d});m&&r.push({result:m,dataId:"ROOT_QUERY",query:h,variables:d})}}})),e.performTransaction((function(e){r.forEach((function(t){return e.write(t)}));var n=t.update;n&&n(e,t.result)}),null)}},t.prototype.markMutationOptimistic=function(t,e){var n=this,i="function"==typeof t?t(e.variables):t;return this.cache.recordOptimisticTransaction((function(t){try{n.markMutationResult(Object(r.a)(Object(r.a)({},e),{result:{data:i}}),t)}catch(o){}}),e.mutationId)},t.prototype.fetchQuery=function(t,e,n){return this.fetchQueryObservable(t,e,n).promise},t.prototype.getQueryStore=function(){var t=Object.create(null);return this.queries.forEach((function(e,n){t[n]={variables:e.variables,networkStatus:e.networkStatus,networkError:e.networkError,graphQLErrors:e.graphQLErrors}})),t},t.prototype.resetErrors=function(t){var e=this.queries.get(t);e&&(e.networkError=void 0,e.graphQLErrors=[])},t.prototype.transform=function(t){var e=this.transformCache;if(!e.has(t)){var n=this.cache.transformDocument(t),r=Object(C.d)(this.cache.transformForLink(n)),i=this.localState.clientQuery(n),o=r&&this.localState.serverQuery(r),s={document:n,hasClientExports:Object(x.a)(n),hasForcedResolvers:this.localState.shouldForceResolvers(n),clientQuery:i,serverQuery:o,defaultVars:Object(S.b)(Object(S.f)(n))},a=function(t){t&&!e.has(t)&&e.set(t,s)};a(t),a(n),a(i),a(o)}return e.get(t)},t.prototype.getVariables=function(t,e){return Object(r.a)(Object(r.a)({},this.transform(t).defaultVars),e)},t.prototype.watchQuery=function(t){void 0===(t=Object(r.a)(Object(r.a)({},t),{variables:this.getVariables(t.query,t.variables)})).notifyOnNetworkStatusChange&&(t.notifyOnNetworkStatusChange=!1);var e=new U(this.cache),n=new A.a({queryManager:this,queryInfo:e,options:t});return this.queries.set(n.queryId,e),e.init({document:t.query,observableQuery:n,variables:t.variables}),n},t.prototype.query=function(t){var e=this;Object(i.b)(t.query,15),Object(i.b)("Document"===t.query.kind,16),Object(i.b)(!t.returnPartialData,17),Object(i.b)(!t.pollInterval,18);var n=this.generateQueryId();return this.fetchQuery(n,t).finally((function(){return e.stopQuery(n)}))},t.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},t.prototype.generateRequestId=function(){return this.requestIdCounter++},t.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},t.prototype.stopQueryInStore=function(t){this.stopQueryInStoreNoBroadcast(t),this.broadcastQueries()},t.prototype.stopQueryInStoreNoBroadcast=function(t){var e=this.queries.get(t);e&&e.stop()},t.prototype.clearStore=function(){return this.cancelPendingFetches(new i.a(19)),this.queries.forEach((function(t){t.observableQuery?t.networkStatus=P.a.loading:t.stop()})),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset()},t.prototype.resetStore=function(){var t=this;return this.clearStore().then((function(){return t.reFetchObservableQueries()}))},t.prototype.reFetchObservableQueries=function(t){var e=this;void 0===t&&(t=!1);var n=[];return this.queries.forEach((function(r,i){var o=r.observableQuery;if(o&&o.hasObservers()){var s=o.options.fetchPolicy;o.resetLastResults(),"cache-only"===s||!t&&"standby"===s||n.push(o.refetch()),e.getQuery(i).setDiff(null)}})),this.broadcastQueries(),Promise.all(n)},t.prototype.setObservableQuery=function(t){this.getQuery(t.queryId).setObservableQuery(t)},t.prototype.startGraphQLSubscription=function(t){var e=this,n=t.query,r=t.fetchPolicy,i=t.errorPolicy,o=t.variables,s=t.context,a=void 0===s?{}:s;n=this.transform(n).document,o=this.getVariables(n,o);var c=function(t){return e.getObservableFromLink(n,a,t,!1).map((function(o){if("no-cache"!==r&&(q(o,i)&&e.cache.write({query:n,result:o.data,dataId:"ROOT_SUBSCRIPTION",variables:t}),e.broadcastQueries()),_(o))throw new R.a({graphQLErrors:o.errors});return o}))};if(this.transform(n).hasClientExports){var l=this.localState.addExportedVariables(n,o,a).then(c);return new u.a((function(t){var e=null;return l.then((function(n){return e=n.subscribe(t)}),t.error),function(){return e&&e.unsubscribe()}}))}return c(o)},t.prototype.stopQuery=function(t){this.stopQueryNoBroadcast(t),this.broadcastQueries()},t.prototype.stopQueryNoBroadcast=function(t){this.stopQueryInStoreNoBroadcast(t),this.removeQuery(t)},t.prototype.removeQuery=function(t){this.fetchCancelFns.delete(t),this.getQuery(t).stop(),this.queries.delete(t)},t.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach((function(t){return t.notify()}))},t.prototype.getLocalState=function(){return this.localState},t.prototype.getObservableFromLink=function(t,e,n,i){var o,a,c=this;void 0===i&&(i=null!==(o=null==e?void 0:e.queryDeduplication)&&void 0!==o?o:this.queryDeduplication);var l=this.transform(t).serverQuery;if(l){var h=this.inFlightLinkObservables,d=this.link,f={query:l,variables:n,operationName:Object(S.g)(l)||void 0,context:this.prepareContext(Object(r.a)(Object(r.a)({},e),{forceFetch:!i}))};if(e=f.context,i){var p=h.get(l)||new Map;h.set(l,p);var m=JSON.stringify(n);if(!(a=p.get(m))){var g=new T([Object(s.a)(d,f)]);p.set(m,a=g),g.cleanup((function(){p.delete(m)&&p.size<1&&h.delete(l)}))}}else a=new T([Object(s.a)(d,f)])}else a=new T([u.a.of({data:{}})]),e=this.prepareContext(e);var b=this.transform(t).clientQuery;return b&&(a=I(a,(function(t){return c.localState.runResolvers({document:b,remoteResult:t,context:e,variables:n})}))),a},t.prototype.getResultsFromLink=function(t,e,n){var r=t.lastRequestId=this.generateRequestId();return I(this.getObservableFromLink(t.document,n.context,n.variables),(function(i){var o=Object(w.a)(i.errors);if(r>=t.lastRequestId){if(o&&"none"===n.errorPolicy)throw t.markError(new R.a({graphQLErrors:i.errors}));t.markResult(i,n,e),t.markReady()}var s={data:i.data,loading:!1,networkStatus:t.networkStatus||P.a.ready};return o&&"ignore"!==n.errorPolicy&&(s.errors=i.errors),s}),(function(e){var n=Object(R.b)(e)?e:new R.a({networkError:e});throw r>=t.lastRequestId&&t.markError(n),n}))},t.prototype.fetchQueryObservable=function(t,e,n){var r=this;void 0===n&&(n=P.a.loading);var i=this.transform(e.query).document,o=this.getVariables(i,e.variables),s=this.getQuery(t),a=s.networkStatus,c=e.fetchPolicy,u=void 0===c?"cache-first":c,l=e.errorPolicy,h=void 0===l?"none":l,d=e.returnPartialData,f=void 0!==d&&d,p=e.notifyOnNetworkStatusChange,m=void 0!==p&&p,g=e.context,b=void 0===g?{}:g;("cache-first"===u||"cache-and-network"===u||"network-only"===u||"no-cache"===u)&&m&&"number"==typeof a&&a!==n&&Object(P.b)(n)&&("cache-first"!==u&&(u="cache-and-network"),f=!0);var v=Object.assign({},e,{query:i,variables:o,fetchPolicy:u,errorPolicy:h,returnPartialData:f,notifyOnNetworkStatusChange:m,context:b}),y=function(t){return v.variables=t,r.fetchQueryByPolicy(s,v,n)};this.fetchCancelFns.set(t,(function(t){Promise.resolve().then((function(){return _.cancel(t)}))}));var _=new T(this.transform(v.query).hasClientExports?this.localState.addExportedVariables(v.query,v.variables,v.context).then(y):y(v.variables));return _.cleanup((function(){r.fetchCancelFns.delete(t);var n=e.nextFetchPolicy;n&&(e.nextFetchPolicy=void 0,e.fetchPolicy="function"==typeof n?n.call(e,e.fetchPolicy||"cache-first"):n)})),_},t.prototype.fetchQueryByPolicy=function(t,e,n){var i=this,o=e.query,s=e.variables,a=e.fetchPolicy,c=e.errorPolicy,l=e.returnPartialData,h=e.context;t.init({document:o,variables:s,networkStatus:n});var d=function(){return t.getDiff(s)},f=function(e,n){void 0===n&&(n=t.networkStatus||P.a.loading);var a=e.result,c=function(t){return u.a.of(Object(r.a)({data:t,loading:Object(P.b)(n),networkStatus:n},e.complete?null:{partial:!0}))};return i.transform(o).hasForcedResolvers?i.localState.runResolvers({document:o,remoteResult:{data:a},context:h,variables:s,onlyRunForcedResolvers:!0}).then((function(t){return c(t.data)})):c(a)},p=function(e){return i.getResultsFromLink(t,e,{variables:s,context:h,fetchPolicy:a,errorPolicy:c})};switch(a){default:case"cache-first":return(m=d()).complete?[f(m,t.markReady())]:l?[f(m),p(!0)]:[p(!0)];case"cache-and-network":var m;return(m=d()).complete||l?[f(m),p(!0)]:[p(!0)];case"cache-only":return[f(d(),t.markReady())];case"network-only":return[p(!0)];case"no-cache":return[p(!1)];case"standby":return[]}},t.prototype.getQuery=function(t){return t&&!this.queries.has(t)&&this.queries.set(t,new U(this.cache)),this.queries.get(t)},t.prototype.prepareContext=function(t){void 0===t&&(t={});var e=this.localState.prepareContext(t);return Object(r.a)(Object(r.a)({},e),{clientAwareness:this.clientAwareness})},t}();function z(t,e){return Object(a.a)(t,e,e.variables&&{variables:Object(r.a)(Object(r.a)({},t.variables),e.variables)})}var K=function(){function t(t){var e=this;this.defaultOptions={},this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var n=t.uri,r=t.cache,s=t.ssrMode,a=void 0!==s&&s,c=t.ssrForceFetchDelay,u=void 0===c?0:c,l=t.connectToDevTools,h=void 0===l?"object"==typeof window&&!window.__APOLLO_CLIENT__&&!1:l,d=t.queryDeduplication,f=void 0===d||d,p=t.defaultOptions,m=t.assumeImmutableResults,g=void 0!==m&&m,v=t.resolvers,y=t.typeDefs,_=t.fragmentMatcher,w=t.name,S=t.version,C=t.link;if(C||(C=n?new b({uri:n,credentials:t.credentials,headers:t.headers}):o.a.empty()),!r)throw new i.a(9);this.link=C,this.cache=r,this.disableNetworkFetches=a||u>0,this.queryDeduplication=f,this.defaultOptions=p||{},this.typeDefs=y,u&&setTimeout((function(){return e.disableNetworkFetches=!1}),u),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),h&&"object"==typeof window&&(window.__APOLLO_CLIENT__=this),this.version="3.3.21",this.localState=new L({cache:r,client:this,resolvers:v,fragmentMatcher:_}),this.queryManager=new H({cache:this.cache,link:this.link,queryDeduplication:f,ssrMode:a,clientAwareness:{name:w,version:S},localState:this.localState,assumeImmutableResults:g,onBroadcast:h?function(){e.devToolsHookCb&&e.devToolsHookCb({action:{},state:{queries:e.queryManager.getQueryStore(),mutations:e.queryManager.mutationStore||{}},dataWithOptimisticResults:e.cache.extract(!0)})}:void 0})}return t.prototype.stop=function(){this.queryManager.stop()},t.prototype.watchQuery=function(t){return this.defaultOptions.watchQuery&&(t=z(this.defaultOptions.watchQuery,t)),!this.disableNetworkFetches||"network-only"!==t.fetchPolicy&&"cache-and-network"!==t.fetchPolicy||(t=Object(r.a)(Object(r.a)({},t),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(t)},t.prototype.query=function(t){return this.defaultOptions.query&&(t=z(this.defaultOptions.query,t)),Object(i.b)("cache-and-network"!==t.fetchPolicy,10),this.disableNetworkFetches&&"network-only"===t.fetchPolicy&&(t=Object(r.a)(Object(r.a)({},t),{fetchPolicy:"cache-first"})),this.queryManager.query(t)},t.prototype.mutate=function(t){return this.defaultOptions.mutate&&(t=z(this.defaultOptions.mutate,t)),this.queryManager.mutate(t)},t.prototype.subscribe=function(t){return this.queryManager.startGraphQLSubscription(t)},t.prototype.readQuery=function(t,e){return void 0===e&&(e=!1),this.cache.readQuery(t,e)},t.prototype.readFragment=function(t,e){return void 0===e&&(e=!1),this.cache.readFragment(t,e)},t.prototype.writeQuery=function(t){this.cache.writeQuery(t),this.queryManager.broadcastQueries()},t.prototype.writeFragment=function(t){this.cache.writeFragment(t),this.queryManager.broadcastQueries()},t.prototype.__actionHookForDevTools=function(t){this.devToolsHookCb=t},t.prototype.__requestRaw=function(t){return Object(s.a)(this.link,t)},t.prototype.resetStore=function(){var t=this;return Promise.resolve().then((function(){return t.queryManager.clearStore()})).then((function(){return Promise.all(t.resetStoreCallbacks.map((function(t){return t()})))})).then((function(){return t.reFetchObservableQueries()}))},t.prototype.clearStore=function(){var t=this;return Promise.resolve().then((function(){return t.queryManager.clearStore()})).then((function(){return Promise.all(t.clearStoreCallbacks.map((function(t){return t()})))}))},t.prototype.onResetStore=function(t){var e=this;return this.resetStoreCallbacks.push(t),function(){e.resetStoreCallbacks=e.resetStoreCallbacks.filter((function(e){return e!==t}))}},t.prototype.onClearStore=function(t){var e=this;return this.clearStoreCallbacks.push(t),function(){e.clearStoreCallbacks=e.clearStoreCallbacks.filter((function(e){return e!==t}))}},t.prototype.reFetchObservableQueries=function(t){return this.queryManager.reFetchObservableQueries(t)},t.prototype.extract=function(t){return this.cache.extract(t)},t.prototype.restore=function(t){return this.cache.restore(t)},t.prototype.addResolvers=function(t){this.localState.addResolvers(t)},t.prototype.setResolvers=function(t){this.localState.setResolvers(t)},t.prototype.getResolvers=function(){return this.localState.getResolvers()},t.prototype.setLocalStateFragmentMatcher=function(t){this.localState.setFragmentMatcher(t)},t.prototype.setLink=function(t){this.link=this.queryManager.link=t},t}()},PKC9:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return s}));var r=n("zC+P"),i=n("gclO");function o(t){return t.hasOwnProperty("graphQLErrors")}var s=function(t){function e(n){var r,o,s=n.graphQLErrors,a=n.networkError,c=n.errorMessage,u=n.extraInfo,l=t.call(this,c)||this;return l.graphQLErrors=s||[],l.networkError=a||null,l.message=c||(r=l,o="",Object(i.a)(r.graphQLErrors)&&r.graphQLErrors.forEach((function(t){o+=(t?t.message:"Error message not found.")+"\n"})),r.networkError&&(o+=r.networkError.message+"\n"),o=o.replace(/\n$/,"")),l.extraInfo=u,l.__proto__=e.prototype,l}return Object(r.c)(e,t),e}(Error)},QcCY:function(t,e,n){"use strict";n.d(e,"c",(function(){return o})),n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return a}));var r=n("L2ys"),i=n("qVdT");function o(t,e){var n=t.directives;return!n||!n.length||function(t){var e=[];return t&&t.length&&t.forEach((function(t){if("skip"===(n=t.name.value)||"include"===n){var n,r=t.arguments;Object(i.b)(r&&1===r.length,39);var o=r[0];Object(i.b)(o.name&&"if"===o.name.value,40);var s=o.value;Object(i.b)(s&&("Variable"===s.kind||"BooleanValue"===s.kind),41),e.push({directive:t,ifArgument:o})}})),e}(n).every((function(t){var n=t.directive,r=t.ifArgument,o=!1;return"Variable"===r.value.kind?(o=e&&e[r.value.name.value],Object(i.b)(void 0!==o,38)):o=r.value.value,"skip"===n.name.value?!o:o}))}function s(t,e){return function(t){var e=[];return Object(r.b)(t,{Directive:function(t){e.push(t.name.value)}}),e}(e).some((function(e){return t.indexOf(e)>-1}))}function a(t){return t&&s(["client"],t)&&s(["export"],t)}},RKIb:function(t,e,n){"use strict";var r="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0;e.a=r},SLVX:function(t,e,n){"use strict";function r(t){var e,n=t.Symbol;if("function"==typeof n)if(n.observable)e=n.observable;else{e="function"==typeof n.for?n.for("https://github.com/benlesh/symbol-observable"):n("https://github.com/benlesh/symbol-observable");try{n.observable=e}catch(r){}}else e="@@observable";return e}n.d(e,"a",(function(){return r}))},SeVD:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("ngJS"),i=n("a7t3"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),c=n("c2HN"),u=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return n=t,t=>{const e=n[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(c.a)(t))return Object(i.a)(t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(u.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",(function(){return r}))},TrNH:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t,e,n){var r=new Error(n);throw r.name="ServerError",r.response=t,r.statusCode=t.status,r.result=e,r}},UK3C:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=n("3S/s").a.execute},UYTu:function(t,e,n){"use strict";var r=n("mrSG");function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}"function"==typeof Symbol&&null!=Symbol.iterator&&Symbol,"function"==typeof Symbol&&null!=Symbol.asyncIterator&&Symbol;var o="function"==typeof Symbol&&null!=Symbol.toStringTag?Symbol.toStringTag:"@@toStringTag";function s(t,e){for(var n,r=/\r\n|[\n\r]/g,i=1,o=e+1;(n=r.exec(t.body))&&n.index<e;)i+=1,o=e+1-(n.index+n[0].length);return{line:i,column:o}}function a(t){return c(t.source,s(t.source,t.start))}function c(t,e){var n=t.locationOffset.column-1,r=l(n)+t.body,i=e.line-1,o=e.line+(t.locationOffset.line-1),s=e.column+(1===e.line?n:0),a="".concat(t.name,":").concat(o,":").concat(s,"\n"),c=r.split(/\r\n|[\n\r]/g),h=c[i];if(h.length>120){for(var d=Math.floor(s/80),f=s%80,p=[],m=0;m<h.length;m+=80)p.push(h.slice(m,m+80));return a+u([["".concat(o),p[0]]].concat(p.slice(1,d+1).map((function(t){return["",t]})),[[" ",l(f-1)+"^"],["",p[d+1]]]))}return a+u([["".concat(o-1),c[i-1]],["".concat(o),h],["",l(s-1)+"^"],["".concat(o+1),c[i+1]]])}function u(t){var e=t.filter((function(t){return void 0!==t[1]})),n=Math.max.apply(Math,e.map((function(t){return t[0].length})));return e.map((function(t){var e,r=t[1];return l(n-(e=t[0]).length)+e+(r?" | "+r:" |")})).join("\n")}function l(t){return Array(t+1).join(" ")}function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){return!e||"object"!==h(e)&&"function"!=typeof e?f(t):e}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){var e="function"==typeof Map?new Map:void 0;return(p=function(t){if(null===t||-1===Function.toString.call(t).indexOf("[native code]"))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return m(t,arguments,v(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),b(n,t)})(t)}function m(t,e,n){return(m=g()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&b(i,n.prototype),i}).apply(null,arguments)}function g(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}(l,t);var e,n,r,u=(e=l,n=g(),function(){var t,r=v(e);if(n){var i=v(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return d(this,t)});function l(t,e,n,r,o,a,c){var h,p,m,g,b;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),b=u.call(this,t);var v,y=Array.isArray(e)?0!==e.length?e:void 0:e?[e]:void 0,_=n;!_&&y&&(_=null===(v=y[0].loc)||void 0===v?void 0:v.source);var w,S=r;!S&&y&&(S=y.reduce((function(t,e){return e.loc&&t.push(e.loc.start),t}),[])),S&&0===S.length&&(S=void 0),r&&n?w=r.map((function(t){return s(n,t)})):y&&(w=y.reduce((function(t,e){return e.loc&&t.push(s(e.loc.source,e.loc.start)),t}),[]));var C,x=c;if(null==x&&null!=a){var O=a.extensions;"object"==i(C=O)&&null!==C&&(x=O)}return Object.defineProperties(f(b),{name:{value:"GraphQLError"},message:{value:t,enumerable:!0,writable:!0},locations:{value:null!==(h=w)&&void 0!==h?h:void 0,enumerable:null!=w},path:{value:null!=o?o:void 0,enumerable:null!=o},nodes:{value:null!=y?y:void 0},source:{value:null!==(p=_)&&void 0!==p?p:void 0},positions:{value:null!==(m=S)&&void 0!==m?m:void 0},originalError:{value:a},extensions:{value:null!==(g=x)&&void 0!==g?g:void 0,enumerable:null!=x}}),null!=a&&a.stack?(Object.defineProperty(f(b),"stack",{value:a.stack,writable:!0,configurable:!0}),d(b)):(Error.captureStackTrace?Error.captureStackTrace(f(b),l):Object.defineProperty(f(b),"stack",{value:Error().stack,writable:!0,configurable:!0}),b)}return(r=[{key:"toString",value:function(){return function(t){var e=t.message;if(t.nodes)for(var n=0,r=t.nodes;n<r.length;n++){var i=r[n];i.loc&&(e+="\n\n"+a(i.loc))}else if(t.source&&t.locations)for(var o=0,s=t.locations;o<s.length;o++)e+="\n\n"+c(t.source,s[o]);return e}(this)}},{key:o,get:function(){return"Object"}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(l.prototype,r),l}(p(Error));function _(t,e,n){return new y("Syntax Error: ".concat(n),void 0,t,[e])}var w=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"}),S=n("klf5"),C=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"}),x=n("rWdj");function O(t,e){if(!Boolean(t))throw new Error(e)}var E=function(){function t(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GraphQL request",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{line:1,column:1};"string"==typeof t||O(0,"Body must be a string. Received: ".concat(Object(x.a)(t),".")),this.body=t,this.name=e,this.locationOffset=n,this.locationOffset.line>0||O(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||O(0,"column in locationOffset is 1-indexed and must be positive.")}var e;return(e=[{key:o,get:function(){return"Source"}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}(),k=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"}),T=n("BLR7"),I=function(){function t(t){var e=new S.b(C.SOF,0,0,0,0,null);this.source=t,this.lastToken=e,this.token=e,this.line=1,this.lineStart=0}var e=t.prototype;return e.advance=function(){return this.lastToken=this.token,this.token=this.lookahead()},e.lookahead=function(){var t=this.token;if(t.kind!==C.EOF)do{var e;t=null!==(e=t.next)&&void 0!==e?e:t.next=A(this,t)}while(t.kind===C.COMMENT);return t},t}();function R(t){return isNaN(t)?C.EOF:t<127?JSON.stringify(String.fromCharCode(t)):'"\\u'.concat(("00"+t.toString(16).toUpperCase()).slice(-4),'"')}function A(t,e){for(var n=t.source,r=n.body,i=r.length,o=e.end;o<i;){var s=r.charCodeAt(o),a=t.line,c=1+o-t.lineStart;switch(s){case 65279:case 9:case 32:case 44:++o;continue;case 10:++o,++t.line,t.lineStart=o;continue;case 13:10===r.charCodeAt(o+1)?o+=2:++o,++t.line,t.lineStart=o;continue;case 33:return new S.b(C.BANG,o,o+1,a,c,e);case 35:return D(n,o,a,c,e);case 36:return new S.b(C.DOLLAR,o,o+1,a,c,e);case 38:return new S.b(C.AMP,o,o+1,a,c,e);case 40:return new S.b(C.PAREN_L,o,o+1,a,c,e);case 41:return new S.b(C.PAREN_R,o,o+1,a,c,e);case 46:if(46===r.charCodeAt(o+1)&&46===r.charCodeAt(o+2))return new S.b(C.SPREAD,o,o+3,a,c,e);break;case 58:return new S.b(C.COLON,o,o+1,a,c,e);case 61:return new S.b(C.EQUALS,o,o+1,a,c,e);case 64:return new S.b(C.AT,o,o+1,a,c,e);case 91:return new S.b(C.BRACKET_L,o,o+1,a,c,e);case 93:return new S.b(C.BRACKET_R,o,o+1,a,c,e);case 123:return new S.b(C.BRACE_L,o,o+1,a,c,e);case 124:return new S.b(C.PIPE,o,o+1,a,c,e);case 125:return new S.b(C.BRACE_R,o,o+1,a,c,e);case 34:return 34===r.charCodeAt(o+1)&&34===r.charCodeAt(o+2)?L(n,o,a,c,e,t):M(n,o,a,c,e);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return j(n,o,s,a,c,e);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return V(n,o,a,c,e)}throw _(n,o,P(s))}return new S.b(C.EOF,i,i,t.line,1+o-t.lineStart,e)}function P(t){return t<32&&9!==t&&10!==t&&13!==t?"Cannot contain the invalid character ".concat(R(t),"."):39===t?"Unexpected single quote character ('), did you mean to use a double quote (\")?":"Cannot parse the unexpected character ".concat(R(t),".")}function D(t,e,n,r,i){var o,s=t.body,a=e;do{o=s.charCodeAt(++a)}while(!isNaN(o)&&(o>31||9===o));return new S.b(C.COMMENT,e,a,n,r,i,s.slice(e+1,a))}function j(t,e,n,r,i,o){var s=t.body,a=n,c=e,u=!1;if(45===a&&(a=s.charCodeAt(++c)),48===a){if((a=s.charCodeAt(++c))>=48&&a<=57)throw _(t,c,"Invalid number, unexpected digit after 0: ".concat(R(a),"."))}else c=N(t,c,a),a=s.charCodeAt(c);if(46===a&&(u=!0,a=s.charCodeAt(++c),c=N(t,c,a),a=s.charCodeAt(c)),69!==a&&101!==a||(u=!0,43!==(a=s.charCodeAt(++c))&&45!==a||(a=s.charCodeAt(++c)),c=N(t,c,a),a=s.charCodeAt(c)),46===a||function(t){return 95===t||t>=65&&t<=90||t>=97&&t<=122}(a))throw _(t,c,"Invalid number, expected digit but got: ".concat(R(a),"."));return new S.b(u?C.FLOAT:C.INT,e,c,r,i,o,s.slice(e,c))}function N(t,e,n){var r=t.body,i=e,o=n;if(o>=48&&o<=57){do{o=r.charCodeAt(++i)}while(o>=48&&o<=57);return i}throw _(t,i,"Invalid number, expected digit but got: ".concat(R(o),"."))}function M(t,e,n,r,i){for(var o,s,a,c,u=t.body,l=e+1,h=l,d=0,f="";l<u.length&&!isNaN(d=u.charCodeAt(l))&&10!==d&&13!==d;){if(34===d)return f+=u.slice(h,l),new S.b(C.STRING,e,l+1,n,r,i,f);if(d<32&&9!==d)throw _(t,l,"Invalid character within String: ".concat(R(d),"."));if(++l,92===d){switch(f+=u.slice(h,l-1),d=u.charCodeAt(l)){case 34:f+='"';break;case 47:f+="/";break;case 92:f+="\\";break;case 98:f+="\b";break;case 102:f+="\f";break;case 110:f+="\n";break;case 114:f+="\r";break;case 116:f+="\t";break;case 117:var p=(o=u.charCodeAt(l+1),s=u.charCodeAt(l+2),a=u.charCodeAt(l+3),c=u.charCodeAt(l+4),F(o)<<12|F(s)<<8|F(a)<<4|F(c));if(p<0){var m=u.slice(l+1,l+5);throw _(t,l,"Invalid character escape sequence: \\u".concat(m,"."))}f+=String.fromCharCode(p),l+=4;break;default:throw _(t,l,"Invalid character escape sequence: \\".concat(String.fromCharCode(d),"."))}h=++l}}throw _(t,l,"Unterminated string.")}function L(t,e,n,r,i,o){for(var s=t.body,a=e+3,c=a,u=0,l="";a<s.length&&!isNaN(u=s.charCodeAt(a));){if(34===u&&34===s.charCodeAt(a+1)&&34===s.charCodeAt(a+2))return l+=s.slice(c,a),new S.b(C.BLOCK_STRING,e,a+3,n,r,i,Object(T.a)(l));if(u<32&&9!==u&&10!==u&&13!==u)throw _(t,a,"Invalid character within String: ".concat(R(u),"."));10===u?(++a,++o.line,o.lineStart=a):13===u?(10===s.charCodeAt(a+1)?a+=2:++a,++o.line,o.lineStart=a):92===u&&34===s.charCodeAt(a+1)&&34===s.charCodeAt(a+2)&&34===s.charCodeAt(a+3)?(l+=s.slice(c,a)+'"""',c=a+=4):++a}throw _(t,a,"Unterminated string.")}function F(t){return t>=48&&t<=57?t-48:t>=65&&t<=70?t-55:t>=97&&t<=102?t-87:-1}function V(t,e,n,r,i){for(var o=t.body,s=o.length,a=e+1,c=0;a!==s&&!isNaN(c=o.charCodeAt(a))&&(95===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122);)++a;return new S.b(C.NAME,e,a,n,r,i,o.slice(e,a))}var B=function(){function t(t,e){var n=function(t){return t instanceof E}(t)?t:new E(t);this._lexer=new I(n),this._options=e}var e=t.prototype;return e.parseName=function(){var t=this.expectToken(C.NAME);return{kind:w.NAME,value:t.value,loc:this.loc(t)}},e.parseDocument=function(){var t=this._lexer.token;return{kind:w.DOCUMENT,definitions:this.many(C.SOF,this.parseDefinition,C.EOF),loc:this.loc(t)}},e.parseDefinition=function(){if(this.peek(C.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(C.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},e.parseOperationDefinition=function(){var t=this._lexer.token;if(this.peek(C.BRACE_L))return{kind:w.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(t)};var e,n=this.parseOperationType();return this.peek(C.NAME)&&(e=this.parseName()),{kind:w.OPERATION_DEFINITION,operation:n,name:e,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}},e.parseOperationType=function(){var t=this.expectToken(C.NAME);switch(t.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(t)},e.parseVariableDefinitions=function(){return this.optionalMany(C.PAREN_L,this.parseVariableDefinition,C.PAREN_R)},e.parseVariableDefinition=function(){var t=this._lexer.token;return{kind:w.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(C.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(C.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(t)}},e.parseVariable=function(){var t=this._lexer.token;return this.expectToken(C.DOLLAR),{kind:w.VARIABLE,name:this.parseName(),loc:this.loc(t)}},e.parseSelectionSet=function(){var t=this._lexer.token;return{kind:w.SELECTION_SET,selections:this.many(C.BRACE_L,this.parseSelection,C.BRACE_R),loc:this.loc(t)}},e.parseSelection=function(){return this.peek(C.SPREAD)?this.parseFragment():this.parseField()},e.parseField=function(){var t,e,n=this._lexer.token,r=this.parseName();return this.expectOptionalToken(C.COLON)?(t=r,e=this.parseName()):e=r,{kind:w.FIELD,alias:t,name:e,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(C.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(n)}},e.parseArguments=function(t){return this.optionalMany(C.PAREN_L,t?this.parseConstArgument:this.parseArgument,C.PAREN_R)},e.parseArgument=function(){var t=this._lexer.token,e=this.parseName();return this.expectToken(C.COLON),{kind:w.ARGUMENT,name:e,value:this.parseValueLiteral(!1),loc:this.loc(t)}},e.parseConstArgument=function(){var t=this._lexer.token;return{kind:w.ARGUMENT,name:this.parseName(),value:(this.expectToken(C.COLON),this.parseValueLiteral(!0)),loc:this.loc(t)}},e.parseFragment=function(){var t=this._lexer.token;this.expectToken(C.SPREAD);var e=this.expectOptionalKeyword("on");return!e&&this.peek(C.NAME)?{kind:w.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(t)}:{kind:w.INLINE_FRAGMENT,typeCondition:e?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}},e.parseFragmentDefinition=function(){var t,e=this._lexer.token;return this.expectKeyword("fragment"),!0===(null===(t=this._options)||void 0===t?void 0:t.experimentalFragmentVariables)?{kind:w.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}:{kind:w.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},e.parseFragmentName=function(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()},e.parseValueLiteral=function(t){var e=this._lexer.token;switch(e.kind){case C.BRACKET_L:return this.parseList(t);case C.BRACE_L:return this.parseObject(t);case C.INT:return this._lexer.advance(),{kind:w.INT,value:e.value,loc:this.loc(e)};case C.FLOAT:return this._lexer.advance(),{kind:w.FLOAT,value:e.value,loc:this.loc(e)};case C.STRING:case C.BLOCK_STRING:return this.parseStringLiteral();case C.NAME:switch(this._lexer.advance(),e.value){case"true":return{kind:w.BOOLEAN,value:!0,loc:this.loc(e)};case"false":return{kind:w.BOOLEAN,value:!1,loc:this.loc(e)};case"null":return{kind:w.NULL,loc:this.loc(e)};default:return{kind:w.ENUM,value:e.value,loc:this.loc(e)}}case C.DOLLAR:if(!t)return this.parseVariable()}throw this.unexpected()},e.parseStringLiteral=function(){var t=this._lexer.token;return this._lexer.advance(),{kind:w.STRING,value:t.value,block:t.kind===C.BLOCK_STRING,loc:this.loc(t)}},e.parseList=function(t){var e=this,n=this._lexer.token;return{kind:w.LIST,values:this.any(C.BRACKET_L,(function(){return e.parseValueLiteral(t)}),C.BRACKET_R),loc:this.loc(n)}},e.parseObject=function(t){var e=this,n=this._lexer.token;return{kind:w.OBJECT,fields:this.any(C.BRACE_L,(function(){return e.parseObjectField(t)}),C.BRACE_R),loc:this.loc(n)}},e.parseObjectField=function(t){var e=this._lexer.token,n=this.parseName();return this.expectToken(C.COLON),{kind:w.OBJECT_FIELD,name:n,value:this.parseValueLiteral(t),loc:this.loc(e)}},e.parseDirectives=function(t){for(var e=[];this.peek(C.AT);)e.push(this.parseDirective(t));return e},e.parseDirective=function(t){var e=this._lexer.token;return this.expectToken(C.AT),{kind:w.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(t),loc:this.loc(e)}},e.parseTypeReference=function(){var t,e=this._lexer.token;return this.expectOptionalToken(C.BRACKET_L)?(t=this.parseTypeReference(),this.expectToken(C.BRACKET_R),t={kind:w.LIST_TYPE,type:t,loc:this.loc(e)}):t=this.parseNamedType(),this.expectOptionalToken(C.BANG)?{kind:w.NON_NULL_TYPE,type:t,loc:this.loc(e)}:t},e.parseNamedType=function(){var t=this._lexer.token;return{kind:w.NAMED_TYPE,name:this.parseName(),loc:this.loc(t)}},e.parseTypeSystemDefinition=function(){var t=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(t.kind===C.NAME)switch(t.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(t)},e.peekDescription=function(){return this.peek(C.STRING)||this.peek(C.BLOCK_STRING)},e.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},e.parseSchemaDefinition=function(){var t=this._lexer.token,e=this.parseDescription();this.expectKeyword("schema");var n=this.parseDirectives(!0),r=this.many(C.BRACE_L,this.parseOperationTypeDefinition,C.BRACE_R);return{kind:w.SCHEMA_DEFINITION,description:e,directives:n,operationTypes:r,loc:this.loc(t)}},e.parseOperationTypeDefinition=function(){var t=this._lexer.token,e=this.parseOperationType();this.expectToken(C.COLON);var n=this.parseNamedType();return{kind:w.OPERATION_TYPE_DEFINITION,operation:e,type:n,loc:this.loc(t)}},e.parseScalarTypeDefinition=function(){var t=this._lexer.token,e=this.parseDescription();this.expectKeyword("scalar");var n=this.parseName(),r=this.parseDirectives(!0);return{kind:w.SCALAR_TYPE_DEFINITION,description:e,name:n,directives:r,loc:this.loc(t)}},e.parseObjectTypeDefinition=function(){var t=this._lexer.token,e=this.parseDescription();this.expectKeyword("type");var n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),o=this.parseFieldsDefinition();return{kind:w.OBJECT_TYPE_DEFINITION,description:e,name:n,interfaces:r,directives:i,fields:o,loc:this.loc(t)}},e.parseImplementsInterfaces=function(){var t;if(!this.expectOptionalKeyword("implements"))return[];if(!0===(null===(t=this._options)||void 0===t?void 0:t.allowLegacySDLImplementsInterfaces)){var e=[];this.expectOptionalToken(C.AMP);do{e.push(this.parseNamedType())}while(this.expectOptionalToken(C.AMP)||this.peek(C.NAME));return e}return this.delimitedMany(C.AMP,this.parseNamedType)},e.parseFieldsDefinition=function(){var t;return!0===(null===(t=this._options)||void 0===t?void 0:t.allowLegacySDLEmptyFields)&&this.peek(C.BRACE_L)&&this._lexer.lookahead().kind===C.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(C.BRACE_L,this.parseFieldDefinition,C.BRACE_R)},e.parseFieldDefinition=function(){var t=this._lexer.token,e=this.parseDescription(),n=this.parseName(),r=this.parseArgumentDefs();this.expectToken(C.COLON);var i=this.parseTypeReference(),o=this.parseDirectives(!0);return{kind:w.FIELD_DEFINITION,description:e,name:n,arguments:r,type:i,directives:o,loc:this.loc(t)}},e.parseArgumentDefs=function(){return this.optionalMany(C.PAREN_L,this.parseInputValueDef,C.PAREN_R)},e.parseInputValueDef=function(){var t=this._lexer.token,e=this.parseDescription(),n=this.parseName();this.expectToken(C.COLON);var r,i=this.parseTypeReference();this.expectOptionalToken(C.EQUALS)&&(r=this.parseValueLiteral(!0));var o=this.parseDirectives(!0);return{kind:w.INPUT_VALUE_DEFINITION,description:e,name:n,type:i,defaultValue:r,directives:o,loc:this.loc(t)}},e.parseInterfaceTypeDefinition=function(){var t=this._lexer.token,e=this.parseDescription();this.expectKeyword("interface");var n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),o=this.parseFieldsDefinition();return{kind:w.INTERFACE_TYPE_DEFINITION,description:e,name:n,interfaces:r,directives:i,fields:o,loc:this.loc(t)}},e.parseUnionTypeDefinition=function(){var t=this._lexer.token,e=this.parseDescription();this.expectKeyword("union");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseUnionMemberTypes();return{kind:w.UNION_TYPE_DEFINITION,description:e,name:n,directives:r,types:i,loc:this.loc(t)}},e.parseUnionMemberTypes=function(){return this.expectOptionalToken(C.EQUALS)?this.delimitedMany(C.PIPE,this.parseNamedType):[]},e.parseEnumTypeDefinition=function(){var t=this._lexer.token,e=this.parseDescription();this.expectKeyword("enum");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseEnumValuesDefinition();return{kind:w.ENUM_TYPE_DEFINITION,description:e,name:n,directives:r,values:i,loc:this.loc(t)}},e.parseEnumValuesDefinition=function(){return this.optionalMany(C.BRACE_L,this.parseEnumValueDefinition,C.BRACE_R)},e.parseEnumValueDefinition=function(){var t=this._lexer.token,e=this.parseDescription(),n=this.parseName(),r=this.parseDirectives(!0);return{kind:w.ENUM_VALUE_DEFINITION,description:e,name:n,directives:r,loc:this.loc(t)}},e.parseInputObjectTypeDefinition=function(){var t=this._lexer.token,e=this.parseDescription();this.expectKeyword("input");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseInputFieldsDefinition();return{kind:w.INPUT_OBJECT_TYPE_DEFINITION,description:e,name:n,directives:r,fields:i,loc:this.loc(t)}},e.parseInputFieldsDefinition=function(){return this.optionalMany(C.BRACE_L,this.parseInputValueDef,C.BRACE_R)},e.parseTypeSystemExtension=function(){var t=this._lexer.lookahead();if(t.kind===C.NAME)switch(t.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(t)},e.parseSchemaExtension=function(){var t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var e=this.parseDirectives(!0),n=this.optionalMany(C.BRACE_L,this.parseOperationTypeDefinition,C.BRACE_R);if(0===e.length&&0===n.length)throw this.unexpected();return{kind:w.SCHEMA_EXTENSION,directives:e,operationTypes:n,loc:this.loc(t)}},e.parseScalarTypeExtension=function(){var t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var e=this.parseName(),n=this.parseDirectives(!0);if(0===n.length)throw this.unexpected();return{kind:w.SCALAR_TYPE_EXTENSION,name:e,directives:n,loc:this.loc(t)}},e.parseObjectTypeExtension=function(){var t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var e=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),i=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===i.length)throw this.unexpected();return{kind:w.OBJECT_TYPE_EXTENSION,name:e,interfaces:n,directives:r,fields:i,loc:this.loc(t)}},e.parseInterfaceTypeExtension=function(){var t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var e=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),i=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===i.length)throw this.unexpected();return{kind:w.INTERFACE_TYPE_EXTENSION,name:e,interfaces:n,directives:r,fields:i,loc:this.loc(t)}},e.parseUnionTypeExtension=function(){var t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var e=this.parseName(),n=this.parseDirectives(!0),r=this.parseUnionMemberTypes();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:w.UNION_TYPE_EXTENSION,name:e,directives:n,types:r,loc:this.loc(t)}},e.parseEnumTypeExtension=function(){var t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var e=this.parseName(),n=this.parseDirectives(!0),r=this.parseEnumValuesDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:w.ENUM_TYPE_EXTENSION,name:e,directives:n,values:r,loc:this.loc(t)}},e.parseInputObjectTypeExtension=function(){var t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var e=this.parseName(),n=this.parseDirectives(!0),r=this.parseInputFieldsDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:w.INPUT_OBJECT_TYPE_EXTENSION,name:e,directives:n,fields:r,loc:this.loc(t)}},e.parseDirectiveDefinition=function(){var t=this._lexer.token,e=this.parseDescription();this.expectKeyword("directive"),this.expectToken(C.AT);var n=this.parseName(),r=this.parseArgumentDefs(),i=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var o=this.parseDirectiveLocations();return{kind:w.DIRECTIVE_DEFINITION,description:e,name:n,arguments:r,repeatable:i,locations:o,loc:this.loc(t)}},e.parseDirectiveLocations=function(){return this.delimitedMany(C.PIPE,this.parseDirectiveLocation)},e.parseDirectiveLocation=function(){var t=this._lexer.token,e=this.parseName();if(void 0!==k[e.value])return e;throw this.unexpected(t)},e.loc=function(t){var e;if(!0!==(null===(e=this._options)||void 0===e?void 0:e.noLocation))return new S.a(t,this._lexer.lastToken,this._lexer.source)},e.peek=function(t){return this._lexer.token.kind===t},e.expectToken=function(t){var e=this._lexer.token;if(e.kind===t)return this._lexer.advance(),e;throw _(this._lexer.source,e.start,"Expected ".concat(q(t),", found ").concat(U(e),"."))},e.expectOptionalToken=function(t){var e=this._lexer.token;if(e.kind===t)return this._lexer.advance(),e},e.expectKeyword=function(t){var e=this._lexer.token;if(e.kind!==C.NAME||e.value!==t)throw _(this._lexer.source,e.start,'Expected "'.concat(t,'", found ').concat(U(e),"."));this._lexer.advance()},e.expectOptionalKeyword=function(t){var e=this._lexer.token;return e.kind===C.NAME&&e.value===t&&(this._lexer.advance(),!0)},e.unexpected=function(t){var e=null!=t?t:this._lexer.token;return _(this._lexer.source,e.start,"Unexpected ".concat(U(e),"."))},e.any=function(t,e,n){this.expectToken(t);for(var r=[];!this.expectOptionalToken(n);)r.push(e.call(this));return r},e.optionalMany=function(t,e,n){if(this.expectOptionalToken(t)){var r=[];do{r.push(e.call(this))}while(!this.expectOptionalToken(n));return r}return[]},e.many=function(t,e,n){this.expectToken(t);var r=[];do{r.push(e.call(this))}while(!this.expectOptionalToken(n));return r},e.delimitedMany=function(t,e){this.expectOptionalToken(t);var n=[];do{n.push(e.call(this))}while(this.expectOptionalToken(t));return n},t}();function U(t){var e=t.value;return q(t.kind)+(null!=e?' "'.concat(e,'"'):"")}function q(t){return function(t){return t===C.BANG||t===C.DOLLAR||t===C.AMP||t===C.PAREN_L||t===C.PAREN_R||t===C.SPREAD||t===C.COLON||t===C.EQUALS||t===C.AT||t===C.BRACKET_L||t===C.BRACKET_R||t===C.BRACE_L||t===C.PIPE||t===C.BRACE_R}(t)?'"'.concat(t,'"'):t}var W=new Map,H=new Map,z=!0,K=!1;function G(t){return t.replace(/[\s,]+/g," ").trim()}function Y(t){var e,n,i,o=G(t);if(!W.has(o)){var s=function(t,e){return new B(t,e).parseDocument()}(t,{experimentalFragmentVariables:K});if(!s||"Document"!==s.kind)throw new Error("Not a valid GraphQL document.");W.set(o,function(t){var e=new Set(t.definitions);e.forEach((function(t){t.loc&&delete t.loc,Object.keys(t).forEach((function(n){var r=t[n];r&&"object"==typeof r&&e.add(r)}))}));var n=t.loc;return n&&(delete n.startToken,delete n.endToken),t}((e=s,n=new Set,i=[],e.definitions.forEach((function(t){if("FragmentDefinition"===t.kind){var e=t.name.value,r=G((s=t.loc).source.body.substring(s.start,s.end)),o=H.get(e);o&&!o.has(r)?z&&console.warn("Warning: fragment with name "+e+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"):o||H.set(e,o=new Set),o.add(r),n.has(r)||(n.add(r),i.push(t))}else i.push(t);var s})),Object(r.__assign)(Object(r.__assign)({},e),{definitions:i}))))}return W.get(o)}function Q(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];"string"==typeof t&&(t=[t]);var r=t[0];return e.forEach((function(e,n){r+=e&&"Document"===e.kind?e.loc.source.body:e,r+=t[n+1]})),Y(r)}var $,X={gql:Q,resetCaches:function(){W.clear(),H.clear()},disableFragmentWarnings:function(){z=!1},enableExperimentalFragmentVariables:function(){K=!0},disableExperimentalFragmentVariables:function(){K=!1}};($=Q||(Q={})).gql=X.gql,$.resetCaches=X.resetCaches,$.disableFragmentWarnings=X.disableFragmentWarnings,$.enableExperimentalFragmentVariables=X.enableExperimentalFragmentVariables,$.disableExperimentalFragmentVariables=X.disableExperimentalFragmentVariables,Q.default=Q,e.a=Q},VRyK:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},WMd4:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("EY2u"),i=n("LRne"),o=n("z6cu");let s=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(i.a)(this.value);case"E":return Object(o.a)(this.error);case"C":return Object(r.b)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})()},"X8/r":function(t,e,n){"use strict";var r=n("zIRd"),i=n("/6Yf"),o=n("mrSG"),s=n("qOnz"),a=n("q/0M");function c(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var u,l=c(r),h=((u={})["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",u["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",u["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",u["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",u["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",u["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",u["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",u["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",u["recaptcha-error"]="ReCAPTCHA error.",u),d=new s.ErrorFactory("appCheck","AppCheck",h),f=new Map,p={activated:!1,tokenObservers:[]},m={enabled:!1};function g(t){return f.get(t)||p}function b(t,e){f.set(t,e)}function v(){return m}function y(){return self.grecaptcha}function _(t){if(!g(t).activated)throw d.create("use-before-activation",{appName:t.name})}function w(t){return o.__awaiter(this,void 0,void 0,(function(){var e;return o.__generator(this,(function(n){switch(n.label){case 0:return _(t),[4,g(t).reCAPTCHAState.initialized.promise];case 1:return e=n.sent(),[2,new Promise((function(n,r){var i=g(t).reCAPTCHAState;e.ready((function(){n(e.execute(i.widgetId,{action:"fire_app_check"}))}))}))]}}))}))}function S(t,e,n,r){var i=n.render(r,{sitekey:e,size:"invisible"}),s=g(t);b(t,o.__assign(o.__assign({},s),{reCAPTCHAState:o.__assign(o.__assign({},s.reCAPTCHAState),{widgetId:i})}))}var C="https://content-firebaseappcheck.googleapis.com/v1beta",x=function(){function t(t,e,n,r,i){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=r,r>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}return t.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch((function(){}))},t.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},t.prototype.isRunning=function(){return!!this.pending},t.prototype.process=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e;return o.__generator(this,(function(n){switch(n.label){case 0:this.stop(),n.label=1;case 1:return n.trys.push([1,6,,7]),this.pending=new s.Deferred,[4,(r=this.getNextRun(t),new Promise((function(t){setTimeout(t,r)})))];case 2:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return n.sent(),this.pending=new s.Deferred,[4,this.operation()];case 4:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return n.sent(),this.process(!0).catch((function(){})),[3,7];case 6:return e=n.sent(),this.retryPolicy(e)?this.process(!1).catch((function(){})):this.stop(),[3,7];case 7:return[2]}var r}))}))},t.prototype.getNextRun=function(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e},t}();function O(t,e){var n=t.url,r=t.body;return o.__awaiter(this,void 0,void 0,(function(){var t,i,s,a,c,u,l,h,f,p;return o.__generator(this,(function(o){switch(o.label){case 0:t={"Content-Type":"application/json"},(i=e.getImmediate({optional:!0}))&&(t["X-Firebase-Client"]=i.getPlatformInfoString()),s={method:"POST",body:JSON.stringify(r),headers:t},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,fetch(n,s)];case 2:return a=o.sent(),[3,4];case 3:throw c=o.sent(),d.create("fetch-network-error",{originalErrorMessage:c.message});case 4:if(200!==a.status)throw d.create("fetch-status-error",{httpStatus:a.status});o.label=5;case 5:return o.trys.push([5,7,,8]),[4,a.json()];case 6:return u=o.sent(),[3,8];case 7:throw l=o.sent(),d.create("fetch-parse-error",{originalErrorMessage:l.message});case 8:if(!(h=u.ttl.match(/^([\d.]+)(s)$/))||!h[2]||isNaN(Number(h[1])))throw d.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration format: "+u.ttl});return f=1e3*Number(h[1]),p=Date.now(),[2,{token:u.attestationToken,expireTimeMillis:p+f,issuedAtTimeMillis:p}]}}))}))}function E(t,e){var n=t.options;return{url:C+"/projects/"+n.projectId+"/apps/"+n.appId+":exchangeRecaptchaToken?key="+n.apiKey,body:{recaptcha_token:e}}}function k(t,e){var n=t.options;return{url:C+"/projects/"+n.projectId+"/apps/"+n.appId+":exchangeDebugToken?key="+n.apiKey,body:{debug_token:e}}}var T="firebase-app-check-store",I=null;function R(){return I||(I=new Promise((function(t,e){try{var n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=function(e){t(e.target.result)},n.onerror=function(t){var n;e(d.create("storage-open",{originalErrorMessage:null===(n=t.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=function(t){var e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore(T,{keyPath:"compositeKey"})}}}catch(r){e(d.create("storage-open",{originalErrorMessage:r.message}))}})))}function A(t){return D(j(t))}function P(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,s;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,R()];case 1:return n=o.sent(),r=n.transaction(T,"readwrite"),i=r.objectStore(T),s=i.put({compositeKey:t,value:e}),[2,new Promise((function(t,e){s.onsuccess=function(e){t()},r.onerror=function(t){var n;e(d.create("storage-set",{originalErrorMessage:null===(n=t.target.error)||void 0===n?void 0:n.message}))}}))]}}))}))}function D(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,r,i;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,R()];case 1:return e=o.sent(),n=e.transaction(T,"readonly"),r=n.objectStore(T),i=r.get(t),[2,new Promise((function(t,e){i.onsuccess=function(e){var n=e.target.result;t(n?n.value:void 0)},n.onerror=function(t){var n;e(d.create("storage-get",{originalErrorMessage:null===(n=t.target.error)||void 0===n?void 0:n.message}))}}))]}}))}))}function j(t){return t.options.appId+"-"+t.name}var N=new a.Logger("@firebase/app-check");function M(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n;return o.__generator(this,(function(r){switch(r.label){case 0:if(!s.isIndexedDBAvailable())return[3,5];e=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,A(t)];case 2:return e=r.sent(),[3,4];case 3:return n=r.sent(),N.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,e];case 5:return[2,void 0]}}))}))}function L(t,e){return s.isIndexedDBAvailable()?function(t,e){return P(j(t),e)}(t,e).catch((function(t){N.warn("Failed to write token to indexeddb. Error: "+t)})):Promise.resolve()}function F(){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(e){if((t=v()).enabled&&t.token)return[2,t.token.promise];throw Error("\n            Can't get debug token in production mode.\n        ")}))}))}var V={error:"UNKNOWN_ERROR"};function B(t,e,n){return void 0===n&&(n=!1),o.__awaiter(this,void 0,void 0,(function(){var r,i,a,c,u,l,h,f,p,m,y,S,C,x;return o.__generator(this,(function(T){switch(T.label){case 0:return _(t),r=g(t),a=void 0,(i=r.token)?[3,2]:[4,M(t)];case 1:(c=T.sent())&&H(c)&&(i=c,b(t,o.__assign(o.__assign({},r),{token:i})),W(t,{token:i.token})),T.label=2;case 2:return!n&&i&&H(i)?[2,{token:i.token}]:v().enabled?(l=O,h=k,f=[t],[4,F()]):[3,6];case 3:return[4,l.apply(void 0,[h.apply(void 0,f.concat([T.sent()])),e])];case 4:return u=T.sent(),[4,L(t,u)];case 5:return T.sent(),b(t,o.__assign(o.__assign({},r),{token:u})),[2,{token:u.token}];case 6:return T.trys.push([6,12,,13]),r.customProvider?[4,r.customProvider.getToken()]:[3,8];case 7:return p=T.sent(),m=s.issuedAtTime(p.token),y=null!==m&&m<Date.now()&&m>0?1e3*m:Date.now(),i=o.__assign(o.__assign({},p),{issuedAtTimeMillis:y}),[3,11];case 8:return[4,w(t).catch((function(t){throw d.create("recaptcha-error")}))];case 9:return S=T.sent(),[4,O(E(t,S),e)];case 10:i=T.sent(),T.label=11;case 11:return[3,13];case 12:return C=T.sent(),N.error(C),a=C,[3,13];case 13:return i?[3,14]:(x=function(t){return{token:(e=V,s.base64.encodeString(JSON.stringify(e),!1)),error:t};var e}(a),[3,16]);case 14:return x={token:i.token},b(t,o.__assign(o.__assign({},r),{token:i})),[4,L(t,i)];case 15:T.sent(),T.label=16;case 16:return W(t,x),[2,x]}}))}))}function U(t,e,n,r,i){var s=g(t),a={next:r,error:i,type:n},c=o.__assign(o.__assign({},s),{tokenObservers:o.__spreadArray(o.__spreadArray([],s.tokenObservers),[a])});if(!c.tokenRefresher){var u=function(t,e){var n=this;return new x((function(){return o.__awaiter(n,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:return g(t).token?[3,2]:[4,B(t,e)];case 1:return n=r.sent(),[3,4];case 2:return[4,B(t,e,!0)];case 3:n=r.sent(),r.label=4;case 4:if(n.error)throw n.error;return[2]}}))}))}),(function(){return!0}),(function(){var e=g(t);if(e.token){var n=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return n=Math.min(n,e.token.expireTimeMillis-3e5),Math.max(0,n-Date.now())}return 0}),3e4,96e4)}(t,e);c.tokenRefresher=u}if(c.tokenRefresher.isRunning()||!0!==s.isTokenAutoRefreshEnabled||c.tokenRefresher.start(),s.token&&H(s.token)){var l=s.token;Promise.resolve().then((function(){return r({token:l.token})})).catch((function(){}))}b(t,c)}function q(t,e){var n=g(t),r=n.tokenObservers.filter((function(t){return t.next!==e}));0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),b(t,o.__assign(o.__assign({},n),{tokenObservers:r}))}function W(t,e){for(var n=0,r=g(t).tokenObservers;n<r.length;n++){var i=r[n];try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch(o){}}}function H(t){return t.expireTimeMillis-Date.now()>0}!function(t){t.INTERNAL.registerComponent(new i.Component("appCheck",(function(t){return e=t.getProvider("app").getImmediate(),n=t.getProvider("platform-logger"),{app:e,activate:function(t,n){return function(t,e,n){var r=g(t);if(r.activated)throw d.create("already-activated",{appName:t.name});var i=o.__assign(o.__assign({},r),{activated:!0});"string"==typeof e?i.siteKey=e:i.customProvider=e,i.isTokenAutoRefreshEnabled=void 0===n?t.automaticDataCollectionEnabled:n,b(t,i),i.siteKey&&function(t,e){var n=g(t),r=new s.Deferred;b(t,o.__assign(o.__assign({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+t.name,a=document.createElement("div");a.id=i,a.style.display="none",document.body.appendChild(a);var c,u,l=y();return l?l.ready((function(){S(t,e,l,i),r.resolve(l)})):(c=function(){var n=y();if(!n)throw new Error("no recaptcha");n.ready((function(){S(t,e,n,i),r.resolve(n)}))},(u=document.createElement("script")).src="https://www.google.com/recaptcha/api.js",u.onload=c,document.head.appendChild(u)),r.promise}(t,i.siteKey).catch((function(){}))}(e,t,n)},setTokenAutoRefreshEnabled:function(t){return function(t,e){var n=g(t);n.tokenRefresher&&(!0===e?n.tokenRefresher.start():n.tokenRefresher.stop()),b(t,o.__assign(o.__assign({},n),{isTokenAutoRefreshEnabled:e}))}(e,t)},getToken:function(t){return function(t,e,n){return o.__awaiter(this,void 0,void 0,(function(){var r;return o.__generator(this,(function(i){switch(i.label){case 0:return[4,B(t,e,n)];case 1:if((r=i.sent()).error)throw r.error;return[2,{token:r.token}]}}))}))}(e,n,t)},onTokenChanged:function(t,r,i){return function(t,e,n,r,i){var o,s=function(){};return o=null!=n.next?n.next.bind(n):n,null!=n.error?s=n.error.bind(n):r&&(s=r),U(t,e,"EXTERNAL",o,s),function(){return q(t,o)}}(e,n,t,r)},INTERNAL:{delete:function(){for(var t=0,n=g(e).tokenObservers;t<n.length;t++)q(e,n[t].next);return Promise.resolve()}}};var e,n}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(t,e,n){t.getProvider("app-check-internal").initialize()}))),t.INTERNAL.registerComponent(new i.Component("app-check-internal",(function(t){return e=t.getProvider("app").getImmediate(),n=t.getProvider("platform-logger"),{getToken:function(t){return B(e,n,t)},addTokenListener:function(t){return U(e,n,"INTERNAL",t)},removeTokenListener:function(t){return q(e,t)}};var e,n}),"PUBLIC").setInstantiationMode("EXPLICIT")),t.registerVersion("@firebase/app-check","0.2.0")}(l.default),function(){var t=s.getGlobal();if("string"==typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN||!0===t.FIREBASE_APPCHECK_DEBUG_TOKEN){var e=v();e.enabled=!0;var n=new s.Deferred;e.token=n,n.resolve("string"==typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN?t.FIREBASE_APPCHECK_DEBUG_TOKEN:function(){return o.__awaiter(this,void 0,void 0,(function(){var t,e;return o.__generator(this,(function(n){switch(n.label){case 0:t=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,D("debug-token")];case 2:return t=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return t?[2,t]:((r=e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})),P("debug-token",r)).catch((function(t){return N.warn("Failed to persist debug token to indexeddb. Error: "+t)})),console.log("AppCheck debug token: "+e+". You will need to whitelist it in the Firebase console for it to work"),[2,e])}var r}))}))}())}}()},XNiG:function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return l}));var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),c=n("2QA8");class u extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[c.a](){return new u(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return r}))},Y7HM:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},YuTi:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},ZUHj:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("51Dv"),i=n("SeVD"),o=n("HDdC");function s(t,e,n,s,a=new r.a(t,n,s)){if(!a.closed)return e instanceof o.a?e.subscribe(a):Object(i.a)(e)(a)}},a7t3:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("NJ4a");const i=t=>e=>(t.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,r.a),e)},bCCX:function(t,e,n){"use strict";(function(t){var e,r=n("SLVX");e="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:t,Object(r.a)(e)}).call(this,n("3UD+")(t))},bHdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},bb5K:function(t,e,n){"use strict";var r;function i(t){return!!t&&t<7}n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i})),function(t){t[t.loading=1]="loading",t[t.setVariables=2]="setVariables",t[t.fetchMore=3]="fetchMore",t[t.refetch=4]="refetch",t[t.poll=6]="poll",t[t.ready=7]="ready",t[t.error=8]="error"}(r||(r={}))},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return r}))},dQau:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("L2ys"),i=n("BLR7");function o(t){return Object(r.b)(t,{leave:s})}var s={Name:function(t){return t.value},Variable:function(t){return"$"+t.name},Document:function(t){return c(t.definitions,"\n\n")+"\n"},OperationDefinition:function(t){var e=t.operation,n=t.name,r=l("(",c(t.variableDefinitions,", "),")"),i=c(t.directives," "),o=t.selectionSet;return n||i||r||"query"!==e?c([e,c([n,r]),i,o]," "):o},VariableDefinition:function(t){var e=t.directives;return t.variable+": "+t.type+l(" = ",t.defaultValue)+l(" ",c(e," "))},SelectionSet:function(t){return u(t.selections)},Field:function(t){var e=t.name,n=t.arguments,r=t.directives,i=t.selectionSet,o=l("",t.alias,": ")+e,s=o+l("(",c(n,", "),")");return s.length>80&&(s=o+l("(\n",h(c(n,"\n")),"\n)")),c([s,c(r," "),i]," ")},Argument:function(t){return t.name+": "+t.value},FragmentSpread:function(t){return"..."+t.name+l(" ",c(t.directives," "))},InlineFragment:function(t){var e=t.directives,n=t.selectionSet;return c(["...",l("on ",t.typeCondition),c(e," "),n]," ")},FragmentDefinition:function(t){var e=t.typeCondition,n=t.variableDefinitions,r=t.directives,i=t.selectionSet;return"fragment ".concat(t.name).concat(l("(",c(n,", "),")")," ")+"on ".concat(e," ").concat(l("",c(r," ")," "))+i},IntValue:function(t){return t.value},FloatValue:function(t){return t.value},StringValue:function(t,e){var n=t.value;return t.block?Object(i.b)(n,"description"===e?"":"  "):JSON.stringify(n)},BooleanValue:function(t){return t.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(t){return t.value},ListValue:function(t){return"["+c(t.values,", ")+"]"},ObjectValue:function(t){return"{"+c(t.fields,", ")+"}"},ObjectField:function(t){return t.name+": "+t.value},Directive:function(t){return"@"+t.name+l("(",c(t.arguments,", "),")")},NamedType:function(t){return t.name},ListType:function(t){return"["+t.type+"]"},NonNullType:function(t){return t.type+"!"},SchemaDefinition:a((function(t){var e=t.operationTypes;return c(["schema",c(t.directives," "),u(e)]," ")})),OperationTypeDefinition:function(t){return t.operation+": "+t.type},ScalarTypeDefinition:a((function(t){return c(["scalar",t.name,c(t.directives," ")]," ")})),ObjectTypeDefinition:a((function(t){var e=t.directives,n=t.fields;return c(["type",t.name,l("implements ",c(t.interfaces," & ")),c(e," "),u(n)]," ")})),FieldDefinition:a((function(t){var e=t.arguments,n=t.type,r=t.directives;return t.name+(f(e)?l("(\n",h(c(e,"\n")),"\n)"):l("(",c(e,", "),")"))+": "+n+l(" ",c(r," "))})),InputValueDefinition:a((function(t){var e=t.directives;return c([t.name+": "+t.type,l("= ",t.defaultValue),c(e," ")]," ")})),InterfaceTypeDefinition:a((function(t){var e=t.directives,n=t.fields;return c(["interface",t.name,l("implements ",c(t.interfaces," & ")),c(e," "),u(n)]," ")})),UnionTypeDefinition:a((function(t){var e=t.types;return c(["union",t.name,c(t.directives," "),e&&0!==e.length?"= "+c(e," | "):""]," ")})),EnumTypeDefinition:a((function(t){var e=t.values;return c(["enum",t.name,c(t.directives," "),u(e)]," ")})),EnumValueDefinition:a((function(t){return c([t.name,c(t.directives," ")]," ")})),InputObjectTypeDefinition:a((function(t){var e=t.fields;return c(["input",t.name,c(t.directives," "),u(e)]," ")})),DirectiveDefinition:a((function(t){var e=t.arguments,n=t.repeatable,r=t.locations;return"directive @"+t.name+(f(e)?l("(\n",h(c(e,"\n")),"\n)"):l("(",c(e,", "),")"))+(n?" repeatable":"")+" on "+c(r," | ")})),SchemaExtension:function(t){var e=t.operationTypes;return c(["extend schema",c(t.directives," "),u(e)]," ")},ScalarTypeExtension:function(t){return c(["extend scalar",t.name,c(t.directives," ")]," ")},ObjectTypeExtension:function(t){var e=t.directives,n=t.fields;return c(["extend type",t.name,l("implements ",c(t.interfaces," & ")),c(e," "),u(n)]," ")},InterfaceTypeExtension:function(t){var e=t.directives,n=t.fields;return c(["extend interface",t.name,l("implements ",c(t.interfaces," & ")),c(e," "),u(n)]," ")},UnionTypeExtension:function(t){var e=t.types;return c(["extend union",t.name,c(t.directives," "),e&&0!==e.length?"= "+c(e," | "):""]," ")},EnumTypeExtension:function(t){var e=t.values;return c(["extend enum",t.name,c(t.directives," "),u(e)]," ")},InputObjectTypeExtension:function(t){var e=t.fields;return c(["extend input",t.name,c(t.directives," "),u(e)]," ")}};function a(t){return function(e){return c([e.description,t(e)],"\n")}}function c(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null!==(e=null==t?void 0:t.filter((function(t){return t})).join(n))&&void 0!==e?e:""}function u(t){return l("{\n",h(c(t,"\n")),"\n}")}function l(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return null!=e&&""!==e?t+e+n:""}function h(t){return l("  ",t.replace(/\n/g,"\n  "))}function d(t){return-1!==t.indexOf("\n")}function f(t){return null!=t&&t.some(d)}},fvjI:function(t,e,n){"use strict";var r=n("Dtfp");t.exports=function t(e,n,i){var o;void 0===n&&(n=""),void 0===i&&(i=r);var s=new Map;function a(t,e){var n=s.get(e);n?n.push.apply(n,t):s.set(e,t)}if(i(e))o=null,a([n],e);else{var c=n?n+".":"";if("undefined"!=typeof FileList&&e instanceof FileList)o=Array.prototype.map.call(e,(function(t,e){return a([""+c+e],t),null}));else if(Array.isArray(e))o=e.map((function(e,n){var r=t(e,""+c+n,i);return r.files.forEach(a),r.clone}));else if(e&&e.constructor===Object)for(var u in o={},e){var l=t(e[u],""+c+u,i);l.files.forEach(a),o[u]=l.clone}else o=e}return{clone:o,files:s}}},gRHU:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},gclO:function(t,e,n){"use strict";function r(t){return Array.isArray(t)&&t.length>0}n.d(e,"a",(function(){return r}))},hDgs:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=null,i={},o=1,s=Array,a=s["@wry/context:Slot"]||function(){var t=function(){function t(){this.id=["slot",o++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return t.prototype.hasValue=function(){for(var t=r;t;t=t.parent)if(this.id in t.slots){var e=t.slots[this.id];if(e===i)break;return t!==r&&(r.slots[this.id]=e),!0}return r&&(r.slots[this.id]=i),!1},t.prototype.getValue=function(){if(this.hasValue())return r.slots[this.id]},t.prototype.withValue=function(t,e,n,i){var o,s=((o={__proto__:null})[this.id]=t,o),a=r;r={parent:a,slots:s};try{return e.apply(i,n)}finally{r=a}},t.bind=function(t){var e=r;return function(){var n=r;try{return r=e,t.apply(this,arguments)}finally{r=n}}},t.noContext=function(t,e,n){if(!r)return t.apply(n,e);var i=r;try{return r=null,t.apply(n,e)}finally{r=i}},t}();try{Object.defineProperty(s,"@wry/context:Slot",{value:s["@wry/context:Slot"]=t,enumerable:!1,writable:!1,configurable:!1})}finally{return t}}()},jZKg:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule((function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}},jmUF:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return E})),n.d(e,"b",(function(){return y})),n.d(e,"c",(function(){return v})),n.d(e,"d",(function(){return f})),n.d(e,"e",(function(){return b})),n.d(e,"f",(function(){return x})),n.d(e,"g",(function(){return w})),n.d(e,"h",(function(){return p})),n.d(e,"i",(function(){return g})),n.d(e,"j",(function(){return S}));var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),c=n("8Y7J"),u=n("Jgta");function l(){}class h{constructor(t,e=r.a){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule((function(e){r.runGuarded(()=>{t.apply(this,[e])})}),e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class f{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.a))}}function p(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const m=["ngOnDestroy"],g=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(m.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),b=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new c.r("angularfire2.app.options"),y=new c.r("angularfire2.app.nameOrConfig"),_=new c.Q("6.1.5");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=u.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>u.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&C("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const S=()=>{C("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},C=(t,...e)=>{Object(c.X)()&&"undefined"!=typeof console&&console[t](...e)};function x(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&C("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(c){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const O={provide:class{},useFactory:w,deps:[v,c.A,[new c.B,y]]};let E=(()=>{class t{constructor(t){u.a.registerVersion("angularfire",_.full,t.toString()),u.a.registerVersion("angular",c.P.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:v,useValue:e},{provide:y,useValue:n}]}}}return t.\u0275mod=c.Kb({type:t}),t.\u0275inj=c.Jb({factory:function(e){return new(e||t)(c.Wb(c.C))},providers:[O]}),t})()}).call(this,n("3UD+")(t))},jzux:function(t,e){},kJWO:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},klf5:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return a}));var r=n("RKIb");function i(t){var e=t.prototype.toJSON;"function"==typeof e||function(t,e){if(!Boolean(0))throw new Error("Unexpected invariant triggered.")}(),t.prototype.inspect=e,r.a&&(t.prototype[r.a]=e)}var o=function(){function t(t,e,n){this.start=t.start,this.end=e.end,this.startToken=t,this.endToken=e,this.source=n}return t.prototype.toJSON=function(){return{start:this.start,end:this.end}},t}();i(o);var s=function(){function t(t,e,n,r,i,o,s){this.kind=t,this.start=e,this.end=n,this.line=r,this.column=i,this.value=s,this.prev=o,this.next=null}return t.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},t}();function a(t){return null!=t&&"string"==typeof t.kind}i(s)},l7GE:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");class i extends r.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}},lJxs:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},lX80:function(t,e,n){"use strict";n.d(e,"a",(function(){return L}));var r,i,o=n("zC+P"),s=n("4ygG"),a=n("1hEp"),c=n("I1T4"),u=n("56Qq"),l=n("BAPW"),h=n("qVdT"),d=n("sHDe"),f=n("CuOm"),p=n("QcCY"),m=n("mph4"),g=n("qx2n"),b=n("zf2e"),v=n("8CQ5"),y=Object.create(null),_=function(){return y},w=Object.create(null),S=function(){function t(t,e){var n=this;this.policies=t,this.group=e,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(t,e){return Object(u.f)(t)?n.get(t.__ref,e):t&&t[e]},this.canRead=function(t){return Object(u.f)(t)?n.has(t.__ref):"object"==typeof t},this.toReference=function(t,e){if("string"==typeof t)return Object(u.g)(t);if(Object(u.f)(t))return t;var r=n.policies.identify(t)[0];if(r){var i=Object(u.g)(r);return e&&n.merge(r,t),i}}}return t.prototype.toObject=function(){return Object(o.a)({},this.data)},t.prototype.has=function(t){return void 0!==this.lookup(t,!0)},t.prototype.get=function(t,e){if(this.group.depend(t,e),v.c.call(this.data,t)){var n=this.data[t];if(n&&v.c.call(n,e))return n[e]}return"__typename"===e&&v.c.call(this.policies.rootTypenamesById,t)?this.policies.rootTypenamesById[t]:this instanceof O?this.parent.get(t,e):void 0},t.prototype.lookup=function(t,e){return e&&this.group.depend(t,"__exists"),v.c.call(this.data,t)?this.data[t]:this instanceof O?this.parent.lookup(t,e):this.policies.rootTypenamesById[t]?Object.create(null):void 0},t.prototype.merge=function(t,e){var n=this,r=this.lookup(t),i=new m.a(E).merge(r,e);if(this.data[t]=i,i!==r&&(delete this.refs[t],this.group.caching)){var o=Object.create(null);r||(o.__exists=1),Object.keys(e).forEach((function(t){if(!r||r[t]!==i[t]){o[t]=1;var e=Object(v.b)(t);e===t||n.policies.hasKeyArgs(i.__typename,e)||(o[e]=1),void 0!==i[t]||n instanceof O||delete i[t]}})),Object.keys(o).forEach((function(e){return n.group.dirty(t,e)}))}},t.prototype.modify=function(t,e){var n=this,r=this.lookup(t);if(r){var i=Object.create(null),s=!1,a=!0,c={DELETE:y,INVALIDATE:w,isReference:u.f,toReference:this.toReference,canRead:this.canRead,readField:function(e,r){return n.policies.readField("string"==typeof e?{fieldName:e,from:r||Object(u.g)(t)}:e,{store:n})}};if(Object.keys(r).forEach((function(u){var l=Object(v.b)(u),h=r[u];if(void 0!==h){var d="function"==typeof e?e:e[u]||e[l];if(d){var f=d===_?y:d(h,Object(o.a)(Object(o.a)({},c),{fieldName:l,storeFieldName:u,storage:n.getStorage(t,u)}));f===w?n.group.dirty(t,u):(f===y&&(f=void 0),f!==h&&(i[u]=f,s=!0,h=f))}void 0!==h&&(a=!1)}})),s)return this.merge(t,i),a&&(this instanceof O?this.data[t]=void 0:delete this.data[t],this.group.dirty(t,"__exists")),!0}return!1},t.prototype.delete=function(t,e,n){var r,i=this.lookup(t);if(i){var o=this.getFieldValue(i,"__typename"),s=e&&n?this.policies.getStoreFieldName({typename:o,fieldName:e,args:n}):e;return this.modify(t,s?((r={})[s]=_,r):_)}return!1},t.prototype.evict=function(t){var e=!1;return t.id&&(v.c.call(this.data,t.id)&&(e=this.delete(t.id,t.fieldName,t.args)),this instanceof O&&(e=this.parent.evict(t)||e),(t.fieldName||e)&&this.group.dirty(t.id,t.fieldName||"__exists")),e},t.prototype.clear=function(){this.replace(null)},t.prototype.extract=function(){var t=this,e=this.toObject(),n=[];return this.getRootIdSet().forEach((function(e){v.c.call(t.policies.rootTypenamesById,e)||n.push(e)})),n.length&&(e.__META={extraRootIds:n.sort()}),e},t.prototype.replace=function(t){var e=this;if(Object.keys(this.data).forEach((function(n){t&&v.c.call(t,n)||e.delete(n)})),t){var n=t.__META,r=Object(o.e)(t,["__META"]);Object.keys(r).forEach((function(t){e.merge(t,r[t])})),n&&n.extraRootIds.forEach(this.retain,this)}},t.prototype.retain=function(t){return this.rootIds[t]=(this.rootIds[t]||0)+1},t.prototype.release=function(t){if(this.rootIds[t]>0){var e=--this.rootIds[t];return e||delete this.rootIds[t],e}return 0},t.prototype.getRootIdSet=function(t){return void 0===t&&(t=new Set),Object.keys(this.rootIds).forEach(t.add,t),this instanceof O?this.parent.getRootIdSet(t):Object.keys(this.policies.rootTypenamesById).forEach(t.add,t),t},t.prototype.gc=function(){var t=this,e=this.getRootIdSet(),n=this.toObject();e.forEach((function(r){v.c.call(n,r)&&(Object.keys(t.findChildRefIds(r)).forEach(e.add,e),delete n[r])}));var r=Object.keys(n);if(r.length){for(var i=this;i instanceof O;)i=i.parent;r.forEach((function(t){return i.delete(t)}))}return r},t.prototype.findChildRefIds=function(t){if(!v.c.call(this.refs,t)){var e=this.refs[t]=Object.create(null),n=new Set([this.data[t]]),r=function(t){return null!==t&&"object"==typeof t};n.forEach((function(t){Object(u.f)(t)?e[t.__ref]=!0:r(t)&&Object.values(t).filter(r).forEach(n.add,n)}))}return this.refs[t]},t.prototype.makeCacheKey=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.group.keyMaker.lookupArray(t)},t}(),C=function(){function t(t){this.caching=t,this.d=null,this.keyMaker=new s.a(b.a),this.d=t?Object(s.b)():null}return t.prototype.depend=function(t,e){if(this.d){this.d(x(t,e));var n=Object(v.b)(e);n!==e&&this.d(x(t,n))}},t.prototype.dirty=function(t,e){this.d&&this.d.dirty(x(t,e))},t}();function x(t,e){return e+"#"+t}i=function(t){function e(e){var n=e.resultCaching,r=void 0===n||n,i=e.seed,o=t.call(this,e.policies,new C(r))||this;return o.storageTrie=new s.a(b.a),o.sharedLayerGroup=new C(r),i&&o.replace(i),o}return Object(o.c)(e,t),e.prototype.addLayer=function(t,e){return new O(t,this,e,this.sharedLayerGroup)},e.prototype.removeLayer=function(){return this},e.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},e}(r=S||(S={})),r.Root=i;var O=function(t){function e(e,n,r,i){var o=t.call(this,n.policies,i)||this;return o.id=e,o.parent=n,o.replay=r,o.group=i,r(o),o}return Object(o.c)(e,t),e.prototype.addLayer=function(t,n){return new e(t,this,n,this.group)},e.prototype.removeLayer=function(t){var e=this,n=this.parent.removeLayer(t);return t===this.id?(this.group.caching&&Object.keys(this.data).forEach((function(t){e.data[t]!==n.lookup(t)&&e.delete(t)})),n):n===this.parent?this:n.addLayer(this.id,this.replay)},e.prototype.toObject=function(){return Object(o.a)(Object(o.a)({},this.parent.toObject()),this.data)},e.prototype.findChildRefIds=function(e){var n=this.parent.findChildRefIds(e);return v.c.call(this.data,e)?Object(o.a)(Object(o.a)({},n),t.prototype.findChildRefIds.call(this,e)):n},e.prototype.getStorage=function(){for(var t=this.parent;t.parent;)t=t.parent;return t.getStorage.apply(t,arguments)},e}(S);function E(t,e,n){var r=t[n],i=e[n];return Object(g.a)(r,i)?r:i}function k(t){return!!(t instanceof S&&t.group.caching)}function T(t,e){return new c.a(t.message,e.path.slice(),e.query,e.clientOnly,e.variables)}var I=function(){function t(t){var e=this;this.config=t,this.executeSelectionSet=Object(s.c)((function(t){return e.execSelectionSetImpl(t)}),{keyArgs:function(t){return[t.selectionSet,t.objectOrReference,t.context]},makeCacheKey:function(t,e,n){if(k(n.store))return n.store.makeCacheKey(t,Object(u.f)(e)?e.__ref:e,n.varString)}}),this.knownResults=new WeakMap,this.executeSubSelectedArray=Object(s.c)((function(t){return e.execSubSelectedArrayImpl(t)}),{makeCacheKey:function(t){var e=t.field,n=t.array,r=t.context;if(k(r.store))return r.store.makeCacheKey(e,n,r.varString)}}),this.config=Object(o.a)({addTypename:!0},t)}return t.prototype.diffQueryAgainstStore=function(t){var e=t.store,n=t.query,r=t.rootId,i=void 0===r?"ROOT_QUERY":r,s=t.variables,a=t.returnPartialData,c=void 0===a||a,l=this.config.cache.policies;s=Object(o.a)(Object(o.a)({},Object(d.b)(Object(d.h)(n))),s);var h=this.executeSelectionSet({selectionSet:Object(d.e)(n).selectionSet,objectOrReference:Object(u.g)(i),context:{store:e,query:n,policies:l,variables:s,varString:JSON.stringify(s),fragmentMap:Object(f.a)(Object(d.d)(n)),path:[],clientOnly:!1}}),p=h.missing&&h.missing.length>0;if(p&&!c)throw h.missing[0];return{result:h.result,missing:h.missing,complete:!p}},t.prototype.isFresh=function(t,e,n,r){if(k(r.store)&&this.knownResults.get(t)===n){var i=this.executeSelectionSet.peek(n,e,r);if(i&&t===i.result)return!0}return!1},t.prototype.execSelectionSetImpl=function(t){var e=this,n=t.selectionSet,r=t.objectOrReference,i=t.context;if(Object(u.f)(r)&&!i.policies.rootTypenamesById[r.__ref]&&!i.store.has(r.__ref))return{result:{},missing:[T(new h.a(4),i)]};var o=i.variables,s=i.policies,a=[],c={result:null},d=i.store.getFieldValue(r,"__typename");function g(){return c.missing||(c.missing=[])}function b(t){var e;return t.missing&&(e=g()).push.apply(e,t.missing),t.result}this.config.addTypename&&"string"==typeof d&&!s.rootIdsByTypename[d]&&a.push({__typename:d});var v=new Set(n.selections);return v.forEach((function(t){var n;if(Object(p.c)(t,o))if(Object(u.d)(t)){var c=s.readField({fieldName:t.name.value,field:t,variables:i.variables,from:r},i),m=Object(u.h)(t);i.path.push(m);var y=i.clientOnly;i.clientOnly=y||!(!t.directives||!t.directives.some((function(t){return"client"===t.name.value}))),void 0===c?l.a.added(t)||g().push(T(new h.a(5),i)):Array.isArray(c)?c=b(e.executeSubSelectedArray({field:t,array:c,context:i})):t.selectionSet&&null!=c&&(c=b(e.executeSelectionSet({selectionSet:t.selectionSet,objectOrReference:c,context:i}))),void 0!==c&&a.push(((n={})[m]=c,n)),i.clientOnly=y,Object(h.b)(i.path.pop()===m)}else{var _=Object(f.b)(t,i.fragmentMap);_&&s.fragmentMatches(_,d)&&_.selectionSet.selections.forEach(v.add,v)}})),c.result=Object(m.c)(a),this.knownResults.set(c.result,n),c},t.prototype.execSubSelectedArrayImpl=function(t){var e,n=this,r=t.field,i=t.array,o=t.context;function s(t,n){return t.missing&&(e=e||[]).push.apply(e,t.missing),Object(h.b)(o.path.pop()===n),t.result}return r.selectionSet&&(i=i.filter(o.store.canRead)),{result:i=i.map((function(t,e){return null===t?null:(o.path.push(e),Array.isArray(t)?s(n.executeSubSelectedArray({field:r,array:t,context:o}),e):r.selectionSet?s(n.executeSelectionSet({selectionSet:r.selectionSet,objectOrReference:t,context:o}),e):(Object(h.b)(o.path.pop()===e),t))})),missing:e}},t}(),R=function(){function t(t,e){this.cache=t,this.reader=e}return t.prototype.writeToStore=function(t){var e=t.query,n=t.result,r=t.dataId,i=t.store,s=t.variables,a=Object(d.f)(e),c=Object(v.d)();s=Object(o.a)(Object(o.a)({},Object(d.b)(a)),s);var l=this.processSelectionSet({result:n||Object.create(null),dataId:r,selectionSet:a.selectionSet,mergeTree:{map:new Map},context:{store:i,written:Object.create(null),merge:function(t,e){return c.merge(t,e)},variables:s,varString:JSON.stringify(s),fragmentMap:Object(f.a)(Object(d.d)(e))}});if(!Object(u.f)(l))throw new h.a(7);return i.retain(l.__ref),l},t.prototype.processSelectionSet=function(t){var e=this,n=t.dataId,r=t.result,i=t.selectionSet,o=t.context,s=t.mergeTree,a=this.cache.policies,c=a.identify(r,i,o.fragmentMap),l=c[1];if("string"==typeof(n=n||c[0])){var d=o.written[n]||(o.written[n]=[]),m=Object(u.g)(n);if(d.indexOf(i)>=0)return m;if(d.push(i),this.reader&&this.reader.isFresh(r,m,i,o))return m}var g=Object.create(null);l&&(g=o.merge(g,l));var b=n&&a.rootTypenamesById[n]||Object(u.c)(r,i,o.fragmentMap)||n&&o.store.get(n,"__typename");"string"==typeof b&&(g.__typename=b);var v=new Set(i.selections);if(v.forEach((function(t){var n;if(Object(p.c)(t,o.variables))if(Object(u.d)(t)){var i=Object(u.h)(t),c=r[i];if(void 0!==c){var l=a.getStoreFieldName({typename:b,fieldName:t.name.value,field:t,variables:o.variables}),d=P(s,l),m=e.processFieldValue(c,t,o,d),y=t.selectionSet&&o.store.getFieldValue(m,"__typename")||void 0,_=a.getMergeFunction(b,t.name.value,y);_?d.info={field:t,typename:b,merge:_}:D(s,l),g=o.merge(g,((n={})[l]=m,n))}else if(a.usingPossibleTypes&&!Object(p.b)(["defer","client"],t))throw new h.a(8)}else{var w=Object(f.b)(t,o.fragmentMap);w&&a.fragmentMatches(w,b,r,o.variables)&&w.selectionSet.selections.forEach(v.add,v)}})),"string"==typeof n){var y=Object(u.g)(n);return s.map.size&&(g=this.applyMerges(s,y,g,o)),o.store.merge(n,g),y}return g},t.prototype.processFieldValue=function(t,e,n,r){var i=this;return e.selectionSet&&null!==t?Array.isArray(t)?t.map((function(t,o){var s=i.processFieldValue(t,e,n,P(r,o));return D(r,o),s})):this.processSelectionSet({result:t,selectionSet:e.selectionSet,context:n,mergeTree:r}):t},t.prototype.applyMerges=function(t,e,n,r,i){var s,a=this;if(t.map.size&&!Object(u.f)(n)){var c,l=Array.isArray(n)||!Object(u.f)(e)&&!Object(v.f)(e)?void 0:e,d=n;l&&!i&&(i=[Object(u.f)(l)?l.__ref:l]);var f=function(t,e){return Array.isArray(t)?"number"==typeof e?t[e]:void 0:r.store.getFieldValue(t,String(e))};t.map.forEach((function(t,e){i&&i.push(e);var n=f(l,e),o=f(d,e),s=a.applyMerges(t,n,o,r,i);s!==o&&(c=c||new Map).set(e,s),i&&Object(h.b)(i.pop()===e)})),c&&(n=Array.isArray(d)?d.slice(0):Object(o.a)({},d),c.forEach((function(t,e){n[e]=t})))}return t.info?this.cache.policies.runMergeFunction(e,n,t.info,r,i&&(s=r.store).getStorage.apply(s,i)):n},t}(),A=[];function P(t,e){var n=t.map;return n.has(e)||n.set(e,A.pop()||{map:new Map}),n.get(e)}function D(t,e){var n=t.map,r=n.get(e);!r||r.info||r.map.size||(A.push(r),n.delete(e))}new Set;var j=n("uiNf"),N=n("M2J/"),M={dataIdFromObject:N.b,addTypename:!0,resultCaching:!0,typePolicies:{}},L=function(t){function e(e){void 0===e&&(e={});var n=t.call(this)||this;return n.watches=new Set,n.typenameDocumentCache=new Map,n.makeVar=j.c,n.txCount=0,n.maybeBroadcastWatch=Object(s.c)((function(t,e){return n.broadcastWatch.call(n,t,!!e)}),{makeCacheKey:function(t){var e=t.optimistic?n.optimisticData:n.data;if(k(e))return e.makeCacheKey(t.query,t.callback,JSON.stringify({optimistic:t.optimistic,rootId:t.rootId,variables:t.variables}))}}),n.watchDep=Object(s.b)(),n.config=Object(o.a)(Object(o.a)({},M),e),n.addTypename=!!n.config.addTypename,n.policies=new N.a({cache:n,dataIdFromObject:n.config.dataIdFromObject,possibleTypes:n.config.possibleTypes,typePolicies:n.config.typePolicies}),n.data=new S.Root({policies:n.policies,resultCaching:n.config.resultCaching}),n.optimisticData=n.data,n.storeWriter=new R(n,n.storeReader=new I({cache:n,addTypename:n.addTypename})),n}return Object(o.c)(e,t),e.prototype.restore=function(t){return t&&this.data.replace(t),this},e.prototype.extract=function(t){return void 0===t&&(t=!1),(t?this.optimisticData:this.data).extract()},e.prototype.read=function(t){var e=t.returnPartialData,n=void 0!==e&&e;try{return this.storeReader.diffQueryAgainstStore({store:t.optimistic?this.optimisticData:this.data,query:t.query,variables:t.variables,rootId:t.rootId,config:this.config,returnPartialData:n}).result||null}catch(r){if(r instanceof c.a)return null;throw r}},e.prototype.write=function(t){try{return++this.txCount,this.storeWriter.writeToStore({store:this.data,query:t.query,result:t.result,dataId:t.dataId,variables:t.variables})}finally{--this.txCount||!1===t.broadcast||this.broadcastWatches()}},e.prototype.modify=function(t){if(v.c.call(t,"id")&&!t.id)return!1;var e=t.optimistic?this.optimisticData:this.data;try{return++this.txCount,e.modify(t.id||"ROOT_QUERY",t.fields)}finally{--this.txCount||!1===t.broadcast||this.broadcastWatches()}},e.prototype.diff=function(t){return this.storeReader.diffQueryAgainstStore({store:t.optimistic?this.optimisticData:this.data,rootId:t.id||"ROOT_QUERY",query:t.query,variables:t.variables,returnPartialData:t.returnPartialData,config:this.config})},e.prototype.watch=function(t){var e=this;return this.watches.size||Object(j.d)(this),this.watches.add(t),t.immediate&&this.maybeBroadcastWatch(t),function(){e.watches.delete(t)&&!e.watches.size&&Object(j.b)(e),e.watchDep.dirty(t),e.maybeBroadcastWatch.forget(t)}},e.prototype.gc=function(){return this.optimisticData.gc()},e.prototype.retain=function(t,e){return(e?this.optimisticData:this.data).retain(t)},e.prototype.release=function(t,e){return(e?this.optimisticData:this.data).release(t)},e.prototype.identify=function(t){return Object(u.f)(t)?t.__ref:this.policies.identify(t)[0]},e.prototype.evict=function(t){if(!t.id){if(v.c.call(t,"id"))return!1;t=Object(o.a)(Object(o.a)({},t),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(t)}finally{--this.txCount||!1===t.broadcast||this.broadcastWatches()}},e.prototype.reset=function(){return this.data.clear(),this.optimisticData=this.data,this.broadcastWatches(),Promise.resolve()},e.prototype.removeOptimistic=function(t){var e=this.optimisticData.removeLayer(t);e!==this.optimisticData&&(this.optimisticData=e,this.broadcastWatches())},e.prototype.performTransaction=function(t,e){var n=this,r=function(e){var r=n.data,i=n.optimisticData;++n.txCount,e&&(n.data=n.optimisticData=e);try{t(n)}finally{--n.txCount,n.data=r,n.optimisticData=i}},i=!1;"string"==typeof e?(this.optimisticData=this.optimisticData.addLayer(e,r),i=!0):null===e?r(this.data):r(),this.broadcastWatches(i)},e.prototype.transformDocument=function(t){if(this.addTypename){var e=this.typenameDocumentCache.get(t);return e||(e=Object(l.a)(t),this.typenameDocumentCache.set(t,e),this.typenameDocumentCache.set(e,e)),e}return t},e.prototype.broadcastWatches=function(t){var e=this;this.txCount||this.watches.forEach((function(n){return e.maybeBroadcastWatch(n,t)}))},e.prototype.broadcastWatch=function(t,e){this.watchDep.dirty(t),this.watchDep(t);var n=this.diff({query:t.query,variables:t.variables,optimistic:t.optimistic});t.optimistic&&e&&(n.fromOptimisticTransaction=!0),t.callback(n)},e}(a.a)},mph4:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return u}));var r=n("zC+P"),i=Object.prototype.hasOwnProperty;function o(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return s(t)}function s(t){var e=t[0]||{},n=t.length;if(n>1)for(var r=new u,i=1;i<n;++i)e=r.merge(e,t[i]);return e}function a(t){return null!==t&&"object"==typeof t}var c=function(t,e,n){return this.merge(t[n],e[n])},u=function(){function t(t){void 0===t&&(t=c),this.reconciler=t,this.isObject=a,this.pastCopies=new Set}return t.prototype.merge=function(t,e){for(var n=this,o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];return a(e)&&a(t)?(Object.keys(e).forEach((function(s){if(i.call(t,s)){var a=t[s];if(e[s]!==a){var c=n.reconciler.apply(n,Object(r.f)([t,e,s],o));c!==a&&((t=n.shallowCopyForMerge(t))[s]=c)}}else(t=n.shallowCopyForMerge(t))[s]=e[s]})),t):e},t.prototype.shallowCopyForMerge=function(t){return a(t)&&!this.pastCopies.has(t)&&(t=Array.isArray(t)?t.slice(0):Object(r.a)({__proto__:Object.getPrototypeOf(t)},t),this.pastCopies.add(t)),t},t}()},mrSG:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return s})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return c})),n.d(e,"__metadata",(function(){return u})),n.d(e,"__awaiter",(function(){return l})),n.d(e,"__generator",(function(){return h})),n.d(e,"__createBinding",(function(){return d})),n.d(e,"__exportStar",(function(){return f})),n.d(e,"__values",(function(){return p})),n.d(e,"__read",(function(){return m})),n.d(e,"__spread",(function(){return g})),n.d(e,"__spreadArrays",(function(){return b})),n.d(e,"__spreadArray",(function(){return v})),n.d(e,"__await",(function(){return y})),n.d(e,"__asyncGenerator",(function(){return _})),n.d(e,"__asyncDelegator",(function(){return w})),n.d(e,"__asyncValues",(function(){return S})),n.d(e,"__makeTemplateObject",(function(){return C})),n.d(e,"__importStar",(function(){return O})),n.d(e,"__importDefault",(function(){return E})),n.d(e,"__classPrivateFieldGet",(function(){return k})),n.d(e,"__classPrivateFieldSet",(function(){return T}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function c(t,e){return function(n,r){e(n,r,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(e){o(e)}}function a(t){try{c(r.throw(t))}catch(e){o(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}var d=Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]};function f(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||d(e,t,n)}function p(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function g(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(m(arguments[e]));return t}function b(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function v(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||e)}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function _(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||a(t,e)}))})}function a(t,e){try{(n=i[t](e)).value instanceof y?Promise.resolve(n.value.v).then(c,u):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function c(t){a("next",t)}function u(t){a("throw",t)}function l(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function w(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:y(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function S(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function C(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var x=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function O(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&d(e,t,n);return x(e,t),e}function E(t){return t&&t.__esModule?t:{default:t}}function k(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)}function T(t,e,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(t,n):i?i.value=n:e.set(t,n),n}},n27f:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("AiWB");function i(t){function e(e){Object.defineProperty(t,e,{value:r.a})}return"function"==typeof Symbol&&Symbol.species&&e(Symbol.species),e("@@species"),t}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",(function(){return r}))},nbvr:function(t,e,n){!function(t){"use strict";function e(t){return Array.prototype.slice.call(t)}function n(t){return new Promise((function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function r(t,e,r){var i,o=new Promise((function(o,s){n(i=t[e].apply(t,r)).then(o,s)}));return o.request=i,o}function i(t,e,n){var i=r(t,e,n);return i.then((function(t){if(t)return new l(t,i.request)}))}function o(t,e,n){n.forEach((function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})}))}function s(t,e,n,i){i.forEach((function(i){i in n.prototype&&(t.prototype[i]=function(){return r(this[e],i,arguments)})}))}function a(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})}))}function c(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return i(this[e],r,arguments)})}))}function u(t){this._index=t}function l(t,e){this._cursor=t,this._request=e}function h(t){this._store=t}function d(t){this._tx=t,this.complete=new Promise((function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}}))}function f(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new d(n)}function p(t){this._db=t}o(u,"_index",["name","keyPath","multiEntry","unique"]),s(u,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),c(u,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),s(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(t){t in IDBCursor.prototype&&(l.prototype[t]=function(){var e=this,r=arguments;return Promise.resolve().then((function(){return e._cursor[t].apply(e._cursor,r),n(e._request).then((function(t){if(t)return new l(t,e._request)}))}))})})),h.prototype.createIndex=function(){return new u(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new u(this._store.index.apply(this._store,arguments))},o(h,"_store",["name","keyPath","indexNames","autoIncrement"]),s(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),c(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),a(h,"_store",IDBObjectStore,["deleteIndex"]),d.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},o(d,"_tx",["objectStoreNames","mode"]),a(d,"_tx",IDBTransaction,["abort"]),f.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},o(f,"_db",["name","version","objectStoreNames"]),a(f,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new d(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),a(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(t){[h,u].forEach((function(n){t in n.prototype&&(n.prototype[t.replace("open","iterate")]=function(){var n=e(arguments),r=n[n.length-1],i=this._store||this._index,o=i[t].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[u,h].forEach((function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise((function(i){n.iterateCursor(t,(function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():i(r)):i(r)}))}))})})),t.openDb=function(t,e,n){var i=r(indexedDB,"open",[t,e]),o=i.request;return o&&(o.onupgradeneeded=function(t){n&&n(new f(o.result,t.oldVersion,o.transaction))}),i.then((function(t){return new p(t)}))},t.deleteDb=function(t){return r(indexedDB,"deleteDatabase",[t])},Object.defineProperty(t,"__esModule",{value:!0})}(e)},ngJS:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},oB13:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("XNiG"),i=n("HDdC"),o=(n("7o/Q"),n("quSY")),s=n("x+ZX");class a extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new o.a,t.add(this.source.subscribe(new u(this.getSubject(),this))),t.closed&&(this._connection=null,t=o.a.EMPTY)),t}refCount(){return Object(s.a)()(this)}}const c=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class u extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function l(t,e){return function(n){let r;if(r="function"==typeof t?t:function(){return t},"function"==typeof e)return n.lift(new h(r,e));const i=Object.create(n,c);return i.source=n,i.subjectFactory=r,i}}class h{constructor(t,e){this.subjectFactory=t,this.selector=e}call(t,e){const{selector:n}=this,r=this.subjectFactory(),i=n(r).subscribe(t);return i.add(e.subscribe(r)),i}}},p7JZ:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}Object.defineProperty(e,"__esModule",{value:!0}),e.Observable=void 0;var s=function(){return"function"==typeof Symbol},a=function(t){return s()&&Boolean(Symbol[t])},c=function(t){return a(t)?Symbol[t]:"@@"+t};s()&&!a("observable")&&(Symbol.observable=Symbol("observable"));var u=c("iterator"),l=c("observable"),h=c("species");function d(t,e){var n=t[e];if(null!=n){if("function"!=typeof n)throw new TypeError(n+" is not a function");return n}}function f(t){var e=t.constructor;return void 0!==e&&null===(e=e[h])&&(e=void 0),void 0!==e?e:C}function p(t){return t instanceof C}function m(t){m.log?m.log(t):setTimeout((function(){throw t}))}function g(t){Promise.resolve().then((function(){try{t()}catch(e){m(e)}}))}function b(t){var e=t._cleanup;if(void 0!==e&&(t._cleanup=void 0,e))try{if("function"==typeof e)e();else{var n=d(e,"unsubscribe");n&&n.call(e)}}catch(r){m(r)}}function v(t){t._observer=void 0,t._queue=void 0,t._state="closed"}function y(t,e,n){t._state="running";var r=t._observer;try{var i=d(r,e);switch(e){case"next":i&&i.call(r,n);break;case"error":if(v(t),!i)throw n;i.call(r,n);break;case"complete":v(t),i&&i.call(r)}}catch(o){m(o)}"closed"===t._state?b(t):"running"===t._state&&(t._state="ready")}function _(t,e,n){if("closed"!==t._state){if("buffering"!==t._state)return"ready"!==t._state?(t._state="buffering",t._queue=[{type:e,value:n}],void g((function(){return function(t){var e=t._queue;if(e){t._queue=void 0,t._state="ready";for(var n=0;n<e.length&&(y(t,e[n].type,e[n].value),"closed"!==t._state);++n);}}(t)}))):void y(t,e,n);t._queue.push({type:e,value:n})}}var w=function(){function t(e,n){r(this,t),this._cleanup=void 0,this._observer=e,this._queue=void 0,this._state="initializing";var i=new S(this);try{this._cleanup=n.call(void 0,i)}catch(o){i.error(o)}"initializing"===this._state&&(this._state="ready")}return o(t,[{key:"unsubscribe",value:function(){"closed"!==this._state&&(v(this),b(this))}},{key:"closed",get:function(){return"closed"===this._state}}]),t}(),S=function(){function t(e){r(this,t),this._subscription=e}return o(t,[{key:"next",value:function(t){_(this._subscription,"next",t)}},{key:"error",value:function(t){_(this._subscription,"error",t)}},{key:"complete",value:function(){_(this._subscription,"complete")}},{key:"closed",get:function(){return"closed"===this._subscription._state}}]),t}(),C=function(){function t(e){if(r(this,t),!(this instanceof t))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof e)throw new TypeError("Observable initializer must be a function");this._subscriber=e}return o(t,[{key:"subscribe",value:function(t){return"object"==typeof t&&null!==t||(t={next:t,error:arguments[1],complete:arguments[2]}),new w(t,this._subscriber)}},{key:"forEach",value:function(t){var e=this;return new Promise((function(n,r){if("function"==typeof t)var i=e.subscribe({next:function(e){try{t(e,o)}catch(n){r(n),i.unsubscribe()}},error:r,complete:n});else r(new TypeError(t+" is not a function"));function o(){i.unsubscribe(),n()}}))}},{key:"map",value:function(t){var e=this;if("function"!=typeof t)throw new TypeError(t+" is not a function");return new(f(this))((function(n){return e.subscribe({next:function(e){try{e=t(e)}catch(r){return n.error(r)}n.next(e)},error:function(t){n.error(t)},complete:function(){n.complete()}})}))}},{key:"filter",value:function(t){var e=this;if("function"!=typeof t)throw new TypeError(t+" is not a function");return new(f(this))((function(n){return e.subscribe({next:function(e){try{if(!t(e))return}catch(r){return n.error(r)}n.next(e)},error:function(t){n.error(t)},complete:function(){n.complete()}})}))}},{key:"reduce",value:function(t){var e=this;if("function"!=typeof t)throw new TypeError(t+" is not a function");var n=f(this),r=arguments.length>1,i=!1,o=arguments[1],s=o;return new n((function(n){return e.subscribe({next:function(e){var o=!i;if(i=!0,!o||r)try{s=t(s,e)}catch(a){return n.error(a)}else s=e},error:function(t){n.error(t)},complete:function(){if(!i&&!r)return n.error(new TypeError("Cannot reduce an empty sequence"));n.next(s),n.complete()}})}))}},{key:"concat",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=f(this);return new i((function(e){var r,o=0;return function t(s){r=s.subscribe({next:function(t){e.next(t)},error:function(t){e.error(t)},complete:function(){o===n.length?(r=void 0,e.complete()):t(i.from(n[o++]))}})}(t),function(){r&&(r.unsubscribe(),r=void 0)}}))}},{key:"flatMap",value:function(t){var e=this;if("function"!=typeof t)throw new TypeError(t+" is not a function");var n=f(this);return new n((function(r){var i=[],o=e.subscribe({next:function(e){if(t)try{e=t(e)}catch(a){return r.error(a)}var o=n.from(e).subscribe({next:function(t){r.next(t)},error:function(t){r.error(t)},complete:function(){var t=i.indexOf(o);t>=0&&i.splice(t,1),s()}});i.push(o)},error:function(t){r.error(t)},complete:function(){s()}});function s(){o.closed&&0===i.length&&r.complete()}return function(){i.forEach((function(t){return t.unsubscribe()})),o.unsubscribe()}}))}},{key:l,value:function(){return this}}],[{key:"from",value:function(e){var n="function"==typeof this?this:t;if(null==e)throw new TypeError(e+" is not an object");var r=d(e,l);if(r){var i=r.call(e);if(Object(i)!==i)throw new TypeError(i+" is not an object");return p(i)&&i.constructor===n?i:new n((function(t){return i.subscribe(t)}))}if(a("iterator")&&(r=d(e,u)))return new n((function(t){g((function(){if(!t.closed){var n=!0,i=!1,o=void 0;try{for(var s,a=r.call(e)[Symbol.iterator]();!(n=(s=a.next()).done);n=!0)if(t.next(s.value),t.closed)return}catch(c){i=!0,o=c}finally{try{n||null==a.return||a.return()}finally{if(i)throw o}}t.complete()}}))}));if(Array.isArray(e))return new n((function(t){g((function(){if(!t.closed){for(var n=0;n<e.length;++n)if(t.next(e[n]),t.closed)return;t.complete()}}))}));throw new TypeError(e+" is not observable")}},{key:"of",value:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i="function"==typeof this?this:t;return new i((function(t){g((function(){if(!t.closed){for(var e=0;e<n.length;++e)if(t.next(n[e]),t.closed)return;t.complete()}}))}))}},{key:h,get:function(){return this}}]),t}();e.Observable=C,s()&&Object.defineProperty(C,Symbol("extensions"),{value:{symbol:l,hostReportError:m},configurable:!0})},pxpQ:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return a}));var r=n("7o/Q"),i=n("WMd4");function o(t,e=0){return function(n){return n.lift(new s(t,e))}}class s{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new a(t,this.scheduler,this.delay))}}class a extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new c(t,this.destination)))}_next(t){this.scheduleMessage(i.a.createNext(t))}_error(t){this.scheduleMessage(i.a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(i.a.createComplete()),this.unsubscribe()}}class c{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.r(e),n.d(e,"LogLevel",(function(){return s})),n.d(e,"Logger",(function(){return h})),n.d(e,"setLogLevel",(function(){return d})),n.d(e,"setUserLogHandler",(function(){return f}));var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},c=s.INFO,u=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=u[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=c,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function d(t){o.forEach((function(e){e.setLogLevel(t)}))}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.r(e),n.d(e,"CONSTANTS",(function(){return i})),n.d(e,"Deferred",(function(){return f})),n.d(e,"ErrorFactory",(function(){return A})),n.d(e,"FirebaseError",(function(){return R})),n.d(e,"MAX_VALUE_MILLIS",(function(){return st})),n.d(e,"RANDOM_FACTOR",(function(){return at})),n.d(e,"Sha1",(function(){return Y})),n.d(e,"areCookiesEnabled",(function(){return T})),n.d(e,"assert",(function(){return o})),n.d(e,"assertionError",(function(){return s})),n.d(e,"async",(function(){return X})),n.d(e,"base64",(function(){return c})),n.d(e,"base64Decode",(function(){return l})),n.d(e,"base64Encode",(function(){return u})),n.d(e,"calculateBackoffMillis",(function(){return ct})),n.d(e,"contains",(function(){return U})),n.d(e,"createMockUserToken",(function(){return p})),n.d(e,"createSubscribe",(function(){return Q})),n.d(e,"decode",(function(){return M})),n.d(e,"deepCopy",(function(){return h})),n.d(e,"deepExtend",(function(){return d})),n.d(e,"errorPrefix",(function(){return tt})),n.d(e,"extractQuerystring",(function(){return G})),n.d(e,"getGlobal",(function(){return I})),n.d(e,"getModularInstance",(function(){return lt})),n.d(e,"getUA",(function(){return m})),n.d(e,"isAdmin",(function(){return B})),n.d(e,"isBrowser",(function(){return v})),n.d(e,"isBrowserExtension",(function(){return y})),n.d(e,"isElectron",(function(){return w})),n.d(e,"isEmpty",(function(){return W})),n.d(e,"isIE",(function(){return S})),n.d(e,"isIndexedDBAvailable",(function(){return E})),n.d(e,"isMobileCordova",(function(){return g})),n.d(e,"isNode",(function(){return b})),n.d(e,"isNodeSdk",(function(){return x})),n.d(e,"isReactNative",(function(){return _})),n.d(e,"isSafari",(function(){return O})),n.d(e,"isUWP",(function(){return C})),n.d(e,"isValidFormat",(function(){return V})),n.d(e,"isValidTimestamp",(function(){return L})),n.d(e,"issuedAtTime",(function(){return F})),n.d(e,"jsonEval",(function(){return j})),n.d(e,"map",(function(){return H})),n.d(e,"ordinal",(function(){return ut})),n.d(e,"querystring",(function(){return z})),n.d(e,"querystringDecode",(function(){return K})),n.d(e,"safeGet",(function(){return q})),n.d(e,"stringLength",(function(){return ot})),n.d(e,"stringToByteArray",(function(){return it})),n.d(e,"stringify",(function(){return N})),n.d(e,"validateArgCount",(function(){return Z})),n.d(e,"validateCallback",(function(){return nt})),n.d(e,"validateContextObject",(function(){return rt})),n.d(e,"validateIndexedDBOpenable",(function(){return k})),n.d(e,"validateNamespace",(function(){return et}));var r=n("mrSG"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw s(e)},s=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},a=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},c={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=(15&a)<<2|u>>6,h=63&u;c||(h=64,s||(l=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,c=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==c)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==c&&r.push(a<<6&192|c))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},u=function(t){var e=a(t);return c.encodeByteArray(e,!0)},l=function(t){try{return c.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function h(t){return d(void 0,t)}function d(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=d(t[n],e[n]));return t}var f=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function p(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var s=Object(r.__assign)({iss:"https://securetoken.google.com/"+n,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[c.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),c.encodeString(JSON.stringify(s),!1),""].join(".")}function m(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function g(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(m())}function b(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function v(){return"object"==typeof self&&self.self===self}function y(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function _(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function w(){return m().indexOf("Electron/")>=0}function S(){var t=m();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function C(){return m().indexOf("MSAppHost/")>=0}function x(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN}function O(){return!b()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function E(){return"indexedDB"in self&&null!=indexedDB}function k(){return new Promise((function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(o){e(o)}}))}function T(){return!(!navigator||!navigator.cookieEnabled)}function I(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}var R=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,A.prototype.create),o}return Object(r.__extends)(e,t),e}(Error),A=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?P(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",c=new R(i,a,r);return c},t}();function P(t,e){return t.replace(D,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var D=/\{\$([^}]+)}/g;function j(t){return JSON.parse(t)}function N(t){return JSON.stringify(t)}var M=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=j(l(o[0])||""),n=j(l(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(s){}return{header:e,claims:n,data:r,signature:i}},L=function(t){var e=M(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},F=function(t){var e=M(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},V=function(t){var e=M(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},B=function(t){var e=M(t).claims;return"object"==typeof e&&!0===e.admin};function U(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function q(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function W(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function H(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function z(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""}function K(t){var e={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=t.split("="),r=n[1];e[decodeURIComponent(n[0])]=decodeURIComponent(r)}})),e}function G(t){var e=t.indexOf("?");if(!e)return"";var n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}var Y=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,s=this.chain_[0],a=this.chain_[1],c=this.chain_[2],u=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=u^a&(c^u),o=1518500249):(i=a^c^u,o=1859775393):r<60?(i=a&c|u&(a|c),o=2400959708):(i=a^c^u,o=3395469782);var h=(s<<5|s>>>27)+i+l+o+n[r]&4294967295;l=u,u=c,c=4294967295&(a<<30|a>>>2),a=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();function Q(t,e){var n=new $(t,e);return n.subscribe.bind(n)}var $=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=J),void 0===r.error&&(r.error=J),void 0===r.complete&&(r.complete=J);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function X(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}}function J(){}var Z=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function tt(t,e){return t+" failed: "+e+" argument "}function et(t,e,n){if((!n||e)&&"string"!=typeof e)throw new Error(tt(t,"namespace")+"must be a valid firebase namespace.")}function nt(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(tt(t,e)+"must be a valid function.")}function rt(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(tt(t,e)+"must be a valid context object.")}var it=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;r++,o(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},ot=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},st=144e5,at=.5;function ct(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),i=Math.round(at*r*(Math.random()-.5)*2);return Math.min(st,r+i)}function ut(t){return Number.isFinite(t)?t+function(t){var e=(t=Math.abs(t))%100;if(e>=10&&e<=20)return"th";var n=t%10;return 1===n?"st":2===n?"nd":3===n?"rd":"th"}(t):""+t}function lt(t){return t&&t._delegate?t._delegate:t}},qVdT:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return h}));var r=n("mrSG"),i=Object.setPrototypeOf,o=void 0===i?function(t,e){return t.__proto__=e,t}:i,s=function(t){function e(n){void 0===n&&(n="Invariant Violation");var r=t.call(this,"number"==typeof n?"Invariant Violation: "+n+" (see https://github.com/apollographql/invariant-packages)":n)||this;return r.framesToPop=1,r.name="Invariant Violation",o(r,e.prototype),r}return Object(r.__extends)(e,t),e}(Error);function a(t,e){if(!t)throw new s(e)}var c=["log","warn","error","silent"],u=c.indexOf("log");function l(t){return function(){if(c.indexOf(t)>=u)return console[t].apply(console,arguments)}}function h(t){var e=c[u];return u=Math.max(0,c.indexOf(t)),e}!function(t){t.log=l("log"),t.warn=l("warn"),t.error=l("error")}(a||(a={}))},qgXg:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const a=new s(i)},quSY:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:a,_subscriptions:u}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(a))try{a.call(this)}catch(l){e=l instanceof s?c(l.errors):[l]}if(Object(r.a)(u)){let t=-1,n=u.length;for(;++t<n;){const n=u[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(l){e=e||[],l instanceof s?e=e.concat(c(l.errors)):e.push(l)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function c(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},qx2n:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=Object.prototype,i=r.toString,o=r.hasOwnProperty,s=Function.prototype.toString,a=new Map;function c(t,e){try{return function t(e,n){if(e===n)return!0;var r,a,c,l=i.call(e);if(l!==i.call(n))return!1;switch(l){case"[object Array]":if(e.length!==n.length)return!1;case"[object Object]":if(d(e,n))return!0;var f=u(e),p=u(n),m=f.length;if(m!==p.length)return!1;for(var g=0;g<m;++g)if(!o.call(n,f[g]))return!1;for(g=0;g<m;++g){var b=f[g];if(!t(e[b],n[b]))return!1}return!0;case"[object Error]":return e.name===n.name&&e.message===n.message;case"[object Number]":if(e!=e)return n!=n;case"[object Boolean]":case"[object Date]":return+e==+n;case"[object RegExp]":case"[object String]":return e==""+n;case"[object Map]":case"[object Set]":if(e.size!==n.size)return!1;if(d(e,n))return!0;for(var v=e.entries(),y="[object Map]"===l;;){var _=v.next();if(_.done)break;var w=_.value,S=w[0],C=w[1];if(!n.has(S))return!1;if(y&&!t(C,n.get(S)))return!1}return!0;case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":e=new Uint8Array(e),n=new Uint8Array(n);case"[object DataView]":var x=e.byteLength;if(x===n.byteLength)for(;x--&&e[x]===n[x];);return-1===x;case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":var O=s.call(e);return O===s.call(n)&&!((c=(r=O).length-(a=h).length)>=0&&r.indexOf(a,c)===c)}return!1}(t,e)}finally{a.clear()}}function u(t){return Object.keys(t).filter(l,t)}function l(t){return void 0!==this[t]}var h="{ [native code] }";function d(t,e){var n=a.get(t);if(n){if(n.has(e))return!0}else a.set(t,n=new Set);return n.add(e),!1}},rWdj:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("RKIb");function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t){return function t(e,n){switch(i(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":return null===e?"null":function(e,n){if(-1!==n.indexOf(e))return"[Circular]";var i=[].concat(n,[e]),o=function(t){var e=t[String(r.a)];return"function"==typeof e?e:"function"==typeof t.inspect?t.inspect:void 0}(e);if(void 0!==o){var s=o.call(e);if(s!==e)return"string"==typeof s?s:t(s,i)}else if(Array.isArray(e))return function(e,n){if(0===e.length)return"[]";if(n.length>2)return"[Array]";for(var r=Math.min(10,e.length),i=e.length-r,o=[],s=0;s<r;++s)o.push(t(e[s],n));return 1===i?o.push("... 1 more item"):i>1&&o.push("... ".concat(i," more items")),"["+o.join(", ")+"]"}(e,i);return function(e,n){var r=Object.keys(e);return 0===r.length?"{}":n.length>2?"["+function(t){var e=Object.prototype.toString.call(t).replace(/^\[object /,"").replace(/]$/,"");if("Object"===e&&"function"==typeof t.constructor){var n=t.constructor.name;if("string"==typeof n&&""!==n)return n}return e}(e)+"]":"{ "+r.map((function(r){return r+": "+t(e[r],n)})).join(", ")+" }"}(e,i)}(e,n);default:return String(e)}}(t,[])}},sHDe:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"f",(function(){return s})),n.d(e,"g",(function(){return a})),n.d(e,"d",(function(){return c})),n.d(e,"h",(function(){return u})),n.d(e,"c",(function(){return l})),n.d(e,"e",(function(){return h})),n.d(e,"b",(function(){return d}));var r=n("qVdT"),i=n("56Qq");function o(t){Object(r.b)(t&&"Document"===t.kind,45);var e=t.definitions.filter((function(t){return"FragmentDefinition"!==t.kind})).map((function(t){if("OperationDefinition"!==t.kind)throw new r.a(46);return t}));return Object(r.b)(e.length<=1,47),t}function s(t){return o(t),t.definitions.filter((function(t){return"OperationDefinition"===t.kind}))[0]}function a(t){return t.definitions.filter((function(t){return"OperationDefinition"===t.kind&&t.name})).map((function(t){return t.name.value}))[0]||null}function c(t){return t.definitions.filter((function(t){return"FragmentDefinition"===t.kind}))}function u(t){var e=s(t);return Object(r.b)(e&&"query"===e.operation,48),e}function l(t){Object(r.b)("Document"===t.kind,49),Object(r.b)(t.definitions.length<=1,50);var e=t.definitions[0];return Object(r.b)("FragmentDefinition"===e.kind,51),e}function h(t){var e;o(t);for(var n=0,i=t.definitions;n<i.length;n++){var s=i[n];if("OperationDefinition"===s.kind){var a=s.operation;if("query"===a||"mutation"===a||"subscription"===a)return s}"FragmentDefinition"!==s.kind||e||(e=s)}if(e)return e;throw new r.a(52)}function d(t){var e=Object.create(null),n=t&&t.variableDefinitions;return n&&n.length&&n.forEach((function(t){t.defaultValue&&Object(i.j)(e,t.variable.name,t.defaultValue)})),e}},t6oF:function(t,e,n){"use strict";var r=n("zIRd");(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function i(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function o(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:i(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in i||(i[s]={}),i=i[s]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function r(){this.a=null}function i(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var s=n.setTimeout;r.prototype.c=function(t){s(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},r.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new r;return e.prototype.s=function(t){var e=this.f();t.Ra(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,s=new e((function(t,e){i=t,o=e}));return this.Ra(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Ra=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=i,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=o(t),s=r.next();!s.done;s=r.next())i(s.value).Ra(e,n)}))},e.all=function(t){var n=o(t),r=n.next();return r.done?i([]):new e((function(t,e){function o(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,i(r.value).Ra(o(s.length-1),e),r=n.next()}while(!r.done)}))},e}));var s=s||{},a=this||self,c=/^[\w+/_-]+[=]{0,2}$/,u=null;function l(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&c.test(t)?t:""}function h(){}function d(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function f(t){var e=d(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){return"function"==d(t)}function m(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function g(t){return Object.prototype.hasOwnProperty.call(t,b)&&t[b]||(t[b]=++v)}var b="closure_uid_"+(1e9*Math.random()>>>0),v=0;function y(t,e,n){return t.call.apply(t.bind,arguments)}function _(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function w(t,e,n){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:_).apply(null,arguments)}function S(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var C=Date.now;function x(t,e){function n(){}n.prototype=e.prototype,t.bb=e.prototype,t.prototype=new n,t.prototype.constructor=t}function O(t){return t}function E(t,e,n){this.code=I+t,this.message=e||R[t]||"",this.a=n||null}function k(t){var e=t&&t.code;return e?new E(e.substring(I.length),t.message,t.serverResponse):null}x(E,Error),E.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},E.prototype.toJSON=function(){return this.w()};var T,I="auth/",R={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},A={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function P(t){for(var e in A)if(A[e].id===t)return{firebaseEndpoint:(t=A[e]).Ua,secureTokenEndpoint:t.$a,identityPlatformEndpoint:t.Xa};return null}function D(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function j(t){if(Error.captureStackTrace)Error.captureStackTrace(this,j);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function N(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");j.call(this,n+t[r])}function M(t,e){throw new N("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function L(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function F(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function V(){this.b=this.a=null}T=P("__EID__")?"__EID__":void 0,x(j,Error),j.prototype.name="CustomError",x(N,j),N.prototype.name="AssertionError",L.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var B=new L((function(){return new q}),(function(t){t.reset()}));function U(){var t=ve,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function q(){this.next=this.b=this.a=null}V.prototype.add=function(t,e){var n=B.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},q.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},q.prototype.reset=function(){this.next=this.b=this.a=null};var W=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},H=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},z=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(r[i++]=a)}return r},K=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},G=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function Y(t,e){return 0<=W(t,e)}function Q(t,e){var n;return(n=0<=(e=W(t,e)))&&Array.prototype.splice.call(t,e,1),n}function $(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1)}))}function X(t){return Array.prototype.concat.apply([],arguments)}function J(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var Z,tt=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},et=/&/g,nt=/</g,rt=/>/g,it=/"/g,ot=/'/g,st=/\x00/g,at=/[\x00&<>"']/;function ct(t,e){return-1!=t.indexOf(e)}function ut(t,e){return t<e?-1:t>e?1:0}t:{var lt=a.navigator;if(lt){var ht=lt.userAgent;if(ht){Z=ht;break t}}Z=""}function dt(t){return ct(Z,t)}function ft(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function pt(t){for(var e in t)return!1;return!0}function mt(t){var e,n={};for(e in t)n[e]=t[e];return n}var gt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function bt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<gt.length;o++)n=gt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function vt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||a).Element&&r.Location){var i=r;break t}}catch(s){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(m(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(s){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;M("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function yt(t,e){this.a=t===Ct&&e||"",this.b=St}function _t(t){return t instanceof yt&&t.constructor===yt&&t.b===St?t.a:(M("expected object of type Const, got '"+t+"'"),"type_error:Const")}yt.prototype.ta=!0,yt.prototype.sa=function(){return this.a},yt.prototype.toString=function(){return"Const{"+this.a+"}"};var wt,St={},Ct={};function xt(){if(void 0===wt){var t=null,e=a.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:O,createScript:O,createScriptURL:O})}catch(n){a.console&&a.console.error(n.message)}wt=t}else wt=t}return wt}function Ot(t,e){this.a=e===Rt?t:""}function Et(t){return t instanceof Ot&&t.constructor===Ot?t.a:(M("expected object of type TrustedResourceUrl, got '"+t+"' of type "+d(t)),"type_error:TrustedResourceUrl")}function kt(t,e){var n=_t(t);if(!It.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=xt();return new Ot(t=e?e.createScriptURL(t):t,Rt)}(t=n.replace(Tt,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof yt?_t(t):encodeURIComponent(String(t))})))}Ot.prototype.ta=!0,Ot.prototype.sa=function(){return this.a.toString()},Ot.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Tt=/%{(\w+)}/g,It=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Rt={};function At(t,e){this.a=e===Ft?t:""}function Pt(t){return t instanceof At&&t.constructor===At?t.a:(M("expected object of type SafeUrl, got '"+t+"' of type "+d(t)),"type_error:SafeUrl")}At.prototype.ta=!0,At.prototype.sa=function(){return this.a.toString()},At.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Dt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,jt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Nt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Mt(t){if(t instanceof At)return t;if(t="object"==typeof t&&t.ta?t.sa():String(t),Nt.test(t))t=new At(t,Ft);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(jt);t=e&&Dt.test(e[1])?new At(t,Ft):null}return t}function Lt(t){return t instanceof At?t:(t="object"==typeof t&&t.ta?t.sa():String(t),Nt.test(t)||(t="about:invalid#zClosurez"),new At(t,Ft))}var Ft={},Vt=new At("about:invalid#zClosurez",Ft);function Bt(t,e,n){this.a=n===Ut?t:""}Bt.prototype.ta=!0,Bt.prototype.sa=function(){return this.a.toString()},Bt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ut={};function qt(t,e,n,r){return t=t instanceof At?t:Lt(t),e=e||a,n=n instanceof yt?_t(n):n||"",e.open(Pt(t),n,r,void 0)}function Wt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Ht(t){return at.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(et,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(nt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(rt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(it,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(ot,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(st,"&#0;"))),t}function zt(t){return zt[" "](t),t}zt[" "]=h;var Kt,Gt,Yt=dt("Opera"),Qt=dt("Trident")||dt("MSIE"),$t=dt("Edge"),Xt=$t||Qt,Jt=dt("Gecko")&&!(ct(Z.toLowerCase(),"webkit")&&!dt("Edge"))&&!(dt("Trident")||dt("MSIE"))&&!dt("Edge"),Zt=ct(Z.toLowerCase(),"webkit")&&!dt("Edge");function te(){var t=a.document;return t?t.documentMode:void 0}t:{var ee="",ne=(Gt=Z,Jt?/rv:([^\);]+)(\)|;)/.exec(Gt):$t?/Edge\/([\d\.]+)/.exec(Gt):Qt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Gt):Zt?/WebKit\/(\S+)/.exec(Gt):Yt?/(?:Version)[ \/]?(\S+)/.exec(Gt):void 0);if(ne&&(ee=ne?ne[1]:""),Qt){var re=te();if(null!=re&&re>parseFloat(ee)){Kt=String(re);break t}}Kt=ee}var ie={};function oe(t){return function(t,e){var n=ie;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=tt(String(Kt)).split("."),r=tt(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=ut(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||ut(0==s[2].length,0==a[2].length)||ut(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}var se=a.document&&Qt&&(te()||parseInt(Kt,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Gt){}var ae=!Qt||9<=Number(se);function ce(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ue(t,e){ft(e,(function(e,n){e&&"object"==typeof e&&e.ta&&(e=e.sa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:de.hasOwnProperty(n)?t.setAttribute(de[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var le,he,de={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function fe(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!f(o)||m(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(m(o)){var s="function"==typeof o.item||"string"==typeof o.item;break t}if(p(o)){s="function"==typeof o.item;break t}}s=!1}H(s?J(o):o,r)}}}function pe(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function me(t){a.setTimeout((function(){throw t}),0)}function ge(t,e){he||function(){if(a.Promise&&a.Promise.resolve){var t=a.Promise.resolve(void 0);he=function(){t.then(ye)}}else he=function(){var t=ye;!p(a.setImmediate)||a.Window&&a.Window.prototype&&!dt("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(le||(le=function(){var t=a.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!dt("Presto")&&(t=function(){var t=pe(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=w((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!dt("Trident")&&!dt("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Hb;n.Hb=null,t()}},function(t){r.next={Hb:t},r=r.next,e.port2.postMessage(0)}}return function(t){a.setTimeout(t,0)}}()),le(t)):a.setImmediate(t)}}(),be||(he(),be=!0),ve.add(t,e)}var be=!1,ve=new V;function ye(){for(var t;t=U();){try{t.a.call(t.b)}catch(e){me(e)}F(B,t)}be=!1}function _e(t,e){if(this.a=we,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=h)try{var n=this;t.call(e,(function(t){De(n,Se,t)}),(function(t){if(!(t instanceof Be))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}De(n,Ce,t)}))}catch(r){De(this,Ce,r)}}var we=0,Se=2,Ce=3;function xe(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}xe.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Oe=new L((function(){return new xe}),(function(t){t.reset()}));function Ee(t,e,n){var r=Oe.get();return r.g=t,r.b=e,r.f=n,r}function ke(t){if(t instanceof _e)return t;var e=new _e(h);return De(e,Se,t),e}function Te(t){return new _e((function(e,n){n(t)}))}function Ie(t,e,n){je(t,e,n,null)||ge(S(e,t))}function Re(t){return new _e((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Ie(t[o],S(i,o,!0),S(i,o,!1));else e(r)}))}function Ae(t,e){t.b||t.a!=Se&&t.a!=Ce||Ne(t),t.f?t.f.next=e:t.b=e,t.f=e}function Pe(t,e,n,r){var i=Ee(null,null,null);return i.a=new _e((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(s){o(s)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Be?o(e):t(i)}catch(s){o(s)}}:o})),i.a.c=t,Ae(t,i),i.a}function De(t,e,n){t.a==we&&(t===n&&(e=Ce,n=new TypeError("Promise cannot resolve to itself")),t.a=1,je(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,Ne(t),e!=Ce||n instanceof Be||function(t,e){t.g=!0,ge((function(){t.g&&Ve.call(null,e)}))}(t,n)))}function je(t,e,n,r){if(t instanceof _e)return Ae(t,Ee(e||h,n||null,r)),!0;if(D(t))return t.then(e,n,r),!0;if(m(t))try{var i=t.then;if(p(i))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}var s=!1;try{e.call(t,(function(t){s||(s=!0,n.call(i,t))}),o)}catch(a){o(a)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Ne(t){t.h||(t.h=!0,ge(t.gc,t))}function Me(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function Le(t,e,n,r){if(n==Ce&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Fe(e,n,r);else try{e.c?e.g.call(e.f):Fe(e,n,r)}catch(i){Ve.call(null,i)}F(Oe,e)}function Fe(t,e,n){e==Se?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}_e.prototype.then=function(t,e,n){return Pe(this,p(t)?t:null,p(e)?e:null,n)},_e.prototype.$goog_Thenable=!0,(t=_e.prototype).oa=function(t,e){return(t=Ee(t,t,e)).c=!0,Ae(this,t),this},t.o=function(t,e){return Pe(this,null,t,e)},t.cancel=function(t){if(this.a==we){var e=new Be(t);ge((function(){!function t(e,n){if(e.a==we)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,s=null,a=r.b;a&&(a.c||(i++,a.a==e&&(o=a),!(o&&1<i)));a=a.next)o||(s=a);o&&(r.a==we&&1==i?t(r,n):(s?((i=s).next==r.f&&(r.f=i),i.next=i.next.next):Me(r),Le(r,o,Ce,n)))}e.c=null}else De(e,Ce,n)}(this,e)}),this)}},t.$c=function(t){this.a=we,De(this,Se,t)},t.ad=function(t){this.a=we,De(this,Ce,t)},t.gc=function(){for(var t;t=Me(this);)Le(this,t,this.a,this.i);this.h=!1};var Ve=me;function Be(t){j.call(this,t)}function Ue(){0!=qe&&(We[g(this)]=this),this.ya=this.ya,this.pa=this.pa}x(Be,j),Be.prototype.name="cancel";var qe=0,We={};function He(t){if(!t.ya&&(t.ya=!0,t.Da(),0!=qe)){var e=g(t);if(0!=qe&&t.pa&&0<t.pa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete We[e]}}Ue.prototype.ya=!1,Ue.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var ze=Object.freeze||function(t){return t},Ke=!Qt||9<=Number(se),Ge=Qt&&!oe("9"),Ye=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",h,e),a.removeEventListener("test",h,e)}catch(n){}return t}();function Qe(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function $e(t,e){if(Qe.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Jt){t:{try{zt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Xe[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Qe.prototype.preventDefault=function(){this.defaultPrevented=!0},x($e,Qe);var Xe=ze({2:"touch",3:"pen",4:"mouse"});$e.prototype.preventDefault=function(){$e.bb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ge)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},$e.prototype.g=function(){return this.a};var Je="closure_listenable_"+(1e6*Math.random()|0),Ze=0;function tn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Wa=i,this.key=++Ze,this.wa=this.Qa=!1}function en(t){t.wa=!0,t.listener=null,t.proxy=null,t.src=null,t.Wa=null}function nn(t){this.src=t,this.a={},this.b=0}function rn(t,e){var n=e.type;n in t.a&&Q(t.a[n],e)&&(en(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function on(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.wa&&o.listener==e&&o.capture==!!n&&o.Wa==r)return i}return-1}nn.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=on(t,e,r,i);return-1<s?(e=t[s],n||(e.Qa=!1)):((e=new tn(e,this.src,o,!!r,i)).Qa=n,t.push(e)),e};var sn="closure_lm_"+(1e6*Math.random()|0),an={};function cn(t,e,n,r,i){if(r&&r.once)ln(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)cn(t,e[o],n,r,i);else n=yn(n),t&&t[Je]?wn(t,e,n,m(r)?!!r.capture:!!r,i):un(t,e,n,!1,r,i)}function un(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=m(i)?!!i.capture:!!i,a=bn(t);if(a||(t[sn]=a=new nn(t)),!(n=a.add(e,n,r,s,o)).proxy)if(r=function(){var t=gn,e=Ke?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ye||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(fn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function ln(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)ln(t,e[o],n,r,i);else n=yn(n),t&&t[Je]?Sn(t,e,n,m(r)?!!r.capture:!!r,i):un(t,e,n,!0,r,i)}function hn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)hn(t,e[o],n,r,i);else r=m(r)?!!r.capture:!!r,n=yn(n),t&&t[Je]?(t=t.v,(e=String(e).toString())in t.a&&-1<(n=on(o=t.a[e],n,r,i))&&(en(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=bn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=on(e,n,r,i)),(n=-1<t?e[t]:null)&&dn(n))}function dn(t){if("number"!=typeof t&&t&&!t.wa){var e=t.src;if(e&&e[Je])rn(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(fn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=bn(e))?(rn(n,t),0==n.b&&(n.src=null,e[sn]=null)):en(t)}}}function fn(t){return t in an?an[t]:an[t]="on"+t}function pn(t,e,n,r){var i=!0;if((t=bn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.wa&&(o=mn(o,r),i=i&&!1!==o)}return i}function mn(t,e){var n=t.listener,r=t.Wa||t.src;return t.Qa&&dn(t),n.call(r,e)}function gn(t,e){if(t.wa)return!0;if(!Ke){if(!e)t:{e=["window","event"];for(var n=a,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new $e(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(s){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=pn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=pn(r[i],t,!1,e),n=n&&o}return n}return mn(t,new $e(e,this))}function bn(t){return(t=t[sn])instanceof nn?t:null}var vn="__closure_events_fn_"+(1e9*Math.random()>>>0);function yn(t){return p(t)?t:(t[vn]||(t[vn]=function(e){return t.handleEvent(e)}),t[vn])}function _n(){Ue.call(this),this.v=new nn(this),this.bc=this,this.hb=null}function wn(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function Sn(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function Cn(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.wa&&s.capture==n){var a=s.listener,c=s.Wa||s.src;s.Qa&&rn(t.v,s),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}function xn(t,e,n){if(p(t))n&&(t=w(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=w(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function On(t){var e=null;return new _e((function(n,r){-1==(e=xn((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw a.clearTimeout(e),t}))}function En(t){if(t.X&&"function"==typeof t.X)return t.X();if("string"==typeof t)return t.split("");if(f(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function kn(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.X||"function"!=typeof t.X){if(f(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function Tn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Tn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function In(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Rn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Rn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Rn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}x(_n,Ue),_n.prototype[Je]=!0,_n.prototype.addEventListener=function(t,e,n,r){cn(this,t,e,n,r)},_n.prototype.removeEventListener=function(t,e,n,r){hn(this,t,e,n,r)},_n.prototype.dispatchEvent=function(t){var e,n=this.hb;if(n)for(e=[];n;n=n.hb)e.push(n);n=this.bc;var r=t.type||t;if("string"==typeof t)t=new Qe(t,n);else if(t instanceof Qe)t.target=t.target||n;else{var i=t;bt(t=new Qe(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=Cn(s,r,!0,t)&&i}if(i=Cn(s=t.b=n,r,!0,t)&&i,i=Cn(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Cn(s=t.b=e[o],r,!1,t)&&i;return i},_n.prototype.Da=function(){if(_n.bb.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)en(n[r]);delete e.a[t],e.b--}}this.hb=null},(t=Tn.prototype).X=function(){In(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return In(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Rn(this.b,t)?this.b[t]:e},t.set=function(t,e){Rn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var An=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Pn(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof Pn?(this.i=void 0!==e?e:t.i,Dn(this,t.c),this.l=t.l,this.a=t.a,jn(this,t.g),this.f=t.f,Nn(this,tr(t.b)),this.h=t.h):t&&(n=String(t).match(An))?(this.i=!!e,Dn(this,n[1]||"",!0),this.l=Bn(n[2]||""),this.a=Bn(n[3]||"",!0),jn(this,n[4]),this.f=Bn(n[5]||"",!0),Nn(this,n[6]||"",!0),this.h=Bn(n[7]||"")):(this.i=!!e,this.b=new Yn(null,this.i))}function Dn(t,e,n){t.c=n?Bn(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function jn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Nn(t,e,n){e instanceof Yn?(t.b=e,function(t,e){e&&!t.f&&(Qn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Xn(this,e),Zn(this,n,t))}),t)),t.f=e}(t.b,t.i)):(n||(e=Un(e,Kn)),t.b=new Yn(e,t.i))}function Mn(t,e,n){t.b.set(e,n)}function Ln(t,e){return t.b.get(e)}function Fn(t){return t instanceof Pn?new Pn(t):new Pn(t,void 0)}function Vn(t,e,n,r){var i=new Pn(null,void 0);return t&&Dn(i,t),e&&(i.a=e),n&&jn(i,n),r&&(i.f=r),i}function Bn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Un(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,qn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function qn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Pn.prototype.toString=function(){var t=[],e=this.c;e&&t.push(Un(e,Wn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(Un(e,Wn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(Un(n,"/"==n.charAt(0)?zn:Hn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",Un(n,Gn)),t.join("")},Pn.prototype.resolve=function(t){var e=new Pn(this),n=!!t.c;n?Dn(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)jn(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ct(i,"./")||ct(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?Nn(e,tr(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Wn=/[#\/\?@]/g,Hn=/[#\?:]/g,zn=/[#\?]/g,Kn=/[#\?@]/g,Gn=/#/g;function Yn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Qn(t){t.a||(t.a=new Tn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function $n(t){var e=kn(t);if(void 0===e)throw Error("Keys are undefined");var n=new Yn(null,void 0);t=En(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Zn(n,i,o):n.add(i,o)}return n}function Xn(t,e){Qn(t),e=er(t,e),Rn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Rn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&In(t)))}function Jn(t,e){return Qn(t),e=er(t,e),Rn(t.a.b,e)}function Zn(t,e,n){Xn(t,e),0<n.length&&(t.c=null,t.a.set(er(t,e),J(n)),t.b+=n.length)}function tr(t){var e=new Yn;return e.c=t.c,t.a&&(e.a=new Tn(t.a),e.b=t.b),e}function er(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function nr(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var i=n;n=i.length,r.push("[");for(var o="",s=0;s<n;s++)r.push(o),t(e,i[s],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(s=n[i])&&(r.push(o),sr(i,r),r.push(":"),t(e,s,r),o=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":sr(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new rr,t,e),e.join("")}function rr(){}(t=Yn.prototype).add=function(t,e){Qn(this),this.c=null,t=er(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Qn(this),this.a.forEach((function(n,r){H(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.Y=function(){Qn(this);for(var t=this.a.X(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.X=function(t){Qn(this);var e=[];if("string"==typeof t)Jn(this,t)&&(e=X(e,this.a.get(er(this,t))));else{t=this.a.X();for(var n=0;n<t.length;n++)e=X(e,t[n])}return e},t.set=function(t,e){return Qn(this),this.c=null,Jn(this,t=er(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.X(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.X(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var ir={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},or=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function sr(t,e){e.push('"',t.replace(or,(function(t){var e=ir[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),ir[t]=e),e})),'"')}function ar(){var t=Or();return Qt&&!!se&&11==se||/Edge\/\d+/.test(t)}function cr(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function ur(t,e){e=e||a.window;var n="about:blank";t&&(n=Pt(Mt(t)||Vt)),e.location.href=n}function lr(t){return!!((t=(t||Or()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function hr(t){t=t||a.window;try{t.close()}catch(e){}}function dr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Or().toLowerCase(),r&&(e.target=r,ct(n,"crios/")&&(e.target="_blank")),Sr(Or())==wr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof At?n:Mt(void 0!==n.href?n.href:String(n))||Vt,n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((dt("iPhone")&&!dt("iPod")&&!dt("iPad")||dt("iPad")||dt("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(vt(s=pe(document,"A"),"HTMLAnchorElement"),e=e instanceof At?e:Lt(e),s.href=Pt(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=qt("",r,n,s),t=Pt(e),s&&(Xt&&ct(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ht(t)+'">',t=new Bt(t=(r=xt())?r.createHTML(t):t,null,Ut),r=s.document)&&(r.write(function(t){return t instanceof Bt&&t.constructor===Bt?t.a:(M("expected object of type SafeHtml, got '"+t+"' of type "+d(t)),"type_error:SafeHtml")}(t)),r.close())):(s=qt(e,r,n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(a){}return s}var fr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pr=/^[^@]+@[^@]+$/;function mr(){var t=null;return new _e((function(e){"complete"==a.document.readyState?e():(t=function(){e()},ln(window,"load",t))})).o((function(e){throw hn(window,"load",t),e}))}function gr(t){return t=t||Or(),!("file:"!==Rr()&&"ionic:"!==Rr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function br(){var t=a.window;try{return!(!t||t==t.top)}catch(e){return!1}}function vr(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function yr(){return r.default.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.default.INTERNAL.hasOwnProperty("node")?"Node":vr()?"Worker":"Browser"}function _r(){var t=yr();return"ReactNative"===t||"Node"===t}var wr="Firefox";function Sr(t){var e=t.toLowerCase();return ct(e,"opera/")||ct(e,"opr/")||ct(e,"opios/")?"Opera":ct(e,"iemobile")?"IEMobile":ct(e,"msie")||ct(e,"trident/")?"IE":ct(e,"edge/")?"Edge":ct(e,"firefox/")?wr:ct(e,"silk/")?"Silk":ct(e,"blackberry")?"Blackberry":ct(e,"webos")?"Webos":!ct(e,"safari/")||ct(e,"chrome/")||ct(e,"crios/")||ct(e,"android")?!ct(e,"chrome/")&&!ct(e,"crios/")||ct(e,"edge/")?ct(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":"Chrome":"Safari"}var Cr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function xr(t,e){e=e||[];var n,r=[],i={};for(n in Cr)i[Cr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=yr())?r=Sr(i=Or()):"Worker"===r&&(r=Sr(i=Or())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Or(){return a.navigator&&a.navigator.userAgent||""}function Er(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function kr(){try{var t=a.localStorage,e=Nr();if(t)return t.setItem(e,"1"),t.removeItem(e),!ar()||!!a.indexedDB}catch(n){return vr()&&!!a.indexedDB}return!1}function Tr(){return(Ir()||"chrome-extension:"===Rr()||gr())&&!_r()&&kr()&&!vr()}function Ir(){return"http:"===Rr()||"https:"===Rr()}function Rr(){return a.location&&a.location.protocol||null}function Ar(t){return!lr(t=t||Or())&&Sr(t)!=wr}function Pr(t){return void 0===t?null:nr(t)}function Dr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function jr(t){if(null!==t)return JSON.parse(t)}function Nr(t){return t||Math.floor(1e9*Math.random()).toString()}function Mr(t){return"Safari"!=Sr(t=t||Or())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Lr(){var t=a.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Fr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Or(),e=yr(),this.b=lr(t)||"ReactNative"===e}function Vr(){var t=a.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Br(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Ur(){return!(!Er("fireauth.oauthhelper",a)&&!Er("fireauth.iframe",a))}Fr.prototype.get=function(){var t=a.navigator;return!t||"boolean"!=typeof t.onLine||!Ir()&&"chrome-extension:"!==Rr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var qr,Wr={};function Hr(t){Wr[t]||(Wr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var zr={};Object.defineProperty(zr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(zr,"abcd",{configurable:!0,enumerable:!0,value:2}),qr=2==zr.abcd}catch(Gt){qr=!1}function Kr(t,e,n){qr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Gr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Kr(t,n,e[n])}function Yr(t){var e={};return Gr(e,t),e}function Qr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Kr(e,n,Qr(t[n]));return e}function $r(t){var e=t&&(t[ei]?"phone":null);if(!(e&&t&&t[ti]))throw new E("internal-error","Internal assert: invalid MultiFactorInfo object");Kr(this,"uid",t[ti]),Kr(this,"displayName",t[Jr]||null);var n=null;t[Zr]&&(n=new Date(t[Zr]).toUTCString()),Kr(this,"enrollmentTime",n),Kr(this,"factorId",e)}function Xr(t){try{var e=new ni(t)}catch(n){e=null}return e}$r.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Jr="displayName",Zr="enrolledAt",ti="mfaEnrollmentId",ei="phoneInfo";function ni(t){$r.call(this,t),Kr(this,"phoneNumber",t[ei])}function ri(t){var e={},n=t[ai],r=t[ui],i=t[li];if(t=Xr(t[ci]),!i||i!=oi&&i!=si&&!n||i==si&&!r||i==ii&&!t)throw Error("Invalid checkActionCode response!");i==si?(e[di]=n||null,e[pi]=n||null,e[hi]=r):(e[di]=r||null,e[pi]=r||null,e[hi]=n||null),e[fi]=t||null,Kr(this,gi,i),Kr(this,mi,Qr(e))}x(ni,$r),ni.prototype.w=function(){var t=ni.bb.w.call(this);return t.phoneNumber=this.phoneNumber,t};var ii="REVERT_SECOND_FACTOR_ADDITION",oi="EMAIL_SIGNIN",si="VERIFY_AND_CHANGE_EMAIL",ai="email",ci="mfaInfo",ui="newEmail",li="requestType",hi="email",di="fromEmail",fi="multiFactorInfo",pi="previousEmail",mi="data",gi="operation";function bi(t){var e=Ln(t=Fn(t),vi)||null,n=Ln(t,yi)||null,r=Ln(t,Si)||null;if(r=r&&xi[r]||null,!e||!n||!r)throw new E("argument-error",vi+", "+yi+"and "+Si+" are required in a valid action code URL.");Gr(this,{apiKey:e,operation:r,code:n,continueUrl:Ln(t,_i)||null,languageCode:Ln(t,wi)||null,tenantId:Ln(t,Ci)||null})}var vi="apiKey",yi="oobCode",_i="continueUrl",wi="languageCode",Si="mode",Ci="tenantId",xi={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ii,signIn:oi,verifyAndChangeEmail:si,verifyEmail:"VERIFY_EMAIL"};function Oi(t){try{return new bi(t)}catch(e){return null}}function Ei(t){var e=t[Ai];if(void 0===e)throw new E("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new E("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[ki];if(n&&"object"==typeof n){e=n[ji];var r=n[Pi];if(n=n[Di],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new E("argument-error",Pi+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new E("argument-error",Di+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new E("argument-error",ji+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new E("missing-android-pkg-name")}}else if(void 0!==n)throw new E("argument-error",ki+" property must be a non null object when specified.");if(this.f=null,(e=t[Ri])&&"object"==typeof e){if("string"==typeof(e=e[Ni])&&e.length)this.f=e;else if(void 0!==e)throw new E("argument-error",Ni+" property must be a non empty string when specified.")}else if(void 0!==e)throw new E("argument-error",Ri+" property must be a non null object when specified.");if(void 0!==(e=t[Ii])&&"boolean"!=typeof e)throw new E("argument-error",Ii+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Ti])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new E("argument-error",Ti+" property must be a non empty string when specified.");this.i=t||null}var ki="android",Ti="dynamicLinkDomain",Ii="handleCodeInApp",Ri="iOS",Ai="url",Pi="installApp",Di="minimumVersion",ji="packageName",Ni="bundleId";function Mi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Li=null;function Fi(t){var e=Bi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function Vi(t){try{return new Fi(t)}catch(e){return null}}function Bi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var r=function(t){var e=[];return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Li[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Li){Li={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Li[o]&&(Li[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,(function(t){e.push(t)})),e}(t);for(t=[],n=e=0;e<r.length;){var i=r[e++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[e++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[e++];var s=r[e++],a=((7&i)<<18|(63&o)<<12|(63&s)<<6|63&r[e++])-65536;t[n++]=String.fromCharCode(55296+(a>>10)),t[n++]=String.fromCharCode(56320+(1023&a))}else o=r[e++],s=r[e++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}return JSON.parse(t.join(""))}catch(c){}return null}Fi.prototype.T=function(){return this.f},Fi.prototype.l=function(){return this.c},Fi.prototype.toString=function(){return this.h};var Ui="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),qi=["client_id","response_type","scope","redirect_uri","state"],Wi={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:qi},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:qi},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:qi},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Ui},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Hi(t){for(var e in Wi)if(Wi[e].fa==t)return Wi[e];return null}function zi(t){var e={};e["facebook.com"]=$i,e["google.com"]=Ji,e["github.com"]=Xi,e["twitter.com"]=Zi;var n=t&&t[Gi];try{if(n)return e[n]?new e[n](t):new Qi(t);if(void 0!==t[Ki])return new Yi(t)}catch(r){}return null}var Ki="idToken",Gi="providerId";function Yi(t){var e=t[Gi];if(!e&&t[Ki]){var n=Vi(t[Ki]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Kr(this,"providerId",e),Kr(this,"isNewUser",n)}function Qi(t){Yi.call(this,t),Kr(this,"profile",Qr((t=jr(t.rawUserInfo||"{}"))||{}))}function $i(t){if(Qi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Xi(t){if(Qi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Kr(this,"username",this.profile&&this.profile.login||null)}function Ji(t){if(Qi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Zi(t){if(Qi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Kr(this,"username",t.screenName||null)}function to(t){var e=Fn(t),n=Ln(e,"link"),r=Ln(Fn(n),"link");return e=Ln(e,"deep_link_id"),Ln(Fn(e),"link")||e||r||n||t}function eo(t,e){if(!t&&!e)throw new E("internal-error","Internal assert: no raw session string available");if(t&&e)throw new E("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?no:ro}x(Qi,Yi),x($i,Qi),x(Xi,Qi),x(Ji,Qi),x(Zi,Qi);var no="enroll",ro="signin";function io(){}function oo(t,e){return t.then((function(t){if(t[zs]){var n=Vi(t[zs]);if(!n||e!=n.i)throw new E("user-mismatch");return t}throw new E("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==I+"user-not-found"?new E("user-mismatch"):t}))}function so(t,e){if(!e)throw new E("internal-error","failed to construct a credential");this.a=e,Kr(this,"providerId",t),Kr(this,"signInMethod",t)}function ao(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function co(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new so(t.providerId,t.pendingToken)}catch(e){}return null}function uo(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Kr(this,"idToken",e.idToken),e.accessToken&&Kr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Kr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new E("internal-error","failed to construct a credential");Kr(this,"accessToken",e.oauthToken),Kr(this,"secret",e.oauthTokenSecret)}Kr(this,"providerId",t),Kr(this,"signInMethod",n)}function lo(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:$n(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function ho(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new uo(t.providerId,e,t.signInMethod)}catch(n){}}return null}function fo(t,e){this.Qc=e||[],Gr(this,{providerId:t,isOAuthProvider:!0}),this.Jb={},this.qb=(Hi(t)||{}).Ja||null,this.pb=null}function po(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new E("argument-error",'SAML provider IDs must be prefixed with "saml."');fo.call(this,t,[])}function mo(t){fo.call(this,t,qi),this.a=[]}function go(){mo.call(this,"facebook.com")}function bo(t){if(!t)throw new E("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return m(t)&&(e=t.accessToken),(new go).credential({accessToken:e})}function vo(){mo.call(this,"github.com")}function yo(t){if(!t)throw new E("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return m(t)&&(e=t.accessToken),(new vo).credential({accessToken:e})}function _o(){mo.call(this,"google.com"),this.Ca("profile")}function wo(t,e){var n=t;return m(t)&&(n=t.idToken,e=t.accessToken),(new _o).credential({idToken:n,accessToken:e})}function So(){fo.call(this,"twitter.com",Ui)}function Co(t,e){var n=t;if(m(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new E("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new uo("twitter.com",n,"twitter.com")}function xo(t,e,n){this.a=t,this.f=e,Kr(this,"providerId","password"),Kr(this,"signInMethod",n===Eo.EMAIL_LINK_SIGN_IN_METHOD?Eo.EMAIL_LINK_SIGN_IN_METHOD:Eo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Oo(t){return t&&t.email&&t.password?new xo(t.email,t.password,t.signInMethod):null}function Eo(){Gr(this,{providerId:"password",isOAuthProvider:!1})}function ko(t,e){if(!(e=To(e)))throw new E("argument-error","Invalid email link!");return new xo(t,e.code,Eo.EMAIL_LINK_SIGN_IN_METHOD)}function To(t){return(t=Oi(t=to(t)))&&t.operation===oi?t:null}function Io(t){if(!(t.fb&&t.eb||t.La&&t.ea))throw new E("internal-error");this.a=t,Kr(this,"providerId","phone"),this.fa="phone",Kr(this,"signInMethod","phone")}function Ro(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return H(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new Io(e)}return null}function Ao(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.fb,code:t.a.eb}}function Po(t){try{this.a=t||r.default.auth()}catch(e){throw new E("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Gr(this,{providerId:"phone",isOAuthProvider:!1})}function Do(t,e){if(!t)throw new E("missing-verification-id");if(!e)throw new E("missing-verification-code");return new Io({fb:t,eb:e})}function jo(t){if(t.temporaryProof&&t.phoneNumber)return new Io({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return wo(o,n);case"facebook.com":return bo(n);case"github.com":return yo(n);case"twitter.com":return Co(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new so(e,s):new uo(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new mo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(a){return null}}function No(t){if(!t.isOAuthProvider)throw new E("invalid-oauth-provider")}function Mo(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,!this.g&&!this.a)throw new E("invalid-auth-event");if(this.g&&this.a)throw new E("invalid-auth-event");if(this.g&&!this.f)throw new E("invalid-auth-event")}function Lo(t){return(t=t||{}).type?new Mo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&k(t.error),t.postBody,t.tenantId):null}function Fo(){this.b=null,this.a=[]}eo.prototype.Ha=function(){return ke(this.a?this.a:this.b)},eo.prototype.w=function(){return this.type==no?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},io.prototype.ka=function(){},io.prototype.b=function(){},io.prototype.c=function(){},io.prototype.w=function(){},so.prototype.ka=function(t){return da(t,ao(this))},so.prototype.b=function(t,e){var n=ao(this);return n.idToken=e,fa(t,n)},so.prototype.c=function(t,e){return oo(pa(t,ao(this)),e)},so.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},uo.prototype.ka=function(t){return da(t,lo(this))},uo.prototype.b=function(t,e){var n=lo(this);return n.idToken=e,fa(t,n)},uo.prototype.c=function(t,e){return oo(pa(t,lo(this)),e)},uo.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},fo.prototype.Ka=function(t){return this.Jb=mt(t),this},x(po,fo),x(mo,fo),mo.prototype.Ca=function(t){return Y(this.a,t)||this.a.push(t),this},mo.prototype.Rb=function(){return J(this.a)},mo.prototype.credential=function(t,e){var n;if(!(n=m(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new E("argument-error","credential failed: must provide the ID token and/or the access token.");return new uo(this.providerId,n,this.providerId)},x(go,mo),Kr(go,"PROVIDER_ID","facebook.com"),Kr(go,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),x(vo,mo),Kr(vo,"PROVIDER_ID","github.com"),Kr(vo,"GITHUB_SIGN_IN_METHOD","github.com"),x(_o,mo),Kr(_o,"PROVIDER_ID","google.com"),Kr(_o,"GOOGLE_SIGN_IN_METHOD","google.com"),x(So,fo),Kr(So,"PROVIDER_ID","twitter.com"),Kr(So,"TWITTER_SIGN_IN_METHOD","twitter.com"),xo.prototype.ka=function(t){return this.signInMethod==Eo.EMAIL_LINK_SIGN_IN_METHOD?Qa(t,Sa,{email:this.a,oobCode:this.f}):Qa(t,Ha,{email:this.a,password:this.f})},xo.prototype.b=function(t,e){return this.signInMethod==Eo.EMAIL_LINK_SIGN_IN_METHOD?Qa(t,Ca,{idToken:e,email:this.a,oobCode:this.f}):Qa(t,Ma,{idToken:e,email:this.a,password:this.f})},xo.prototype.c=function(t,e){return oo(this.ka(t),e)},xo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Gr(Eo,{PROVIDER_ID:"password"}),Gr(Eo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Gr(Eo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Io.prototype.ka=function(t){return t.gb(Ao(this))},Io.prototype.b=function(t,e){var n=Ao(this);return n.idToken=e,Qa(t,Ka,n)},Io.prototype.c=function(t,e){var n=Ao(this);return n.operation="REAUTH",oo(t=Qa(t,Ga,n),e)},Io.prototype.w=function(){var t={providerId:"phone"};return this.a.fb&&(t.verificationId=this.a.fb),this.a.eb&&(t.verificationCode=this.a.eb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Po.prototype.gb=function(t,e){var n=this.a.a;return ke(e.verify()).then((function(r){if("string"!=typeof r)throw new E("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=m(t)?t.session:null,o=m(t)?t.phoneNumber:t;return(i&&i.type==no?i.Ha().then((function(t){return function(t,e){return Qa(t,Fa,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==ro?i.Ha().then((function(e){return function(t,e){return Qa(t,Va,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return Qa(t,ja,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new E("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Gr(Po,{PROVIDER_ID:"phone"}),Gr(Po,{PHONE_SIGN_IN_METHOD:"phone"}),Mo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Mo.prototype.T=function(){return this.h},Mo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Vo,Bo=null;function Uo(t){var e="unauthorized-domain",n=void 0,r=Fn(t);t=r.a,"chrome-extension"==(r=r.c)?n=Wt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Wt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",E.call(this,e,n)}function qo(t,e,n){E.call(this,t,n),(t=e||{}).Kb&&Kr(this,"email",t.Kb),t.ea&&Kr(this,"phoneNumber",t.ea),t.credential&&Kr(this,"credential",t.credential),t.$b&&Kr(this,"tenantId",t.$b)}function Wo(t){if(t.code){var e=t.code||"";0==e.indexOf(I)&&(e=e.substring(I.length));var n={credential:jo(t),$b:t.tenantId};if(t.email)n.Kb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new E(e,t.message||void 0);return new qo(e,n,t.message)}return null}function Ho(){}function zo(){}function Ko(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Go(){}function Yo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=w(this.qc,this),this.a.onerror=w(this.Tb,this),this.a.onprogress=w(this.rc,this),this.a.ontimeout=w(this.vc,this)}function Qo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function $o(t,e,n){this.reset(t,e,n,void 0,void 0)}function Xo(t){this.f=t,this.b=this.c=this.a=null}function Jo(t,e){this.name=t,this.value=e}x(Uo,E),x(qo,E),qo.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&bt(t,e),t},qo.prototype.toJSON=function(){return this.w()},Ho.prototype.c=null,x(zo,Ho),zo.prototype.a=function(){var t=Ko(this);return t?new ActiveXObject(t):new XMLHttpRequest},zo.prototype.b=function(){var t={};return Ko(this)&&(t[0]=!0,t[1]=!0),t},Vo=new zo,x(Go,Ho),Go.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Yo;throw Error("Unsupported browser")},Go.prototype.b=function(){return{}},(t=Yo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Qo(this,4)},t.Tb=function(){this.status=500,this.response=this.responseText="",Qo(this,4)},t.vc=function(){this.Tb()},t.rc=function(){this.status=200,Qo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},$o.prototype.a=null,$o.prototype.reset=function(t,e,n,r,i){r||C(),delete this.a},Jo.prototype.toString=function(){return this.name};var Zo=new Jo("SEVERE",1e3),ts=new Jo("WARNING",900),es=new Jo("CONFIG",700),ns=new Jo("FINE",500);Xo.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(M("Root logger has no level set."),null)}(this).value)for(p(e)&&(e=e()),t=new $o(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var rs={},is=null;function os(t){var e;if(is||(is=new Xo(""),rs[""]=is,is.c=es),!(e=rs[t])){e=new Xo(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=os(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,rs[t]=e}return e}function ss(t,e){t&&t.log(ns,e,void 0)}function as(t){this.f=t}function cs(t){_n.call(this),this.u=t,this.h=void 0,this.readyState=us,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=os("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}x(as,Ho),as.prototype.a=function(){return new cs(this.f)},as.prototype.b=function(t){return function(){return t}}({}),x(cs,_n);var us=0;function ls(t){t.c.read().then(t.pc.bind(t)).catch(t.Va.bind(t))}function hs(t){t.readyState=4,t.g=null,t.c=null,t.m=null,ds(t)}function ds(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function fs(t){_n.call(this),this.headers=new Tn,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=ps,this.u=this.S=!1}(t=cs.prototype).open=function(t,e){if(this.readyState!=us)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,ds(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Va.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,hs(this)),this.readyState=us},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,ds(this)),this.a&&(this.readyState=3,ds(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):void 0!==a.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,ls(this)):t.text().then(this.tc.bind(this),this.Va.bind(this)))))},t.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?hs(this):ds(this),3==this.readyState&&ls(this)}},t.tc=function(t){this.a&&(this.response=this.responseText=t,hs(this))},t.sc=function(t){this.a&&(this.response=t,hs(this))},t.Va=function(t){var e=this.i;e&&e.log(ts,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&hs(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(ts,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(ts,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(cs.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),x(fs,_n);var ps="";fs.prototype.b=os("goog.net.XhrIo");var ms=/^https?$/i,gs=["POST","PUT"];function bs(t){return"content-type"==t.toLowerCase()}function vs(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,ys(t),ws(t)}function ys(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function _s(t){if(t.c&&void 0!==s)if(t.C[1]&&4==Cs(t)&&2==xs(t))ss(t.b,Os(t,"Local request error detected and ignored"));else if(t.i&&4==Cs(t))xn(t.Wb,0,t);else if(t.dispatchEvent("readystatechange"),4==Cs(t)){ss(t.b,Os(t,"Request complete")),t.c=!1;try{var e,n=xs(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(An)[1]||null;if(!o&&a.self&&a.self.location){var c=a.self.location.protocol;o=c.substr(0,c.length-1)}i=!ms.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var u=2<Cs(t)?t.a.statusText:""}catch(l){ss(t.b,"Can not get status: "+l.message),u=""}t.h=u+" ["+xs(t)+"]",ys(t)}}finally{ws(t)}}}function ws(t,e){if(t.a){Ss(t);var n=t.a,r=t.C[0]?h:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(Zo,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function Ss(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(a.clearTimeout(t.s),t.s=null)}function Cs(t){return t.a?t.a.readyState:0}function xs(t){try{return 2<Cs(t)?t.a.status:-1}catch(e){return-1}}function Os(t,e){return e+" ["+t.P+" "+t.l+" "+xs(t)+"]"}function Es(t){var e=Ls;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function ks(t,e,n){t.a=!0,t.c=n,t.f=!e,As(t)}function Ts(t){if(t.a){if(!t.v)throw new Ps(t);t.v=!1}}function Is(t,e,n,r){t.g.push([e,n,r]),t.a&&As(t)}function Rs(t){return G(t.g,(function(t){return p(t[1])}))}function As(t){if(t.h&&t.a&&Rs(t)){var e=t.h,n=Ns[e];n&&(a.clearTimeout(n.a),delete Ns[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],s=i[1];if(i=i[2],o=t.f?s:o)try{var c=o.call(i||t.s,e);void 0!==c&&(t.f=t.f&&(c==e||c instanceof Error),t.c=e=c),(D(e)||"function"==typeof a.Promise&&e instanceof a.Promise)&&(r=!0,t.i=!0)}catch(u){e=u,t.f=!0,Rs(t)||(n=!0)}}t.c=e,r&&(c=w(t.m,t,!0),r=w(t.m,t,!1),e instanceof Es?(Is(e,c,r),e.C=!0):e.then(c,r)),n&&(e=new js(e),Ns[e.a]=e,t.h=e.a)}function Ps(){j.call(this)}function Ds(){j.call(this)}function js(t){this.a=a.setTimeout(w(this.c,this),0),this.b=t}(t=fs.prototype).Ma=function(){void 0!==s&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ss(this.b,Os(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(ss(this.b,Os(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ws(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),ws(this,!0)),fs.bb.Da.call(this)},t.Wb=function(){this.ya||(this.N||this.i||this.f?_s(this):this.Jc())},t.Jc=function(){_s(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ps:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(Zo,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return ss(this.b,"Can not get response: "+e.message),null}},Es.prototype.cancel=function(t){if(this.a)this.c instanceof Es&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new Ds(this),Ts(this),ks(this,!1,t))}},Es.prototype.m=function(t,e){this.i=!1,ks(this,t,e)},Es.prototype.then=function(t,e,n){var r,i,o=new _e((function(t,e){r=t,i=e}));return Is(this,r,(function(t){t instanceof Ds?o.cancel():i(t)})),o.then(t,e,n)},Es.prototype.$goog_Thenable=!0,x(Ps,j),Ps.prototype.message="Deferred has already fired",Ps.prototype.name="AlreadyCalledError",x(Ds,j),Ds.prototype.message="Deferred was canceled",Ds.prototype.name="CanceledError",js.prototype.c=function(){throw delete Ns[this.a],this.b};var Ns={};function Ms(t){var e={},n=e.document||document,r=Et(t).toString(),i=pe(document,"SCRIPT"),o={Xb:i,Ma:void 0},s=new Es(o),c=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(c=window.setTimeout((function(){Fs(i,!0);var t=new Us(Bs,"Timeout reached for loading script "+r);Ts(s),ks(s,!1,t)}),h),o.Ma=c),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Fs(i,e.xd||!1,c),Ts(s),ks(s,!0,null))},i.onerror=function(){Fs(i,!0,c);var t=new Us(Vs,"Error while loading script "+r);Ts(s),ks(s,!1,t)},bt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ue(i,o),function(t,e){vt(t,"HTMLScriptElement"),t.src=Et(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=a?e=l(e.document):(null===u&&(u=l(a.document)),e=u),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),s}function Ls(){if(this&&this.Xb){var t=this.Xb;t&&"SCRIPT"==t.tagName&&Fs(t,!0,this.Ma)}}function Fs(t,e,n){null!=n&&a.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Vs=0,Bs=1;function Us(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),j.call(this,n),this.code=t}function qs(t){this.f=t}function Ws(t,e,n){if(this.c=t,this.l=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Ks,this.g=mt(t.secureTokenHeaders||Gs),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||Ys,this.a=mt(t.firebaseHeaders||Qs),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==yr(),!(n=a.XMLHttpRequest||n&&r.default.INTERNAL.node&&r.default.INTERNAL.node.XMLHttpRequest)&&!vr())throw new E("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=vr()?new as(self):_r()?new qs(n):new Go,this.b=null}x(Us,j),x(qs,Ho),qs.prototype.a=function(){return new this.f},qs.prototype.b=function(){return{}};var Hs,zs="idToken",Ks=new Fr(3e4,6e4),Gs={"Content-Type":"application/x-www-form-urlencoded"},Ys=new Fr(3e4,6e4),Qs={"Content-Type":"application/json"};function $s(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function Xs(t,e){e&&(t.l=Js("https://securetoken.googleapis.com/v1/token",e),t.h=Js("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=Js("https://identitytoolkit.googleapis.com/v2/",e))}function Js(t,e){return t=Fn(t),e=Fn(e.url),t.f=t.a+t.f,Dn(t,e.c),t.a=e.a,jn(t,e.g),t.toString()}function Zs(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function ta(t,e,n,r,i,o,s){(function(){var t=Or();return!((t="Chrome"!=Sr(t)?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Qt&&se&&!(9<se))})()||vr()?t=w(t.u,t):(Hs||(Hs=new _e((function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(a[na]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Is(t,null,e,void 0)}(Ms(kt(ea,{onload:na})),(function(){e(Error("CORS_UNSUPPORTED"))})))}(t,e)}))),t=w(t.s,t)),t(e,n,r,i,o,s)}Ws.prototype.T=function(){return this.b},Ws.prototype.u=function(t,e,n,r,i,o){if(vr()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new E("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new fs(this.f);if(o){s.g=Math.max(0,o);var c=setTimeout((function(){s.dispatchEvent("timeout")}),o)}wn(s,"complete",(function(){c&&clearTimeout(c);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return ss(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)})),Sn(s,"ready",(function(){c&&clearTimeout(c),He(this)})),Sn(s,"timeout",(function(){c&&clearTimeout(c),He(this),e&&e(null)})),function(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():Vo.a(),t.C=function(t){return t.c||(t.c=t.b())}(t.D?t.D:Vo),t.a.onreadystatechange=w(t.Wb,t);try{ss(t.b,Os(t,"Opening Xhr")),t.N=!0,t.a.open(n,String(e),!0),t.N=!1}catch(s){return ss(t.b,Os(t,"Error opening Xhr: "+s.message)),void vs(t,s)}e=r||"";var o=new Tn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||"string"==typeof t)H(t,e,void 0);else for(var n=kn(t),r=En(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=bs,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=a.FormData&&e instanceof a.FormData,!Y(gs,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{Ss(t),0<t.g&&(t.u=function(t){return Qt&&oe(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),ss(t.b,Os(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=w(t.Ma,t)):t.s=xn(t.Ma,t.g,t)),ss(t.b,Os(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(s){ss(t.b,Os(t,"Send error: "+s.message)),vs(t,s)}}(s,t,n,r,i)};var ea=new yt(Ct,"https://apis.google.com/js/client.js?onload=%{onload}"),na="__fcb"+Math.floor(1e6*Math.random()).toString();function ra(t){if("string"!=typeof(t=t.email)||!pr.test(t))throw new E("invalid-email")}function ia(t){"email"in t&&ra(t)}function oa(t){if(!t[zs]){if(t.mfaPendingCredential)throw new E("multi-factor-auth-required",null,mt(t));throw new E("internal-error")}}function sa(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new E("internal-error")}else{if(!t.sessionInfo)throw new E("missing-verification-id");if(!t.code)throw new E("missing-verification-code")}}Ws.prototype.s=function(t,e,n,r,i){var o=this;Hs.then((function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Ws.prototype.Ab=function(){return Qa(this,La,{})},Ws.prototype.Cb=function(t,e){return Qa(this,Na,{idToken:t,email:e})},Ws.prototype.Db=function(t,e){return Qa(this,Ma,{idToken:t,password:e})};var aa={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ca(t){if(!t.phoneVerificationInfo)throw new E("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new E("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new E("missing-verification-code")}function ua(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new E("internal-error")}function la(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&Jn(t=new Yn(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function ha(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Wo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Wo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Wo(t)):t.errorMessage&&(e=$a(t.errorMessage)),e)throw e;oa(t)}function da(t,e){return e.returnIdpCredential=!0,Qa(t,Ba,e)}function fa(t,e){return e.returnIdpCredential=!0,Qa(t,qa,e)}function pa(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Qa(t,Ua,e)}function ma(t){if(!t.oobCode)throw new E("invalid-action-code")}(t=Ws.prototype).Eb=function(t,e){var n={idToken:t},r=[];return ft(aa,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),Qa(this,Na,n)},t.wb=function(t,e){return bt(t={requestType:"PASSWORD_RESET",email:t},e),Qa(this,Ra,t)},t.xb=function(t,e){return bt(t={requestType:"EMAIL_SIGNIN",email:t},e),Qa(this,ka,t)},t.vb=function(t,e){return bt(t={requestType:"VERIFY_EMAIL",idToken:t},e),Qa(this,Ta,t)},t.Fb=function(t,e,n){return bt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),Qa(this,Ia,t)},t.gb=function(t){return Qa(this,za,t)},t.ob=function(t,e){return Qa(this,Da,{oobCode:t,newPassword:e})},t.Sa=function(t){return Qa(this,ba,{oobCode:t})},t.kb=function(t){return Qa(this,ga,{oobCode:t})};var ga={endpoint:"setAccountInfo",A:ma,Z:"email",B:!0},ba={endpoint:"resetPassword",A:ma,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new E("internal-error")},B:!0},va={endpoint:"signupNewUser",A:function(t){if(ra(t),!t.password)throw new E("weak-password")},G:oa,V:!0,B:!0},ya={endpoint:"createAuthUri",B:!0},_a={endpoint:"deleteAccount",O:["idToken"]},wa={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new E("internal-error")}},Sa={endpoint:"emailLinkSignin",O:["email","oobCode"],A:ra,G:oa,V:!0,B:!0},Ca={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:ra,G:oa,V:!0},xa={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:ca,G:oa,B:!0,Na:!0},Oa={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:ca,G:oa,B:!0,Na:!0},Ea={endpoint:"getAccountInfo"},ka={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new E("internal-error");ra(t)},Z:"email",B:!0},Ta={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new E("internal-error")},Z:"email",B:!0},Ia={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new E("internal-error")},Z:"email",B:!0},Ra={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new E("internal-error");ra(t)},Z:"email",B:!0},Aa={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Pa={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new E("internal-error")}},Da={endpoint:"resetPassword",A:ma,Z:"email",B:!0},ja={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Na={endpoint:"setAccountInfo",O:["idToken"],A:ia,V:!0},Ma={endpoint:"setAccountInfo",O:["idToken"],A:function(t){if(ia(t),!t.password)throw new E("weak-password")},G:oa,V:!0},La={endpoint:"signupNewUser",G:oa,V:!0,B:!0},Fa={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new E("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new E("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new E("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new E("internal-error")},B:!0,Na:!0},Va={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new E("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new E("internal-error")},B:!0,Na:!0},Ba={endpoint:"verifyAssertion",A:ua,Za:la,G:ha,V:!0,B:!0},Ua={endpoint:"verifyAssertion",A:ua,Za:la,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new E("user-not-found");if(t.errorMessage)throw $a(t.errorMessage);oa(t)},V:!0,B:!0},qa={endpoint:"verifyAssertion",A:function(t){if(ua(t),!t.idToken)throw new E("internal-error")},Za:la,G:ha,V:!0},Wa={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new E("invalid-custom-token")},G:oa,V:!0,B:!0},Ha={endpoint:"verifyPassword",A:function(t){if(ra(t),!t.password)throw new E("wrong-password")},G:oa,V:!0,B:!0},za={endpoint:"verifyPhoneNumber",A:sa,G:oa,B:!0},Ka={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new E("internal-error");sa(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Wo(t);oa(t)}},Ga={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:sa,G:oa,B:!0},Ya={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[zs]^!!t.refreshToken)throw new E("internal-error")},B:!0,Na:!0};function Qa(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.O))return Te(new E("internal-error"));var r,i=!!e.Na,o=e.Vb||"POST";return ke(n).then(e.A).then((function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,r,i,o,s){var a=Fn(e+n);Mn(a,"key",t.c),s&&Mn(a,"cb",Date.now().toString());var c="GET"==r;if(c)for(var u in i)i.hasOwnProperty(u)&&Mn(a,u,i[u]);return new _e((function(e,n){ta(t,a.toString(),(function(t){t?t.error?n(Xa(t,o||{})):e(t):n(new E("network-request-failed"))}),r,c?void 0:nr(Dr(i)),t.a,t.v.get())}))}(t,i?t.i:t.h,e.endpoint,o,n,e.Ib,e.mb||!1)})).then((function(t){return r=t,e.Za?e.Za(n,r):r})).then(e.G).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new E("internal-error");return r[e.Z]}))}function $a(t){return Xa({error:{errors:[{message:t}],code:400,message:t}})}function Xa(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new E(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",bt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new E(r[i],e);return!e&&t&&(e=Pr(t)),new E("internal-error",e)}function Ja(t){this.b=t,this.a=null,this.sb=function(t){return(nc||(nc=new _e((function(t,e){function n(){Lr(),Er("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Lr(),e(Error("Network Error"))},timeout:tc.get()})}if(Er("gapi.iframes.Iframe"))t();else if(Er("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();a[r]=function(){Er("gapi.load")?n():e(Error("Network Error"))},ke(Ms(r=kt(Za,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw nc=null,t})))).then((function(){return new _e((function(e,n){Er("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Er("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),ec.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var Za=new yt(Ct,"https://apis.google.com/js/api.js?onload=%{onload}"),tc=new Fr(3e4,6e4),ec=new Fr(5e3,15e3),nc=null;function rc(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,t=this.g?Vn((t=Fn(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):Vn("https",this.l,null,"/__/auth/iframe"),this.a=t,Mn(this.a,"apiKey",this.h),Mn(this.a,"appName",this.i),this.b=null,this.c=[]}function ic(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function oc(t){try{return r.default.app(t).auth().Ga()}catch(e){return[]}}function sc(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function ac(t){var e=cr();return function(t){return Qa(t,Aa,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Fn(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=Fn(o).a==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:fr.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new Uo(cr())}))}function cc(t){return t.m||(t.m=mr().then((function(){if(!t.u){var e=t.c,n=t.i,r=oc(t.b),i=new rc(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=J(r||[]),t.u=i.toString()}t.v=new Ja(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.sb.then((function(){t.a.register("authEvent",e,Er("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.v,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Lo(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",ke(n)}return n.status="ERROR",ke(n)}))}(t)}))),t.m}function uc(t){return t.l||(t.C=t.c?xr(t.c,oc(t.b)):null,t.l=new Ws(t.g,P(t.i),t.C),t.f&&Xs(t.l,t.f)),t.l}function lc(t,e,n,r,i,o,s,a,c,u,l,h){return(t=new ic(t,e,n,r,i,h)).l=o,t.g=s,t.i=a,t.b=mt(c||null),t.f=u,t.zb(l).toString()}function hc(t){if(this.a=t||r.default.INTERNAL.reactNative&&r.default.INTERNAL.reactNative.AsyncStorage,!this.a)throw new E("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function dc(t){this.b=t,this.a={},this.f=w(this.c,this)}rc.prototype.toString=function(){return this.f?Mn(this.a,"v",this.f):Xn(this.a.b,"v"),this.b?Mn(this.a,"eid",this.b):Xn(this.a.b,"eid"),this.c.length?Mn(this.a,"fw",this.c.join(",")):Xn(this.a.b,"fw"),this.a.toString()},ic.prototype.zb=function(t){return this.h=t,this},ic.prototype.toString=function(){if(this.v){var t=Fn(this.v.url);t=Vn(t.c,t.a,t.g,"/emulator/auth/handler")}else t=Vn("https",this.u,null,"/__/auth/handler");if(Mn(t,"apiKey",this.s),Mn(t,"appName",this.c),Mn(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=r.default.app(this.c).auth().la()}catch(c){n=null}for(var i in e.pb=n,Mn(t,"providerId",this.a.providerId),e=Dr((n=this.a).Jb))e[i]=e[i].toString();i=n.Qc,e=mt(e);for(var o=0;o<i.length;o++){var s=i[o];s in e&&delete e[s]}n.qb&&n.pb&&!e[n.qb]&&(e[n.qb]=n.pb),pt(e)||Mn(t,"customParameters",Pr(e))}if("function"==typeof this.a.Rb&&(n=this.a.Rb()).length&&Mn(t,"scopes",n.join(",")),this.l?Mn(t,"redirectUrl",this.l):Xn(t.b,"redirectUrl"),this.g?Mn(t,"eventId",this.g):Xn(t.b,"eventId"),this.i?Mn(t,"v",this.i):Xn(t.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Ln(t,a)&&Mn(t,a,this.b[a]);return this.h?Mn(t,"tid",this.h):Xn(t.b,"tid"),this.f?Mn(t,"eid",this.f):Xn(t.b,"eid"),(a=oc(this.c)).length&&Mn(t,"fw",a.join(",")),t.toString()},(t=sc.prototype).Pb=function(t,e,n){var r=new E("popup-closed-by-user"),i=new E("web-storage-unsupported"),o=this,s=!1;return this.ma().then((function(){(function(t){var e={type:"webStorageSupport"};return cc(t).then((function(){return function(t,e){return t.sb.then((function(){return new _e((function(n){t.a.send(e.type,e,n,Er("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.v,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&hr(t),e(i),s=!0)}))})).o((function(){})).then((function(){if(!s)return function(t){return new _e((function(e){return function n(){On(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!s)return On(n).then((function(){e(r)}))}))},t.Yb=function(){var t=Or();return!Ar(t)&&!Mr(t)},t.Ub=function(){return!1},t.Nb=function(t,e,n,r,i,o,s,a){if(!t)return Te(new E("popup-blocked"));if(s&&!Ar())return this.ma().o((function(e){hr(t),i(e)})),r(),ke();this.a||(this.a=ac(uc(this)));var c=this;return this.a.then((function(){var e=c.ma().o((function(e){throw hr(t),i(e),e}));return r(),e})).then((function(){No(n),s||ur(lc(c.s,c.g,c.b,e,n,null,o,c.c,void 0,c.i,a,c.f),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(c.a=null),t}))},t.Ob=function(t,e,n,r){this.a||(this.a=ac(uc(this)));var i=this;return this.a.then((function(){No(e),ur(lc(i.s,i.g,i.b,t,e,cr(),n,i.c,void 0,i.i,r,i.f))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.ma=function(){var t=this;return cc(this).then((function(){return t.v.sb})).o((function(){throw t.a=null,new E("network-request-failed")}))},t.ac=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Ta=function(t){$(this.h,(function(e){return e==t}))},(t=hc.prototype).get=function(t){return ke(this.a.getItem(t)).then((function(t){return t&&jr(t)}))},t.set=function(t,e){return ke(this.a.setItem(t,Pr(e)))},t.U=function(t){return ke(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var fc,pc=[];function mc(t,e,n){pt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function gc(t){this.a=t}function bc(t){this.c=t,this.b=!1,this.a=[]}function vc(t,e,n,r){var i,o,s,a,c=n||{},u=null;if(t.b)return Te(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new _e((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),s=setTimeout((function(){r(Error("unsupported_event"))}),l),t.a.push(u={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:c},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return yc(t,u),e})).o((function(e){throw yc(t,u),e}))}function yc(t,e){if(e){var n=e.messageChannel;n&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),$(t.a,(function(t){return t==e}))}}function _c(){if(!Cc())throw new E("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=a.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;vr()&&self?(this.v=function(){var t=vr()?self:null;if(H(pc,(function(n){n.b==t&&(e=n)})),!e){var e=new dc(t);pc.push(e)}return e}(),mc(this.v,"keyChanged",(function(e,n){return Tc(t).then((function(e){return 0<e.length&&H(t.a,(function(t){t(e)})),{keyProcessed:Y(e,n.key)}}))})),mc(this.v,"ping",(function(){return ke(["keyChanged"])}))):function(){var t=a.navigator;return t&&t.serviceWorker?ke().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):ke(null)}().then((function(e){(t.h=e)&&(t.g=new bc(new gc(e)),vc(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&Y(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function wc(t){return t.i||(t.i=function t(e){return new _e((function(n,r){var i=e.m.open("firebaseLocalStorageDb",1);i.onerror=function(t){try{t.preventDefault()}catch(e){}r(Error(t.target.error))},i.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){r(e)}},i.onsuccess=function(i){(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(i):function(t){return new _e((function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(e).then((function(){return t(e)})).then((function(t){n(t)})).o((function(t){r(t)}))}}))}(t)),t.i}function Sc(t,e){var n=0;return new _e((function r(i,o){wc(t).then(e).then(i).o((function(e){if(!(3<++n))return wc(t).then((function(e){return e.close(),t.i=void 0,r(i,o)})).o((function(t){o(t)}));o(e)}))}))}function Cc(){try{return!!a.indexedDB}catch(Gt){return!1}}function xc(t){return t.objectStore("firebaseLocalStorage")}function Oc(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Ec(t){return new _e((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function kc(t,e){return t.g&&t.h&&function(){var t=a.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?vc(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):ke()}function Tc(t){return wc(t).then((function(t){var e=xc(Oc(t,!1));return e.getAll?Ec(e.getAll()):new _e((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n?typeof e[r]!=typeof n[r]?i.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.c,n),t.c=n}return r}))}function Ic(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Rc(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=ke().then((function(){if(Cc()){var t=Nr(),r="__sak"+t;return fc||(fc=new _c),(n=fc).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){H(e.a,(function(e){e(t)}))})),t}))}function Ac(){this.a={},this.type="inMemory"}function Pc(){if(!function(){var t="Node"==yr();if(!(t=Dc()||t&&r.default.INTERNAL.node&&r.default.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==yr())throw new E("internal-error","The LocalStorage compatibility library was not found.");throw new E("web-storage-unsupported")}this.a=Dc()||r.default.INTERNAL.node.localStorage,this.type="localStorage"}function Dc(){try{var t=a.localStorage,e=Nr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function jc(){this.type="nullStorage"}function Nc(){if(!function(){var t="Node"==yr();if(!(t=Mc()||t&&r.default.INTERNAL.node&&r.default.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==yr())throw new E("internal-error","The SessionStorage compatibility library was not found.");throw new E("web-storage-unsupported")}this.a=Mc()||r.default.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Mc(){try{var t=a.sessionStorage,e=Nr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Lc(){var t={};t.Browser=Bc,t.Node=Uc,t.ReactNative=qc,t.Worker=Wc,this.a=t[yr()]}dc.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];H(r,(function(e){i.push(ke().then((function(){return e(t.origin,t.data.data)})))})),Re(i).then((function(r){var i=[];H(r,(function(t){i.push({fulfilled:t.Qb,value:t.value,reason:t.reason?t.reason.message:void 0})})),H(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},gc.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},bc.prototype.close=function(){for(;0<this.a.length;)yc(this,this.a[0]);this.b=!0},(t=_c.prototype).set=function(t,e){var n=this,r=!1;return Sc(this,(function(e){return Ec((e=xc(Oc(e,!0))).get(t))})).then((function(i){return Sc(n,(function(o){if(o=xc(Oc(o,!0)),i)return i.value=e,Ec(o.put(i));n.b++,r=!0;var s={};return s.fbase_key=t,s.value=e,Ec(o.add(s))}))})).then((function(){return n.c[t]=e,kc(n,t)})).oa((function(){r&&n.b--}))},t.get=function(t){return Sc(this,(function(e){return Ec(xc(Oc(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.U=function(t){var e=this,n=!1;return Sc(this,(function(r){return n=!0,e.b++,Ec(xc(Oc(r,!0)).delete(t))})).then((function(){return delete e.c[t],kc(e,t)})).oa((function(){n&&e.b--}))},t.ca=function(t){0==this.a.length&&function(t){Ic(t),function e(){t.f=setTimeout((function(){t.l=Tc(t).then((function(e){0<e.length&&H(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}()}(this),this.a.push(t)},t.ia=function(t){$(this.a,(function(e){return e==t})),0==this.a.length&&Ic(this)},(t=Rc.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.U=function(t){return this.b.then((function(e){return e.U(t)}))},t.ca=function(t){this.a.push(t)},t.ia=function(t){$(this.a,(function(e){return e==t}))},(t=Ac.prototype).get=function(t){return ke(this.a[t])},t.set=function(t,e){return this.a[t]=e,ke()},t.U=function(t){return delete this.a[t],ke()},t.ca=function(){},t.ia=function(){},(t=Pc.prototype).get=function(t){var e=this;return ke().then((function(){return jr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return ke().then((function(){var r=Pr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return ke().then((function(){e.a.removeItem(t)}))},t.ca=function(t){a.window&&cn(a.window,"storage",t)},t.ia=function(t){a.window&&hn(a.window,"storage",t)},(t=jc.prototype).get=function(){return ke(null)},t.set=function(){return ke()},t.U=function(){return ke()},t.ca=function(){},t.ia=function(){},(t=Nc.prototype).get=function(t){var e=this;return ke().then((function(){return jr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return ke().then((function(){var r=Pr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return ke().then((function(){e.a.removeItem(t)}))},t.ca=function(){},t.ia=function(){};var Fc,Vc,Bc={F:Pc,cb:Nc},Uc={F:Pc,cb:Nc},qc={F:hc,cb:jc},Wc={F:Pc,cb:jc},Hc={rd:"local",NONE:"none",td:"session"};function zc(){var t=!(Mr(Or())||!br()),e=Ar(),n=kr();this.m=t,this.h=e,this.l=n,this.a={},Fc||(Fc=new Lc),t=Fc;try{this.g=!ar()&&Ur()||!a.indexedDB?new t.a.F:new Rc(vr()?new Ac:new t.a.F)}catch(r){this.g=new Ac,this.h=!0}try{this.i=new t.a.cb}catch(r){this.i=new Ac}this.v=new Ac,this.f=w(this.Zb,this),this.b={}}function Kc(){return Vc||(Vc=new zc),Vc}function Gc(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function Yc(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Qc(t,e,n){return n=Yc(e,n),"local"==e.F&&(t.b[n]=null),Gc(t,e.F).U(n)}function $c(t){t.c&&(clearInterval(t.c),t.c=null)}function Xc(t){this.a=t,this.b=Kc()}(t=zc.prototype).get=function(t,e){return Gc(this,t.F).get(Yc(t,e))},t.set=function(t,e,n){var r=Yc(t,n),i=this,o=Gc(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.F&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=Yc(t,e),this.l&&(this.b[t]=a.localStorage.getItem(t)),pt(this.a)&&(Gc(this,"local").ca(this.f),this.h||(ar()||!Ur())&&a.indexedDB||!this.l||function(t){$c(t),t.c=setInterval((function(){for(var e in t.a){var n=a.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new $e({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Zb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=Yc(t,e),this.a[t]&&($(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),pt(this.a)&&(Gc(this,"local").ia(this.f),$c(this))},t.Zb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=a.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.nb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Gc(this,"local").ia(this.f):$c(this),this.m)if(n=a.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?a.localStorage.setItem(e,r):a.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===a.localStorage.getItem(e)||(o.b[e]=a.localStorage.getItem(e),o.nb(e))},Qt&&se&&10==se&&a.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else H(t,w(this.nb,this))},t.nb=function(t){this.a[t]&&H(this.a[t],(function(t){t()}))};var Jc,Zc={name:"authEvent",F:"local"};function tu(){this.a=Kc()}function eu(t,e){this.b=nu,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0===Jc&&(Jc=a.Int32Array?new Int32Array(uu):uu),this.reset()}x(eu,(function(){this.b=-1}));for(var nu=64,ru=nu-1,iu=[],ou=0;ou<ru;ou++)iu[ou]=0;var su=X(128,iu);function au(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){var o=(0|n[e-16])+(((i=0|n[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+(((r=0|n[e-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],c=0|t.a[3],u=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var d=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))|0)+((s=(s=u&l^~u&h)+(0|Jc[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=u,u=c+s|0,c=a,a=i,i=r,r=s+d|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+c|0,t.a[4]=t.a[4]+u|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function cu(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(au(t),i=0);else{if(!f(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(au(t),i=0)}}t.c=i,t.g+=n}eu.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):J(this.h)};var uu=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function lu(){eu.call(this,8,hu)}x(lu,eu);var hu=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function du(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new tu,this.g=new Xc(this.h),this.f=null,this.b=[],this.a=this.c=null}function fu(t){return new E("invalid-cordova-configuration",t)}function pu(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function mu(t){return t.f||(t.f=t.ma().then((function(){return new _e((function(e){t.Ea((function n(r){return e(r),t.Ta(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),gu(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=to(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=jr(Ln(o=Fn(i),"firebaseError")||null))?k(o):null)?new Mo(r.c,r.b,null,null,o,null,r.T()):new Mo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}pu(t,i)}))}var n=new Mo("unknown",null,null,null,new E("no-auth-event")),r=!1,i=On(500).then((function(){return gu(t).then((function(){r||pu(t,n)}))})),o=a.handleOpenURL;a.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Er("BuildInfo.packageName",a).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(n){console.error(n)}},Bo||(Bo=new Fo),function(t){var e=Bo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Er("universalLinks.subscribe",a))&&t(null,e.b))}(e)}(t)}))}))),t.f}function gu(t){var e=null;return function(t){return t.b.get(Zc,t.a).then((function(t){return Lo(t)}))}(t.g).then((function(n){return e=n,Qc((n=t.g).b,Zc,n.a)})).then((function(){return e}))}function bu(t){this.a=t,this.b=Kc()}(t=du.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(gr(void 0)?mr().then((function(){return new _e((function(t,e){var n=a.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Te(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Er("universalLinks.subscribe",a))throw fu("cordova-universal-links-plugin-fix is not installed");if(void 0===Er("BuildInfo.packageName",a))throw fu("cordova-plugin-buildinfo is not installed");if("function"!=typeof Er("cordova.plugins.browsertab.openUrl",a))throw fu("cordova-plugin-browsertab is not installed");if("function"!=typeof Er("cordova.InAppBrowser.open",a))throw fu("cordova-plugin-inappbrowser is not installed")}),(function(){throw new E("cordova-not-ready")}))},t.Pb=function(t,e){return e(new E("operation-not-supported-in-this-environment")),ke()},t.Nb=function(){return Te(new E("operation-not-supported-in-this-environment"))},t.ac=function(){return!1},t.Yb=function(){return!0},t.Ub=function(){return!0},t.Ob=function(t,e,n,r){if(this.c)return Te(new E("redirect-operation-pending"));var i=this,o=a.document,s=null,c=null,u=null,l=null;return this.c=ke().then((function(){return No(e),mu(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new Mo(e,r,null,o,new E("no-auth-event"),null,i),c=Er("BuildInfo.packageName",a);if("string"!=typeof c)throw new E("invalid-cordova-configuration");var u=Er("BuildInfo.displayName",a),l={};if(Or().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=c;else{if(!Or().toLowerCase().match(/android/))return Te(new E("operation-not-supported-in-this-environment"));l.apn=c}u&&(l.appDisplayName=u),o=function(t){var e=new lu;cu(e,t),t=[];var n=8*e.g;cu(e,su,56>e.c?56-e.c:e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(au(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return K(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}(o),l.sessionId=o;var h=lc(t.v,t.i,t.l,e,n,null,r,t.m,l,t.u,i,t.s);return t.ma().then((function(){var e=t.h;return t.C.a.set(Zc,s.w(),e)})).then((function(){var e=Er("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof e)throw new E("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=Er("cordova.plugins.browsertab.openUrl",a)))throw new E("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Er("cordova.InAppBrowser.open",a)))throw new E("invalid-cordova-configuration");e=Or(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new _e((function(t,e){c=function(){var e=Er("cordova.plugins.browsertab.close",a);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(c),l=function(){Vr()&&u()},o.addEventListener("resume",u=function(){s||(s=On(2e3).then((function(){e(new E("redirect-cancelled-by-user"))})))},!1),Or().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(t){return gu(i).then((function(){throw t}))}))})).oa((function(){u&&o.removeEventListener("resume",u,!1),l&&o.removeEventListener("visibilitychange",l,!1),s&&s.cancel(),c&&i.Ta(c),i.c=null}))},t.Ea=function(t){this.b.push(t),mu(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Mo("unknown",null,null,null,new E("no-auth-event")),t(e))}))},t.Ta=function(t){$(this.b,(function(e){return e==t}))};var vu={name:"pendingRedirect",F:"session"};function yu(t){return Qc(t.b,vu,t.a)}function _u(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=w(this.s,this),this.b=new Nu,this.C=new Bu,this.g=new bu(Du(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=wu(this.D,this.v,this.m,T,this.J)}function wu(t,e,n,i,o){var s=r.default.SDK_VERSION||null;return gr()?new du(t,e,n,s,i,o):new sc(t,e,n,s,i,o)}function Su(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o((function(n){throw t.a==e&&t.reset(),n}))}function Cu(t){t.a.Yb()&&Su(t).o((function(e){var n=new Mo("unknown",null,null,null,new E("operation-not-supported-in-this-environment"));Iu(e)&&t.s(n)})),t.a.Ub()||Mu(t.b)}function xu(t,e){Y(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(vu,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?yu(t.g).then((function(){Su(t).o((function(e){var n=new Mo("unknown",null,null,null,new E("operation-not-supported-in-this-environment"));Iu(e)&&t.s(n)}))})):Cu(t)})).o((function(){Cu(t)}))}function Ou(t,e){$(t.h,(function(t){return t==e}))}_u.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=wu(this.D,this.v,this.m,null,this.J),this.i={}},_u.prototype.s=function(t){if(!t)throw new E("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=Date.now())),e=!0;break}}return Mu(this.b),e};var Eu=new Fr(2e3,1e4),ku=new Fr(3e4,6e4);function Tu(t,e,n,r,i,o,s){return t.a.Nb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,s)}function Iu(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Ru(t,e,n,r,i){var o;return function(t){return t.b.set(vu,"pending",t.a)}(t.g).then((function(){return t.a.Ob(e,n,r,i).o((function(e){if(Iu(e))throw new E("operation-not-supported-in-this-environment");return o=e,yu(t.g).then((function(){throw o}))})).then((function(){return t.a.ac()?new _e((function(){})):yu(t.g).then((function(){return t.ra()})).then((function(){})).o((function(){}))}))}))}function Au(t,e,n,r,i){return t.a.Pb(r,(function(t){e.na(n,null,t,i)}),Eu.get())}_u.prototype.ra=function(){return this.b.ra()};var Pu={};function Du(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function ju(t,e,n,r){var i=Du(e,n,r);return Pu[i]||(Pu[i]=new _u(t,e,n,r)),Pu[i]}function Nu(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Mu(t){t.g||(t.g=!0,Vu(t,!1,null,null))}function Lu(t){t.g&&!t.i&&Vu(t,!1,null,null)}function Fu(t,e){if(t.b=function(){return ke(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Vu(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Te(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Fu(t,n):Fu(t,{user:null}),t.f=[],t.c=[]}function Bu(){}function Uu(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(t){this.jb=t},enumerable:!1})}function qu(t,e){this.a=e,Kr(this,"verificationId",t)}function Wu(t,e,n,r){return new Po(t).gb(e,n).then((function(t){return new qu(t,r)}))}function Hu(t){var e=Bi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new E("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Gr(this,{token:t,expirationTime:Br(1e3*e.exp),authTime:Br(1e3*e.auth_time),issuedAtTime:Br(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function zu(t,e,n){var r=e&&e[Gu];if(!r)throw new E("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=mt(e),this.g=n,this.c=new eo(null,r),this.b=[];var i=this;H(e[Ku]||[],(function(t){(t=Xr(t))&&i.b.push(t)})),Kr(this,"auth",this.a),Kr(this,"session",this.c),Kr(this,"hints",this.b)}Nu.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Nu.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Vu(this,!0,null,t.a),ke()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,s=e.T(),a=!!e.c.match(/Redirect$/);n(r,i,s,o).then((function(e){Vu(t,a,e,null)})).o((function(e){Vu(t,a,null,e)}))}(this,t,e):Te(new E("invalid-auth-event")):(Vu(this,!1,null,null),ke())}else Te(new E("invalid-auth-event"))},Nu.prototype.ra=function(){var t=this;return new _e((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new E("timeout");t.a&&t.a.cancel(),t.a=On(ku.get()).then((function(){t.b||(t.g=!0,Vu(t,!0,null,e))}))}(t))}))},Bu.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),ke()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then((function(t){e.na(r,t,null,n)})).o((function(t){e.na(r,null,t,n)}))}(t,e):Te(new E("invalid-auth-event"))}else Te(new E("invalid-auth-event"))},qu.prototype.confirm=function(t){return t=Do(this.verificationId,t),this.a(t)};var Ku="mfaInfo",Gu="mfaPendingCredential";function Yu(t,e,n,r){E.call(this,"multi-factor-auth-required",r,e),this.b=new zu(t,e,n),Kr(this,"resolver",this.b)}function Qu(t,e,n){if(t&&m(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new Yu(e,t.serverResponse,n,t.message)}catch(r){}return null}function $u(){}function Xu(t){Kr(this,"factorId",t.fa),this.a=t}function Ju(t){if(Xu.call(this,t),this.a.fa!=Po.PROVIDER_ID)throw new E("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function Zu(t,e){for(var n in Qe.call(this,t),e)this[n]=e[n]}function tl(t,e){this.a=t,this.b=[],this.c=w(this.yc,this),cn(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&H(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[ti]=t.uid),t.displayName&&(r[Jr]=t.displayName),t.enrollmentTime&&(r[Zr]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ei]=t.phoneNumber);try{e=new ni(r)}catch(i){}t=e}else t=null;t&&n.push(t)})),el(this,n)}function el(t,e){t.b=e,Kr(t,"enrolledFactors",e)}function nl(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function rl(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function il(t,e){void 0===e&&(e=t.b?(e=t.b).a-e.g:0),t.c=Date.now()+1e3*e}function ol(t,e){t.b=Vi(e[zs]||""),t.a=e.refreshToken,il(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function sl(t,e){this.a=t||null,this.b=e||null,Gr(this,{lastSignInTime:Br(e||null),creationTime:Br(t||null)})}function al(t,e,n,r,i,o){Gr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function cl(t,e,n){this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var i=r.default.SDK_VERSION?xr(r.default.SDK_VERSION):null;this.a=new Ws(this.l,P(T),i),(this.u=t.emulatorConfig||null)&&Xs(this.a,this.u),this.h=new rl(this.a),bl(this,e[zs]),ol(this.h,e),Kr(this,"refreshToken",this.h.a),_l(this,n||{}),_n.call(this),this.P=!1,this.s&&Tr()&&(this.b=ju(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(t){return new nl((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.h.c-Date.now()-3e5;return 0<e?e:0}))}(this),this.ba=w(this.ib,this);var o=this;this.za=null,this.Pa=function(t){o.xa(t.h)},this.qa=null,this.Ba=function(t){ul(o,t.c)},this.$=null,this.aa=[],this.Oa=function(t){dl(o,t.f)},this.ja=null,this.S=new tl(this,n),Kr(this,"multiFactor",this.S)}function ul(t,e){t.u=e,Xs(t.a,e),t.b&&(e=t.b,t.b=ju(t.s,t.l,t.m,t.u),t.P&&(Ou(e,t),xu(t.b,t)))}function ll(t,e){t.qa&&hn(t.qa,"languageCodeChanged",t.Pa),(t.qa=e)&&cn(e,"languageCodeChanged",t.Pa)}function hl(t,e){t.$&&hn(t.$,"emulatorConfigChanged",t.Ba),(t.$=e)&&cn(e,"emulatorConfigChanged",t.Ba)}function dl(t,e){t.aa=e,Zs(t.a,r.default.SDK_VERSION?xr(r.default.SDK_VERSION,t.aa):null)}function fl(t,e){t.ja&&hn(t.ja,"frameworkChanged",t.Oa),(t.ja=e)&&cn(e,"frameworkChanged",t.Oa)}function pl(t){try{return r.default.app(t.m).auth()}catch(e){throw new E("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function ml(t){t.J||t.D.b||(t.D.start(),hn(t,"tokenChanged",t.ba),cn(t,"tokenChanged",t.ba))}function gl(t){hn(t,"tokenChanged",t.ba),t.D.stop()}function bl(t,e){t.Aa=e,Kr(t,"_lat",e)}function vl(t){for(var e=[],n=0;n<t.W.length;n++)e.push(t.W[n](t));return Re(e).then((function(){return t}))}function yl(t){t.b&&!t.P&&(t.P=!0,xu(t.b,t))}function _l(t,e){Gr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new sl(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function wl(){}function Sl(t){return ke().then((function(){if(t.J)throw new E("app-deleted")}))}function Cl(t){return K(t.providerData,(function(t){return t.providerId}))}function xl(t,e){e&&(Ol(t,e.providerId),t.providerData.push(e))}function Ol(t,e){$(t.providerData,(function(t){return t.providerId==e}))}function El(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Kr(t,e,n)}function kl(t,e){t!=e&&(Gr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),Kr(t,"metadata",e.metadata?function(t){return new sl(t.a,t.b)}(e.metadata):new sl),H(e.providerData,(function(e){xl(t,e)})),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.h,e.h),Kr(t,"refreshToken",t.h.a),el(t.S,e.S.b))}function Tl(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return Qa(t.a,Ea,{idToken:e}).then(w(t.Kc,t))}(t,e).then((function(){return n||El(t,"isAnonymous",!1),e}))}))}function Il(t,e){e[zs]&&t.Aa!=e[zs]&&(ol(t.h,e),t.dispatchEvent(new Zu("tokenChanged")),bl(t,e[zs]),El(t,"refreshToken",t.h.a))}function Rl(t,e){return Tl(t).then((function(){if(Y(Cl(t),e))return vl(t).then((function(){throw new E("provider-already-linked")}))}))}function Al(t,e,n){return Yr({user:t,credential:jo(e),additionalUserInfo:e=zi(e),operationType:n})}function Pl(t,e){return Il(t,e),t.reload().then((function(){return t}))}function Dl(t,e,n,i,o){if(!Tr())return Te(new E("operation-not-supported-in-this-environment"));if(t.i&&!o)return Te(t.i);var s=Hi(n.providerId),a=Nr(t.uid+":::"),c=null;(!Ar()||br())&&t.s&&n.isOAuthProvider&&(c=lc(t.s,t.l,t.m,e,n,null,a,r.default.SDK_VERSION||null,null,null,t.tenantId,t.u));var u=dr(c,s&&s.va,s&&s.ua);return i=i().then((function(){if(Nl(t),!o)return t.I().then((function(){}))})).then((function(){return Tu(t.b,u,e,n,a,!!c,t.tenantId)})).then((function(){return new _e((function(n,r){t.na(e,null,new E("cancelled-popup-request"),t.g||null),t.f=n,t.C=r,t.g=a,t.c=Au(t.b,t,e,u,a)}))})).then((function(t){return u&&hr(u),t?Yr(t):null})).o((function(t){throw u&&hr(u),t})),Ml(t,i,o)}function jl(t,e,n,r,i){if(!Tr())return Te(new E("operation-not-supported-in-this-environment"));if(t.i&&!i)return Te(t.i);var o=null,s=Nr(t.uid+":::");return r=r().then((function(){if(Nl(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=s,vl(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set(Vl,t.w(),e.a)),e})).then((function(){return Ru(t.b,e,n,s,t.tenantId)})).o((function(e){if(o=e,t.ha)return Bl(t.ha);throw o})).then((function(){if(o)throw o})),Ml(t,r,i)}function Nl(t){if(!t.b||!t.P){if(t.b&&!t.P)throw new E("internal-error");throw new E("auth-domain-config-required")}}function Ml(t,e,n){var r=function(t,e,n){return t.i&&!n?(e.cancel(),Te(t.i)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.i||t.dispatchEvent(new Zu("userInvalidated")),t.i=e),e}))}(t,e,n);return t.N.push(r),r.oa((function(){Q(t.N,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Qu(e.w(),pl(t),w(t.jc,t))),n||e}))}function Ll(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[zs]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new cl(e,n,t);return t.providerData&&H(t.providerData,(function(t){t&&xl(i,Yr(t))})),t.redirectEventId&&(i.ga=t.redirectEventId),i}function Fl(t){this.a=t,this.b=Kc()}zu.prototype.Rc=function(t){var e=this;return t.tb(this.a.a,this.c).then((function(t){var n=mt(e.f);return delete n[Ku],delete n[Gu],bt(n,t),e.g(n)}))},x(Yu,E),$u.prototype.tb=function(t,e,n){return e.type==no?function(t,e,n,r){return n.Ha().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),bt(n,{phoneVerificationInfo:Ao(t.a)}),Qa(e,xa,n)}))}(this,t,e,n):function(t,e,n){return n.Ha().then((function(n){return bt(n={mfaPendingCredential:n},{phoneVerificationInfo:Ao(t.a)}),Qa(e,Oa,n)}))}(this,t,e)},x(Xu,$u),x(Ju,Xu),x(Zu,Qe),(t=tl.prototype).yc=function(t){el(this,function(t){var e=[];return H(t.mfaInfo||[],(function(t){(t=Xr(t))&&e.push(t)})),e}(t.hd))},t.Sb=function(){return this.a.I().then((function(t){return new eo(t,null)}))},t.fc=function(t,e){var n=this,r=this.a.a;return this.Sb().then((function(n){return t.tb(r,n,e)})).then((function(t){return Il(n.a,t),n.a.reload()}))},t.bd=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return Qa(r,Ya,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=z(e.b,(function(t){return t.uid!=n}));return el(e,r),Il(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.w=function(){return{multiFactor:{enrolledFactors:K(this.b,(function(t){return t.w()}))}}},nl.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=On(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then((function(){return function(){var t=a.document,e=null;return Vr()||!t?ke():new _e((function(n){e=function(){Vr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return e.h()})).then((function(){t(e,!0)})).o((function(n){e.i(n)&&t(e,!1)}))}(this,!0)},nl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},rl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},rl.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Te(new E("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?function(t,e){return function(t,e){return new _e((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?ta(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(Xa(t)):t.access_token&&t.refresh_token?n(t):r(new E("internal-error")):r(new E("network-request-failed"))}),"POST",$n(e).toString(),t.g,t.m.get()):r(new E("internal-error"))}))}(t.f,e).then((function(e){return t.b=Vi(e.access_token),t.a=e.refresh_token,il(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}(this,{grant_type:"refresh_token",refresh_token:this.a}):ke(null):ke({accessToken:this.b.toString(),refreshToken:this.a})},sl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},x(cl,_n),cl.prototype.xa=function(t){this.za=t,$s(this.a,t)},cl.prototype.la=function(){return this.za},cl.prototype.Ga=function(){return J(this.aa)},cl.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},Kr(cl.prototype,"providerId","firebase"),(t=cl.prototype).reload=function(){var t=this;return Ml(this,Sl(this).then((function(){return Tl(t).then((function(){return vl(t)})).then(wl)})))},t.oc=function(t){return this.I(t).then((function(t){return new Hu(t)}))},t.I=function(t){var e=this;return Ml(this,Sl(this).then((function(){return e.h.getToken(t)})).then((function(t){if(!t)throw new E("internal-error");return t.accessToken!=e.Aa&&(bl(e,t.accessToken),e.dispatchEvent(new Zu("tokenChanged"))),El(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Kc=function(t){if(!(t=t.users)||!t.length)throw new E("internal-error");_l(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?K(t,(function(t){return new al(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)xl(this,e[n]);El(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new Zu("userReloaded",{hd:t}))},t.Lc=function(t){return Hr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(t)},t.ub=function(t){var e=this,n=null;return Ml(this,t.c(this.a,this.uid).then((function(t){return Il(e,t),n=Al(e,t,"reauthenticate"),e.i=null,e.reload()})).then((function(){return n})),!0)},t.Cc=function(t){return Hr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(t)},t.rb=function(t){var e=this,n=null;return Ml(this,Rl(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Al(e,t,"link"),Pl(e,t)})).then((function(){return n})))},t.Dc=function(t,e){var n=this;return Ml(this,Rl(this,"phone").then((function(){return Wu(pl(n),t,e,w(n.rb,n))})))},t.Mc=function(t,e){var n=this;return Ml(this,ke().then((function(){return Wu(pl(n),t,e,w(n.ub,n))})),!0)},t.Cb=function(t){var e=this;return Ml(this,this.I().then((function(n){return e.a.Cb(n,t)})).then((function(t){return Il(e,t),e.reload()})))},t.ed=function(t){var e=this;return Ml(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return Il(e,t),e.reload()})))},t.Db=function(t){var e=this;return Ml(this,this.I().then((function(n){return e.a.Db(n,t)})).then((function(t){return Il(e,t),e.reload()})))},t.Eb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Sl(this);var e=this;return Ml(this,this.I().then((function(n){return e.a.Eb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Il(e,t),El(e,"displayName",t.displayName||null),El(e,"photoURL",t.photoUrl||null),H(e.providerData,(function(t){"password"===t.providerId&&(Kr(t,"displayName",e.displayName),Kr(t,"photoURL",e.photoURL))})),vl(e)})).then(wl))},t.cd=function(t){var e=this;return Ml(this,Tl(this).then((function(n){return Y(Cl(e),t)?function(t,e,n){return Qa(t,wa,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return H(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),H(Cl(e),(function(t){n[t]||Ol(e,t)})),n[Po.PROVIDER_ID]||Kr(e,"phoneNumber",null),vl(e)})):vl(e).then((function(){throw new E("no-such-provider")}))})))},t.delete=function(){var t=this;return Ml(this,this.I().then((function(e){return Qa(t.a,_a,{idToken:e})})).then((function(){t.dispatchEvent(new Zu("userDeleted"))}))).then((function(){for(var e=0;e<t.N.length;e++)t.N[e].cancel("app-deleted");ll(t,null),hl(t,null),fl(t,null),t.N=[],t.J=!0,gl(t),Kr(t,"refreshToken",null),t.b&&Ou(t.b,t)}))},t.Gb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?w(this.Lb,this):"reauthViaPopup"==t&&e==(this.g||null)?w(this.Mb,this):"linkViaRedirect"==t&&(this.ga||null)==e?w(this.Lb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?w(this.Mb,this):null},t.Ec=function(t){var e=this;return Dl(this,"linkViaPopup",t,(function(){return Rl(e,t.providerId).then((function(){return vl(e)}))}),!1)},t.Nc=function(t){return Dl(this,"reauthViaPopup",t,(function(){return ke()}),!0)},t.Fc=function(t){var e=this;return jl(this,"linkViaRedirect",t,(function(){return Rl(e,t.providerId)}),!1)},t.Oc=function(t){return jl(this,"reauthViaRedirect",t,(function(){return ke()}),!0)},t.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Ml(this,this.I().then((function(n){return fa(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=Al(i,t,"link"),Pl(i,t)})).then((function(){return o})))},t.Mb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Ml(this,ke().then((function(){return oo(pa(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=Al(i,t,"reauthenticate"),Il(i,t),i.i=null,i.reload()})).then((function(){return o})),!0)},t.vb=function(t){var e=this,n=null;return Ml(this,this.I().then((function(e){return n=e,void 0===t||pt(t)?{}:Mi(new Ei(t))})).then((function(t){return e.a.vb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Fb=function(t,e){var n=this,r=null;return Ml(this,this.I().then((function(t){return r=t,void 0===e||pt(e)?{}:Mi(new Ei(e))})).then((function(e){return n.a.Fb(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.jc=function(t){var e=null,n=this;return Ml(this,t=oo(ke(t),n.uid).then((function(t){return e=Al(n,t,"reauthenticate"),Il(n,t),n.i=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&bt(t,this.metadata.w()),H(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),bt(t,this.S.w()),t};var Vl={name:"redirectUser",F:"session"};function Bl(t){return Qc(t.b,Vl,t.a)}function Ul(t){this.a=t,this.b=Kc(),this.c=null,this.f=function(t){var e=Hl("local"),n=Hl("session"),r=Hl("none");return function(t,e,n){var r=Yc(e,n),i=Gc(t,e.F);return t.get(e,n).then((function(o){var s=null;try{s=jr(a.localStorage.getItem(r))}catch(c){}if(s&&!o)return a.localStorage.removeItem(r),t.set(e,s,n);s&&o&&"localStorage"!=i.type&&a.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(Wl,t.a).then((function(t){return t?Hl(t):e}))}))}))})).then((function(e){return t.c=e,ql(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(Hl("local"),this.a,w(this.g,this))}function ql(t,e){var n,r=[];for(n in Hc)Hc[n]!==e&&r.push(Qc(t.b,Hl(Hc[n]),t.a));return r.push(Qc(t.b,Wl,t.a)),function(t){return new _e((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},a=0;a<t.length;a++)Ie(t[a],S(o,a),s);else e(i)}))}(r)}Ul.prototype.g=function(){var t=this,e=Hl("local");Yl(this,(function(){return ke().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return ql(t,"local").then((function(){t.c=e}))}))}))};var Wl={name:"persistence",F:"session"};function Hl(t){return{name:"authUser",F:t}}function zl(t,e){return Yl(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function Kl(t){return Yl(t,(function(){return Qc(t.b,t.c,t.a)}))}function Gl(t,e,n){return Yl(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Ll(t||{})}))}))}function Yl(t,e){return t.f=t.f.then(e,e),t.f}function Ql(t){if(this.l=!1,Kr(this,"settings",new Uu),Kr(this,"app",t),!rh(this).options||!rh(this).options.apiKey)throw new E("invalid-api-key");t=r.default.SDK_VERSION?xr(r.default.SDK_VERSION):null,this.a=new Ws(rh(this).options&&rh(this).options.apiKey,P(T),t),this.P=[],this.s=[],this.N=[],this.Pa=r.default.INTERNAL.createSubscribe(w(this.zc,this)),this.W=void 0,this.ib=r.default.INTERNAL.createSubscribe(w(this.Ac,this)),eh(this,null),this.i=new Ul(rh(this).options.apiKey+":"+rh(this).name),this.D=new Fl(rh(this).options.apiKey+":"+rh(this).name),this.$=ah(this,function(t){var e=rh(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Vl,t.a).then((function(t){return t&&e&&(t.authDomain=e),Ll(t||{})}))}(t.D,rh(t).options.authDomain).then((function(e){return(t.m=e)&&(e.ha=t.D),Bl(t.D)}));return ah(t,e)}(t).then((function(){return Gl(t.i,e,t.R)})).then((function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then((function(){return zl(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:Kl(t.i)}))):null})).then((function(e){eh(t,e||null)}));return ah(t,n)}(this)),this.h=ah(this,function(t){return t.$.then((function(){return th(t)})).o((function(){})).then((function(){if(!t.l)return t.ja()})).o((function(){})).then((function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(Hl("local"),e.a,t.ja)}}))}(this)),this.ba=!1,this.ja=w(this.Zc,this),this.Ba=w(this.da,this),this.qa=w(this.mc,this),this.za=w(this.wc,this),this.Aa=w(this.xc,this),this.b=null,function(t){var e=rh(t).options.authDomain,n=rh(t).options.apiKey;e&&Tr()&&(t.Oa=t.$.then((function(){if(!t.l){if(t.b=ju(e,n,rh(t).name,t.R),xu(t.b,t),ih(t)&&yl(ih(t)),t.m){yl(t.m);var r=t.m;r.xa(t.la()),ll(r,t),dl(r=t.m,t.J),fl(r,t),ul(r=t.m,t.R),hl(r,t),t.m=null}return t.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=w(this.delete,this),this.INTERNAL.logFramework=w(this.Gc,this),this.u=0,_n.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.xa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.zb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.R){var t=Fn(this.R.url);t=Yr({protocol:t.c,host:t.a,port:t.g,options:Yr({disableWarnings:this.R.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.R=null}function $l(t){Qe.call(this,"languageCodeChanged"),this.h=t}function Xl(t){Qe.call(this,"emulatorConfigChanged"),this.c=t}function Jl(t){Qe.call(this,"frameworkChanged"),this.f=t}function Zl(t){return t.Oa||Te(new E("auth-domain-config-required"))}function th(t){if(!Tr())return Te(new E("operation-not-supported-in-this-environment"));var e=Zl(t).then((function(){return t.b.ra()})).then((function(t){return t?Yr(t):null}));return ah(t,e)}function eh(t,e){ih(t)&&(function(t,e){$(t.W,(function(t){return t==e}))}(ih(t),t.Ba),hn(ih(t),"tokenChanged",t.qa),hn(ih(t),"userDeleted",t.za),hn(ih(t),"userInvalidated",t.Aa),gl(ih(t))),e&&(e.W.push(t.Ba),cn(e,"tokenChanged",t.qa),cn(e,"userDeleted",t.za),cn(e,"userInvalidated",t.Aa),0<t.u&&ml(e)),Kr(t,"currentUser",e),e&&(e.xa(t.la()),ll(e,t),dl(e,t.J),fl(e,t),ul(e,t.R),hl(e,t))}function nh(t,e){var n=null,r=null;return ah(t,e.then((function(e){return n=jo(e),r=zi(e),function(t,e){var n={};return n.apiKey=rh(t).options.apiKey,n.authDomain=rh(t).options.authDomain,n.appName=rh(t).name,t.R&&(n.emulatorConfig=t.R),t.$.then((function(){return function(t,e,n,r){var i=new cl(t,e);return n&&(i.ha=n),r&&dl(i,r),i.reload().then((function(){return i}))}(n,e,t.D,t.Ga())})).then((function(e){return ih(t)&&e.uid==ih(t).uid?(kl(ih(t),e),t.da(e)):(eh(t,e),yl(e),t.da(e))})).then((function(){sh(t)}))}(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Qu(e.w(),t,w(t.kc,t))),n||e})).then((function(){return Yr({user:ih(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function rh(t){return t.app}function ih(t){return t.currentUser}function oh(t){return ih(t)&&ih(t)._lat||null}function sh(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](oh(t));if(t.W!==t.getUid()&&t.N.length)for(t.W=t.getUid(),e=0;e<t.N.length;e++)t.N[e]&&t.N[e](oh(t))}}function ah(t,e){return t.P.push(e),e.oa((function(){Q(t.P,e)})),e}function ch(){}function uh(){this.a={},this.b=1e12}Ul.prototype.yb=function(t){var e=null,n=this;return function(t){var e=new E("invalid-persistence-type"),n=new E("unsupported-persistence-type");t:{for(r in Hc)if(Hc[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(yr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Cc()&&"none"!==t)throw n;break;default:if(!kr()&&"none"!==t)throw n}}(t),Yl(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,ql(n,t)})).then((function(){if(n.c=Hl(t),e)return n.b.set(n.c,e,n.a)})):ke()}))},x(Ql,_n),x($l,Qe),x(Xl,Qe),x(Jl,Qe),(t=Ql.prototype).yb=function(t){return ah(this,t=this.i.yb(t))},t.xa=function(t){this.aa===t||this.l||(this.aa=t,$s(this.a,this.aa),this.dispatchEvent(new $l(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=a.navigator;this.xa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.R){if(!/^https?:\/\//.test(t))throw new E("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),a.document&&!t&&mr().then((function(){var t=a.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#b50000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),a.document.body.appendChild(t)}))})(e=!!e&&!!e.disableWarnings),this.R={url:t,ec:e},this.settings.jb=!0,Xs(this.a,this.R),this.dispatchEvent(new Xl(this.R))}},t.Gc=function(t){this.J.push(t),Zs(this.a,r.default.SDK_VERSION?xr(r.default.SDK_VERSION,this.J):null),this.dispatchEvent(new Jl(this.J))},t.Ga=function(){return J(this.J)},t.zb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:rh(this).options.apiKey,authDomain:rh(this).options.authDomain,appName:rh(this).name,currentUser:ih(this)&&ih(this).w()}},t.Gb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?w(this.ic,this):null},t.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return nh(i,da(i.a,o))}))},t.Xc=function(t){if(!Tr())return Te(new E("operation-not-supported-in-this-environment"));var e=this,n=Hi(t.providerId),i=Nr(),o=null;(!Ar()||br())&&rh(this).options.authDomain&&t.isOAuthProvider&&(o=lc(rh(this).options.authDomain,rh(this).options.apiKey,rh(this).name,"signInViaPopup",t,null,i,r.default.SDK_VERSION||null,null,null,this.T(),this.R));var s=dr(o,n&&n.va,n&&n.ua);return ah(this,n=Zl(this).then((function(n){return Tu(n,s,"signInViaPopup",t,i,!!o,e.T())})).then((function(){return new _e((function(t,n){e.na("signInViaPopup",null,new E("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=i,e.c=Au(e.b,e,"signInViaPopup",s,i)}))})).then((function(t){return s&&hr(s),t?Yr(t):null})).o((function(t){throw s&&hr(s),t})))},t.Yc=function(t){if(!Tr())return Te(new E("operation-not-supported-in-this-environment"));var e=this;return ah(this,Zl(this).then((function(){return function(t){return Yl(t,(function(){return t.b.set(Wl,t.c.F,t.a)}))}(e.i)})).then((function(){return Ru(e.b,"signInViaRedirect",t,void 0,e.T())})))},t.ra=function(){var t=this;return th(this).then((function(e){return t.b&&Lu(t.b.b),e})).o((function(e){throw t.b&&Lu(t.b.b),e}))},t.dd=function(t){if(!t)return Te(new E("null-user"));if(this.S!=t.tenantId)return Te(new E("tenant-id-mismatch"));var e=this,n={};n.apiKey=rh(this).options.apiKey,n.authDomain=rh(this).options.authDomain,n.appName=rh(this).name;var r=function(t,e,n,r){var i=t.h,o={};return o[zs]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new cl(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&dl(e,r),kl(e,t),e}(t,n,e.D,e.Ga());return ah(this,this.h.then((function(){if(rh(e).options.apiKey!=t.l)return r.reload()})).then((function(){return ih(e)&&t.uid==ih(e).uid?(kl(ih(e),t),e.da(t)):(eh(e,r),yl(r),e.da(r))})).then((function(){sh(e)})))},t.Bb=function(){var t=this;return ah(this,this.h.then((function(){return t.b&&Lu(t.b.b),ih(t)?(eh(t,null),Kl(t.i).then((function(){sh(t)}))):ke()})))},t.Zc=function(){var t=this;return Gl(this.i,rh(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=ih(t)&&e){n=ih(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return kl(ih(t),e),ih(t).I();(ih(t)||e)&&(eh(t,e),e&&(yl(e),e.ha=t.D),t.b&&xu(t.b,t),sh(t))}}))},t.da=function(t){return zl(this.i,t)},t.mc=function(){sh(this),this.da(ih(this))},t.wc=function(){this.Bb()},t.xc=function(){this.Bb()},t.kc=function(t){var e=this;return this.h.then((function(){return nh(e,ke(t))}))},t.zc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(ih(e))}))},t.Ac=function(t){var e=this;!function(t,e){t.N.push(e),ah(t,t.h.then((function(){!t.l&&Y(t.N,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(oh(t)))})))}(this,(function(){t.next(ih(e))}))},t.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof t?t(ih(r)):"function"==typeof t.next&&t.next(ih(r))})),this.Pa(t,e,n)},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.W=r.getUid(),"function"==typeof t?t(ih(r)):"function"==typeof t.next&&t.next(ih(r))})),this.ib(t,e,n)},t.nc=function(t){var e=this;return ah(this,this.h.then((function(){return ih(e)?ih(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Tc=function(t){var e=this;return this.h.then((function(){return nh(e,Qa(e.a,Wa,{token:t}))})).then((function(t){var n=t.user;return El(n,"isAnonymous",!1),e.da(n),t}))},t.Uc=function(t,e){var n=this;return this.h.then((function(){return nh(n,Qa(n.a,Ha,{email:t,password:e}))}))},t.dc=function(t,e){var n=this;return this.h.then((function(){return nh(n,Qa(n.a,va,{email:t,password:e}))}))},t.ab=function(t){var e=this;return this.h.then((function(){return nh(e,t.ka(e.a))}))},t.Sc=function(t){return Hr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(t)},t.Ab=function(){var t=this;return this.h.then((function(){var e=ih(t);if(e&&e.isAnonymous){var n=Yr({providerId:null,isNewUser:!1});return Yr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return nh(t,t.a.Ab()).then((function(e){var n=e.user;return El(n,"isAnonymous",!0),t.da(n),e}))}))},t.getUid=function(){return ih(this)&&ih(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&ih(this)&&ml(ih(this))},t.Pc=function(t){var e=this;H(this.s,(function(n){n==t&&e.u--})),0>this.u&&(this.u=0),0==this.u&&ih(this)&&gl(ih(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),ah(this,this.h.then((function(){e.l||Y(e.s,t)&&t(oh(e))})))},t.removeAuthTokenListener=function(t){$(this.s,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i).b.removeListener(Hl("local"),t.a,this.ja),this.b&&(Ou(this.b,this),Lu(this.b.b)),Promise.resolve()},t.hc=function(t){return ah(this,function(t,e){return Qa(t,ya,{identifier:e,continueUri:Ir()?cr():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,t))},t.Bc=function(t){return!!To(t)},t.xb=function(t,e){var n=this;return ah(this,ke().then((function(){var t=new Ei(e);if(!t.c)throw new E("argument-error",Ii+" must be true when sending sign in link to email");return Mi(t)})).then((function(e){return n.a.xb(t,e)})).then((function(){})))},t.jd=function(t){return this.Sa(t).then((function(t){return t.data.email}))},t.ob=function(t,e){return ah(this,this.a.ob(t,e).then((function(){})))},t.Sa=function(t){return ah(this,this.a.Sa(t).then((function(t){return new ri(t)})))},t.kb=function(t){return ah(this,this.a.kb(t).then((function(){})))},t.wb=function(t,e){var n=this;return ah(this,ke().then((function(){return void 0===e||pt(e)?{}:Mi(new Ei(e))})).then((function(e){return n.a.wb(t,e)})).then((function(){})))},t.Wc=function(t,e){return ah(this,Wu(this,t,e,w(this.ab,this)))},t.Vc=function(t,e){var n=this;return ah(this,ke().then((function(){var r=e||cr(),i=ko(t,r);if(!(r=To(r)))throw new E("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new E("tenant-id-mismatch");return n.ab(i)})))},ch.prototype.render=function(){},ch.prototype.reset=function(){},ch.prototype.getResponse=function(){},ch.prototype.execute=function(){};var lh=null;function hh(t,e){return(e=dh(e))&&t.a[e]||null}function dh(t){return(t=void 0===t?1e12:t)?t.toString():null}function fh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ce(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():cn(this.f,"click",this.i)}function ph(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function mh(){}function gh(){}uh.prototype.render=function(t,e){return this.a[this.b.toString()]=new fh(t,e),this.b++},uh.prototype.reset=function(t){var e=hh(this,t);t=dh(t),e&&t&&(e.delete(),delete this.a[t])},uh.prototype.getResponse=function(t){return(t=hh(this,t))?t.getResponse():null},uh.prototype.execute=function(t){(t=hh(this,t))&&t.execute()},fh.prototype.getResponse=function(){return ph(this),this.b},fh.prototype.execute=function(){ph(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()}),6e4)}),500))},fh.prototype.delete=function(){ph(this),this.g=!0,clearTimeout(this.a),this.a=null,hn(this.f,"click",this.i)},Kr(mh,"FACTOR_ID","phone"),gh.prototype.g=function(){return lh||(lh=new uh),ke(lh)},gh.prototype.c=function(){};var bh=null;function vh(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var yh=new yt(Ct,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),_h=new Fr(3e4,6e4);vh.prototype.g=function(t){var e=this;return new _e((function(n,r){var i=setTimeout((function(){r(new E("network-request-failed"))}),_h.get());!a.grecaptcha||t!==e.f&&!e.b?(a[e.a]=function(){if(a.grecaptcha){e.f=t;var o=a.grecaptcha.render;a.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(a.grecaptcha)}else clearTimeout(i),r(new E("internal-error"));delete a[e.a]},ke(Ms(kt(yh,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new E("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(a.grecaptcha))}))},vh.prototype.c=function(){this.b--};var wh=null;function Sh(t,e,n,r,i,o,s){if(Kr(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=e,this.g=null,s?(bh||(bh=new gh),s=bh):(wh||(wh=new vh),s=wh),this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Oh])throw new E("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Eh],!a.document)throw new E("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ce(e)||!this.i&&ce(e).hasChildNodes())throw new E("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Ws(t,o||null,i||null),this.u=r||function(){return null};var c=this;this.l=[];var u=this.a[Ch];this.a[Ch]=function(t){if(kh(c,t),"function"==typeof u)u(t);else if("string"==typeof u){var e=Er(u,a);"function"==typeof e&&e(t)}};var l=this.a[xh];this.a[xh]=function(){if(kh(c,null),"function"==typeof l)l();else if("string"==typeof l){var t=Er(l,a);"function"==typeof t&&t()}}}var Ch="callback",xh="expired-callback",Oh="sitekey",Eh="size";function kh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function Th(t,e){return t.h.push(e),e.oa((function(){Q(t.h,e)})),e}function Ih(t){if(t.J)throw new E("internal-error","RecaptchaVerifier instance has been destroyed.")}function Rh(t,e,n){var i=!1;try{this.b=n||r.default.app()}catch(a){throw new E("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new E("invalid-api-key");n=this.b.options.apiKey;var o=this,s=null;try{s=this.b.auth().Ga()}catch(a){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}s=r.default.SDK_VERSION?xr(r.default.SDK_VERSION,s):null,Sh.call(this,n,t,e,(function(){try{var t=o.b.auth().la()}catch(e){t=null}return t}),s,P(T),i)}function Ah(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new E("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=Ph.length)throw new E("internal-error","Argument validator received an unsupported number of arguments.");n=Ph[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new E("argument-error",t+" failed: "+r)}(t=Sh.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Th(this,ke().then((function(){if(Ir()&&!vr())return mr();throw new E("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.u())})).then((function(e){return t.g=e,Qa(t.s,Pa,{})})).then((function(e){t.a[Oh]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){Ih(this);var t=this;return Th(this,this.Ia().then((function(){if(null===t.c){var e=t.v;if(!t.i){var n=ce(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!ae&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',Ht(s.name),'"'),s.type){o.push(' type="',Ht(s.type),'"');var a={};bt(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=pe(i,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):ue(o,s)),2<r.length&&fe(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){Ih(this);var t=this;return Th(this,this.render().then((function(e){return new _e((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){$(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){Ih(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Ih(this),this.J=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=ce(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},x(Rh,Sh);var Ph="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Dh(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"==typeof t}}}function jh(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"==typeof t}}}function Nh(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:m}}function Mh(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"==typeof t}}}function Lh(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function Fh(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){return!!e&&!(!e.ka||t&&e.providerId!==t)}}}function Vh(t,e){return m(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Bh(t){return m(t)&&"string"==typeof t.uid}function Uh(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function qh(t,e){for(var n in e){var r=e[n].name;t[r]=zh(r,t[n],e[n].j)}}function Wh(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:S((function(t){return this[t]}),n),set:S((function(t,e,n,r){Ah(t,[n],[r],!0),this[e]=r}),r,n,e[n].lb),enumerable:!0})}}function Hh(t,e,n,r){t[e]=zh(e,n,r)}function zh(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Ah(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}qh(Ql.prototype,{kb:{name:"applyActionCode",j:[Dh("code")]},Sa:{name:"checkActionCode",j:[Dh("code")]},ob:{name:"confirmPasswordReset",j:[Dh("code"),Dh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Dh("email"),Dh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Dh("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Dh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Uh(Nh(),Mh(),"nextOrObserver"),Mh("opt_error",!0),Mh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Uh(Nh(),Mh(),"nextOrObserver"),Mh("opt_error",!0),Mh("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Dh("email"),Uh(Nh("opt_actionCodeSettings",!0),Lh(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Dh("email"),Nh("actionCodeSettings")]},yb:{name:"setPersistence",j:[Dh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Fh()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Fh()]},Tc:{name:"signInWithCustomToken",j:[Dh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Dh("email"),Dh("password")]},Vc:{name:"signInWithEmailLink",j:[Dh("email"),Dh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Dh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Uh({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof cl)}},Lh(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Dh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Dh("url"),Nh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Dh("code")]}}),Wh(Ql.prototype,{lc:{name:"languageCode",lb:Uh(Dh(),Lh(),"languageCode")},ti:{name:"tenantId",lb:Uh(Dh(),Lh(),"tenantId")}}),(Ql.Persistence=Hc).LOCAL="local",Ql.Persistence.SESSION="session",Ql.Persistence.NONE="none",qh(cl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[jh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[jh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Fh()]},rb:{name:"linkWithCredential",j:[Fh()]},Dc:{name:"linkWithPhoneNumber",j:[Dh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Fh()]},ub:{name:"reauthenticateWithCredential",j:[Fh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Dh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Uh(Nh("opt_actionCodeSettings",!0),Lh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Dh(null,!0)]},cd:{name:"unlink",j:[Dh("provider")]},Cb:{name:"updateEmail",j:[Dh("email")]},Db:{name:"updatePassword",j:[Dh("password")]},ed:{name:"updatePhoneNumber",j:[Fh("phone")]},Eb:{name:"updateProfile",j:[Nh("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Dh("email"),Uh(Nh("opt_actionCodeSettings",!0),Lh(null,!0),"opt_actionCodeSettings",!0)]}}),qh(uh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),qh(ch.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),qh(_e.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Wh(Uu.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:jh("appVerificationDisabledForTesting")}}),qh(qu.prototype,{confirm:{name:"confirm",j:[Dh("verificationCode")]}}),Hh(io,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[ho,Oo,Ro,co],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[Uh(Dh(),Nh(),"json")]),Hh(Eo,"credential",(function(t,e){return new xo(t,e)}),[Dh("email"),Dh("password")]),qh(xo.prototype,{w:{name:"toJSON",j:[Dh(null,!0)]}}),qh(go.prototype,{Ca:{name:"addScope",j:[Dh("scope")]},Ka:{name:"setCustomParameters",j:[Nh("customOAuthParameters")]}}),Hh(go,"credential",bo,[Uh(Dh(),Nh(),"token")]),Hh(Eo,"credentialWithLink",ko,[Dh("email"),Dh("emailLink")]),qh(vo.prototype,{Ca:{name:"addScope",j:[Dh("scope")]},Ka:{name:"setCustomParameters",j:[Nh("customOAuthParameters")]}}),Hh(vo,"credential",yo,[Uh(Dh(),Nh(),"token")]),qh(_o.prototype,{Ca:{name:"addScope",j:[Dh("scope")]},Ka:{name:"setCustomParameters",j:[Nh("customOAuthParameters")]}}),Hh(_o,"credential",wo,[Uh(Dh(),Uh(Nh(),Lh()),"idToken"),Uh(Dh(),Lh(),"accessToken",!0)]),qh(So.prototype,{Ka:{name:"setCustomParameters",j:[Nh("customOAuthParameters")]}}),Hh(So,"credential",Co,[Uh(Dh(),Nh(),"token"),Dh("secret",!0)]),qh(mo.prototype,{Ca:{name:"addScope",j:[Dh("scope")]},credential:{name:"credential",j:[Uh(Dh(),Uh(Nh(),Lh()),"optionsOrIdToken"),Uh(Dh(),Lh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Nh("customOAuthParameters")]}}),qh(uo.prototype,{w:{name:"toJSON",j:[Dh(null,!0)]}}),qh(so.prototype,{w:{name:"toJSON",j:[Dh(null,!0)]}}),Hh(Po,"credential",Do,[Dh("verificationId"),Dh("verificationCode")]),qh(Po.prototype,{gb:{name:"verifyPhoneNumber",j:[Uh(Dh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?Vh(t.session,no)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Vh(t.session,ro)&&Bh(t.multiFactorHint):t.session&&t.multiFactorUid?Vh(t.session,ro)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),qh(Io.prototype,{w:{name:"toJSON",j:[Dh(null,!0)]}}),qh(E.prototype,{toJSON:{name:"toJSON",j:[Dh(null,!0)]}}),qh(qo.prototype,{toJSON:{name:"toJSON",j:[Dh(null,!0)]}}),qh(Uo.prototype,{toJSON:{name:"toJSON",j:[Dh(null,!0)]}}),qh(Yu.prototype,{toJSON:{name:"toJSON",j:[Dh(null,!0)]}}),qh(zu.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.tb}}]}}),qh(tl.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.tb}},Dh("displayName",!0)]},bd:{name:"unenroll",j:[Uh({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Bh},Dh(),"multiFactorInfoIdentifier")]}}),qh(Rh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Hh(bi,"parseLink",Oi,[Dh("link")]),Hh(mh,"assertion",(function(t){return new Ju(t)}),[Fh("phone")]),function(){if(void 0===r.default||!r.default.INTERNAL||!r.default.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:oi,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ii,VERIFY_AND_CHANGE_EMAIL:si,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Ql,AuthCredential:io,Error:E};Hh(t,"EmailAuthProvider",Eo,[]),Hh(t,"FacebookAuthProvider",go,[]),Hh(t,"GithubAuthProvider",vo,[]),Hh(t,"GoogleAuthProvider",_o,[]),Hh(t,"TwitterAuthProvider",So,[]),Hh(t,"OAuthProvider",mo,[Dh("providerId")]),Hh(t,"SAMLAuthProvider",po,[Dh("providerId")]),Hh(t,"PhoneAuthProvider",Po,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof Ql)}}]),Hh(t,"RecaptchaVerifier",Rh,[Uh(Dh(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Nh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof r.default.app.App)}}]),Hh(t,"ActionCodeURL",bi,[]),Hh(t,"PhoneMultiFactorGenerator",mh,[]),r.default.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new Ql(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(t){t.getProvider("auth-internal").initialize()}}),r.default.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:w((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:w(t.nc,t),addAuthTokenListener:w(t.cc,t),removeAuthTokenListener:w(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),r.default.registerVersion("@firebase/auth","0.16.8"),r.default.INTERNAL.extendNamespace({User:cl})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},"tf+s":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("7Hc7"),o=n("Y7HM");class s extends r.a{constructor(t,e=0,n=i.a){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(o.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=i.a)}static create(t,e=0,n=i.a){return new s(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(s.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function a(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new s(e,this.delay,this.scheduler).subscribe(t)}}},uiNf:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return a})),n.d(e,"d",(function(){return c})),n.d(e,"c",(function(){return u}));var r=n("4ygG"),i=new(n("hDgs").a),o=new WeakMap;function s(t){var e=o.get(t);return e||o.set(t,e={vars:new Set,dep:Object(r.b)()}),e}function a(t){s(t).vars.forEach((function(e){return e.forgetCache(t)}))}function c(t){s(t).vars.forEach((function(e){return e.attachCache(t)}))}function u(t){var e=new Set,n=new Set,r=function(a){if(arguments.length>0){if(t!==a){t=a,e.forEach((function(t){s(t).dep.dirty(r),l(t)}));var c=Array.from(n);n.clear(),c.forEach((function(e){return e(t)}))}}else{var u=i.getValue();u&&(o(u),s(u).dep(r))}return t};r.onNextChange=function(t){return n.add(t),function(){n.delete(t)}};var o=r.attachCache=function(t){return e.add(t),s(t).vars.add(r),r};return r.forgetCache=function(t){return e.delete(t)},r}function l(t){t.broadcastWatches&&t.broadcastWatches()}},vkgz:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("7o/Q");function i(){}var o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new c(t,this.nextOrObserver,this.error,this.complete))}}class c extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},w1tV:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("oB13"),i=n("x+ZX"),o=n("XNiG");function s(){return new o.a}function a(){return t=>Object(i.a)()(Object(r.a)(s)(t))}},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(){return function(t){return t.lift(new o(t))}}class o{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new s(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class s extends r.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return r}))},z6cu:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("HDdC");function i(t,e){return new r.a(e?n=>e.schedule(o,0,{error:t,subscriber:n}):e=>e.error(t))}function o({error:t,subscriber:e}){e.error(t)}},"zC+P":function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"e",(function(){return s})),n.d(e,"b",(function(){return a})),n.d(e,"d",(function(){return c})),n.d(e,"f",(function(){return u}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(e){o(e)}}function a(t){try{c(r.throw(t))}catch(e){o(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))}function c(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}},zIRd:function(t,e,n){"use strict";n.r(e),n.d(e,"firebase",(function(){return v}));var r,i,o=n("mrSG"),s=n("qOnz"),a=n("/6Yf"),c=n("q/0M"),u=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.ErrorFactory("app","Firebase",u),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),d=new c.Logger("@firebase/app"),f=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.deepCopy)(t),this.container=new a.ComponentContainer(e.name),this._addComponent(new a.Component("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return r._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){var n;void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){d.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();f.prototype.name&&f.prototype.options||f.prototype.delete||console.log("dc");var p=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.contains)(e,a))throw l.create("duplicate-app",{appName:a});var c=new t(n,o,r);return e[a]=c,c},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),c=e.match(/\s|\//);if(s||c){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&c&&u.push("and"),c&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void d.warn(u.join(" "))}o(new a.Component(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:c.setLogLevel,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(c.setUserLogHandler)(t,e)},apps:null,SDK_VERSION:"8.7.0",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||"[DEFAULT]",!Object(s.contains)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return d.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var c=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&Object(s.deepExtend)(c,o.serviceProps),r[a]=c,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,a);return n.apply(this,o.multipleInstances?t:[])}}for(var u=0,h=Object.keys(e);u<h.length;u++)e[h[u]]._addComponent(o);return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(f);return e.INTERNAL=Object(o.__assign)(Object(o.__assign)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.deepExtend)(e,t)},createSubscribe:s.createSubscribe,ErrorFactory:s.ErrorFactory,deepExtend:s.deepExtend}),e}(),m=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(s.isBrowser)()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var g=self.firebase.SDK_VERSION;g&&g.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.isNode)()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var v=p;!function(t,e){t.INTERNAL.registerComponent(new a.Component("platform-logger",(function(t){return new m(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.28",void 0),t.registerVersion("fire-js","")}(v),e.default=v},zKVw:function(t,e,n){"use strict";function r(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Object.create(null);return t.forEach((function(t){t&&Object.keys(t).forEach((function(e){var r=t[e];void 0!==r&&(n[e]=r)}))})),n}n.d(e,"a",(function(){return r}))},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("8Y7J");const i={apiKey:"AIzaSyDnI1qGjGeO857LEoPuVvGT_Xx3HZ-V9jI",authDomain:"axie-pad.firebaseapp.com",projectId:"axie-pad",storageBucket:"axie-pad.appspot.com",messagingSenderId:"444858389270",appId:"1:444858389270:web:32014d276e59ab39277637",measurementId:"G-8QBPR8G882"};let o=null;function s(){return o}const a=new r.r("DocumentToken");let c=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:u,token:t,providedIn:"platform"}),t})();function u(){return Object(r.Wb)(h)}const l=new r.r("Location Initialized");let h=(()=>{class t extends c{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){d()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){d()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(a))},t.\u0275prov=Object(r.Ib)({factory:f,token:t,providedIn:"platform"}),t})();function d(){return!!window.history.pushState}function f(){return new h(Object(r.Wb)(a))}function p(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function m(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function g(t){return t&&"?"!==t[0]?"?"+t:t}let b=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:v,token:t,providedIn:"root"}),t})();function v(t){const e=Object(r.Wb)(a).location;return new _(Object(r.Wb)(c),e&&e.origin||"")}const y=new r.r("appBaseHref");let _=(()=>{class t extends b{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return p(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(c),r.Wb(y,8))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t extends b{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=p(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(c),r.Wb(y,8))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),S=(()=>{class t{constructor(t,e){this._subject=new r.o,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=m(x(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+g(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,x(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(b),r.Wb(c))},t.normalizeQueryParams=g,t.joinWithSlash=p,t.stripTrailingSlash=m,t.\u0275prov=Object(r.Ib)({factory:C,token:t,providedIn:"root"}),t})();function C(){return new S(Object(r.Wb)(b),Object(r.Wb)(c))}function x(t){return t.replace(/\/index.html$/,"")}var O=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}({}),E=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),k=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function T(t,e){const n=Object(r.lb)(t),i=n[r.cb.NumberSymbols][e];if(void 0===i){if(e===k.CurrencyDecimal)return n[r.cb.NumberSymbols][k.Decimal];if(e===k.CurrencyGroup)return n[r.cb.NumberSymbols][k.Group]}return i}const I=r.ob,R=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function A(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}class P{}let D=(()=>{class t extends P{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(I(e||this.locale)(t)){case E.Zero:return"zero";case E.One:return"one";case E.Two:return"two";case E.Few:return"few";case E.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(r.v))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();function j(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}let N=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.rb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(r.wb)(t.item));this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.t),r.Mb(r.u),r.Mb(r.l),r.Mb(r.F))},t.\u0275dir=r.Hb({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class M{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let L=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Object(r.X)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new M(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new F(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new F(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.R),r.Mb(r.M),r.Mb(r.t))},t.\u0275dir=r.Hb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class F{constructor(t,e){this.record=t,this.view=e}}let V=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new B,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){U("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){U("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.R),r.Mb(r.M))},t.\u0275dir=r.Hb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class B{constructor(){this.$implicit=null,this.ngIf=null}}function U(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.wb)(e)}'.`)}class q{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let W=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Hb({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),H=(()=>{class t{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new q(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.R),r.Mb(r.M),r.Mb(W,1))},t.\u0275dir=r.Hb({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),z=(()=>{class t{constructor(t,e,n){n._addDefault(new q(t,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.R),r.Mb(r.M),r.Mb(W,1))},t.\u0275dir=r.Hb({type:t,selectors:[["","ngSwitchDefault",""]]}),t})();function K(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.wb)(t)}'`)}class G{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class Y{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const Q=new Y,$=new G;let X=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Object(r.tb)(e))return Q;if(Object(r.sb)(e))return $;throw K(t,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(r.Yb())},t.\u0275pipe=r.Lb({name:"async",type:t,pure:!1}),t})(),J=(()=>{class t{constructor(t){this._locale=t}transform(e,n,i){if(function(t){return null==t||""===t||t!=t}(e))return null;i=i||this._locale;try{return function(t,e,n){return function(t,e,n,r,i,o,s=!1){let a="",c=!1;if(isFinite(t)){let u=function(t){let e,n,r,i,o,s=Math.abs(t)+"",a=0;for((n=s.indexOf("."))>-1&&(s=s.replace(".","")),(r=s.search(/e/i))>0?(n<0&&(n=r),n+=+s.slice(r+1),s=s.substring(0,r)):n<0&&(n=s.length),r=0;"0"===s.charAt(r);r++);if(r===(o=s.length))e=[0],n=1;else{for(o--;"0"===s.charAt(o);)o--;for(n-=r,e=[],i=0;r<=o;r++,i++)e[i]=Number(s.charAt(r))}return n>22&&(e=e.splice(0,21),a=n-1,n=1),{digits:e,exponent:a,integerLen:n}}(t);s&&(u=function(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(u));let l=e.minInt,h=e.minFrac,d=e.maxFrac;if(o){const t=o.match(R);if(null===t)throw new Error(o+" is not a valid digit info");const e=t[1],n=t[3],r=t[5];null!=e&&(l=A(e)),null!=n&&(h=A(n)),null!=r?d=A(r):null!=n&&h>d&&(d=h)}!function(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const o=Math.min(Math.max(e,i),n);let s=o+t.integerLen,a=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let t=s;t<r.length;t++)r[t]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let t=1;t<s;t++)r[t]=0}if(a>=5)if(s-1<0){for(let e=0;e>s;e--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let c=0!==o;const u=e+t.integerLen,l=r.reduceRight((function(t,e,n,r){return r[n]=(e+=t)<10?e:e-10,c&&(0===r[n]&&n>=u?r.pop():c=!1),e>=10?1:0}),0);l&&(r.unshift(l),t.integerLen++)}(u,h,d);let f=u.digits,p=u.integerLen;const m=u.exponent;let g=[];for(c=f.every(t=>!t);p<l;p++)f.unshift(0);for(;p<0;p++)f.unshift(0);p>0?g=f.splice(p,f.length):(g=f,f=[0]);const b=[];for(f.length>=e.lgSize&&b.unshift(f.splice(-e.lgSize,f.length).join(""));f.length>e.gSize;)b.unshift(f.splice(-e.gSize,f.length).join(""));f.length&&b.unshift(f.join("")),a=b.join(T(n,r)),g.length&&(a+=T(n,i)+g.join("")),m&&(a+=T(n,k.Exponential)+"+"+m)}else a=T(n,k.Infinity);return a=t<0&&!c?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,function(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],o=r[1],s=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],a=s[0],c=s[1]||"";n.posPre=a.substr(0,a.indexOf("#"));for(let l=0;l<c.length;l++){const t=c.charAt(l);"0"===t?n.minFrac=n.maxFrac=l+1:"#"===t?n.maxFrac=l+1:n.posSuf+=t}const u=a.split(",");if(n.gSize=u[1]?u[1].length:0,n.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,o){const t=i.length-n.posPre.length-n.posSuf.length,e=o.indexOf("#");n.negPre=o.substr(0,e).replace(/'/g,""),n.negSuf=o.substr(e+t).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function(t,e){return Object(r.lb)(t)[r.cb.NumberFormats][e]}(e,O.Decimal),T(e,k.MinusSign)),e,k.Group,k.Decimal,n)}(function(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(t+" is not a number");return t}(e),i,n)}catch(o){throw K(t,o.message)}}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.v))},t.\u0275pipe=r.Lb({name:"number",type:t,pure:!0}),t})(),Z=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[{provide:P,useClass:D}]}),t})();function tt(t){return"browser"===t}function et(t){return"server"===t}let nt=(()=>{class t{}return t.\u0275prov=Object(r.Ib)({token:t,providedIn:"root",factory:()=>new rt(Object(r.Wb)(a),window,Object(r.Wb)(r.n))}),t})();class rt{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportsScrolling()){const e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{if(!this.window||!this.window.scrollTo)return!1;const t=it(this.window.history)||it(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window.scrollTo}catch(t){return!1}}}function it(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class ot extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new ot,o||(o=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=at||(at=document.querySelector("base"),at)?at.getAttribute("href"):null;return null==e?null:(n=e,st||(st=document.createElement("a")),st.setAttribute("href",n),"/"===st.pathname.charAt(0)?st.pathname:"/"+st.pathname);var n}resetBaseElement(){at=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return j(document.cookie,t)}}let st,at=null;const ct=new r.r("TRANSITION_ID"),ut=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[ct,a,r.s],multi:!0}];class lt{static init(){Object(r.Z)(new lt)}addToWindow(t){r.qb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.qb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.qb.getAllAngularRootElements=()=>t.getAllRootElements(),r.qb.frameworkStabilizers||(r.qb.frameworkStabilizers=[]),r.qb.frameworkStabilizers.push(t=>{const e=r.qb.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach((function(t){t.whenStable(o)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const ht=new r.r("EventManagerPlugins");let dt=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(ht),r.Wb(r.A))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();class ft{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let pt=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),mt=(()=>{class t extends pt{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>s().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(a))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const gt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},bt=/%COMP%/g;function vt(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?vt(t,i,n):(i=i.replace(bt,t),n.push(i))}return n}function yt(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let _t=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new wt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.S.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new St(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case r.S.Native:case r.S.ShadowDom:return new Ct(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=vt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(dt),r.Wb(mt),r.Wb(r.c))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();class wt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(gt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=gt[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=gt[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&r.H.DashCase?t.style.setProperty(e,n,i&r.H.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.H.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,yt(n)):this.eventManager.addEventListener(t,e,yt(n))}}class St extends wt{constructor(t,e,n,r){super(t),this.component=n;const i=vt(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(bt,r+"-"+n.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(bt,t)}(r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class Ct extends wt{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===r.S.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const o=vt(i.id,i.styles,[]);for(let r=0;r<o.length;r++){const t=document.createElement("style");t.textContent=o[r],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let xt=(()=>{class t extends ft{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(a))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const Ot=["alt","control","meta","shift"],Et={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},kt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Tt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let It=(()=>{class t extends ft{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(Ot.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&kt.hasOwnProperty(e)&&(e=kt[e]))}return Et[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Ot.forEach(r=>{r!=n&&(0,Tt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(a))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),Rt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:function(){return Object(r.Wb)(At)},token:t,providedIn:"root"}),t})(),At=(()=>{class t extends Rt{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case r.J.NONE:return e;case r.J.HTML:return Object(r.fb)(e,"HTML")?Object(r.xb)(e):Object(r.db)(this._doc,String(e));case r.J.STYLE:return Object(r.fb)(e,"Style")?Object(r.xb)(e):e;case r.J.SCRIPT:if(Object(r.fb)(e,"Script"))return Object(r.xb)(e);throw new Error("unsafe value used in a script context");case r.J.URL:return Object(r.pb)(e),Object(r.fb)(e,"URL")?Object(r.xb)(e):Object(r.eb)(String(e));case r.J.RESOURCE_URL:if(Object(r.fb)(e,"ResourceURL"))return Object(r.xb)(e);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return Object(r.gb)(t)}bypassSecurityTrustStyle(t){return Object(r.jb)(t)}bypassSecurityTrustScript(t){return Object(r.ib)(t)}bypassSecurityTrustUrl(t){return Object(r.kb)(t)}bypassSecurityTrustResourceUrl(t){return Object(r.hb)(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(a))},t.\u0275prov=Object(r.Ib)({factory:function(){return t=Object(r.Wb)(r.p),new At(t.get(a));var t},token:t,providedIn:"root"}),t})();const Pt=[{provide:r.C,useValue:"browser"},{provide:r.D,useValue:function(){ot.makeCurrent(),lt.init()},multi:!0},{provide:a,useFactory:function(){return Object(r.vb)(document),document},deps:[]}],Dt=Object(r.T)(r.Y,"browser",Pt),jt=[[],{provide:r.bb,useValue:"root"},{provide:r.n,useFactory:function(){return new r.n},deps:[]},{provide:ht,useClass:xt,multi:!0,deps:[a,r.A,r.C]},{provide:ht,useClass:It,multi:!0,deps:[a]},[],{provide:_t,useClass:_t,deps:[dt,mt,r.c]},{provide:r.G,useExisting:_t},{provide:pt,useExisting:mt},{provide:mt,useClass:mt,deps:[a]},{provide:r.N,useClass:r.N,deps:[r.A]},{provide:dt,useClass:dt,deps:[ht,r.A]},[]];let Nt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:ct,useExisting:r.c},ut]}}}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)(r.Wb(t,12))},providers:jt,imports:[Z,r.f]}),t})();"undefined"!=typeof window&&window;var Mt=n("LRne"),Lt=n("Cfvw"),Ft=n("XNiG"),Vt=n("9ppp");class Bt extends Ft.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Vt.a;return this._value}next(t){super.next(this._value=t)}}var Ut=n("HDdC");const qt=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var Wt=n("z+Ro"),Ht=n("DH7j"),zt=n("l7GE"),Kt=n("ZUHj"),Gt=n("yCtX");const Yt={};function Qt(...t){let e=null,n=null;return Object(Wt.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(Ht.a)(t[0])&&(t=t[0]),Object(Gt.a)(t,n).lift(new $t(e))}class $t{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Xt(t,this.resultSelector))}}class Xt extends zt.a{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Yt),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(Object(Kt.a)(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,r,i){const o=this.values,s=this.toRespond?o[n]===Yt?--this.toRespond:this.toRespond:0;o[n]=e,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}var Jt=n("EY2u");function Zt(t){return new Ut.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(Lt.a)(n):Object(Jt.b)()).subscribe(e)})}var te=n("lJxs"),ee=n("bHdf");function ne(){return Object(ee.a)(1)}var re=n("7o/Q");function ie(t,e){return function(n){return n.lift(new oe(t,e))}}class oe{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new se(t,this.predicate,this.thisArg))}}class se extends re.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const ae=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function ce(t){return function(e){return 0===t?Object(Jt.b)():e.lift(new ue(t))}}class ue{constructor(t){if(this.total=t,this.total<0)throw new ae}call(t,e){return e.subscribe(new le(t,this.total))}}class le extends re.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function he(t=pe){return e=>e.lift(new de(t))}class de{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new fe(t,this.errorFactory))}}class fe extends re.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(Qv){t=Qv}this.destination.error(t)}}}function pe(){return new qt}function me(t=null){return e=>e.lift(new ge(t))}class ge{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new be(t,this.defaultValue))}}class be extends re.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var ve=n("SpAZ"),ye=n("51Dv");function _e(t){return function(e){const n=new we(t),r=e.lift(n);return n.caught=r}}class we{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Se(t,this.selector,this.caught))}}class Se extends zt.a{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new ye.a(this,void 0,void 0);this.add(r);const i=Object(Kt.a)(this,n,void 0,void 0,r);i!==r&&this.add(i)}}}function Ce(t){return e=>0===t?Object(Jt.b)():e.lift(new xe(t))}class xe{constructor(t){if(this.total=t,this.total<0)throw new ae}call(t,e){return e.subscribe(new Oe(t,this.total))}}class Oe extends re.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Ee(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ie((e,n)=>t(e,n,r)):ve.a,Ce(1),n?me(e):he(()=>new qt))}var ke=n("5+tZ"),Te=n("vkgz");class Ie{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new Re(t,this.predicate,this.thisArg,this.source))}}class Re extends re.a{constructor(t,e,n,r){super(t),this.predicate=e,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function Ae(t,e){return"function"==typeof e?n=>n.pipe(Ae((n,r)=>Object(Lt.a)(t(n,r)).pipe(Object(te.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Pe(t))}class Pe{constructor(t){this.project=t}call(t,e){return e.subscribe(new De(t,this.project))}}class De extends zt.a{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}_innerSub(t,e,n){const r=this.innerSubscription;r&&r.unsubscribe();const i=new ye.a(this,e,n),o=this.destination;o.add(i),this.innerSubscription=Object(Kt.a)(this,t,void 0,void 0,i),this.innerSubscription!==i&&o.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,r,i){this.destination.next(e)}}function je(...t){return ne()(Object(Mt.a)(...t))}function Ne(...t){const e=t[t.length-1];return Object(Wt.a)(e)?(t.pop(),n=>je(t,n,e)):e=>je(t,e)}function Me(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Le(t,e,n))}}class Le{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Fe(t,this.accumulator,this.seed,this.hasSeed))}}class Fe extends re.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Ve(t,e){return Object(ke.a)(t,e,1)}var Be=n("quSY");function Ue(t){return e=>e.lift(new qe(t))}class qe{constructor(t){this.callback=t}call(t,e){return e.subscribe(new We(t,this.callback))}}class We extends re.a{constructor(t,e){super(t),this.add(new Be.a(e))}}class He{constructor(t,e){this.id=t,this.url=e}}class ze extends He{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ke extends He{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ge extends He{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ye extends He{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Qe extends He{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $e extends He{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xe extends He{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Je extends He{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ze extends He{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tn{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class en{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class nn{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rn{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class on{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sn{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class an{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class cn{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function un(t){return new cn(t)}function ln(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function hn(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function dn(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!fn(t[i],e[i]))return!1;return!0}function fn(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length==e.length&&t.every(t=>e.indexOf(t)>-1):t===e}function pn(t){return Array.prototype.concat.apply([],t)}function mn(t){return t.length>0?t[t.length-1]:null}function gn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function bn(t){return Object(r.sb)(t)?t:Object(r.tb)(t)?Object(Lt.a)(Promise.resolve(t)):Object(Mt.a)(t)}function vn(t,e,n){return n?function(t,e){return dn(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!Sn(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>fn(t[n],e[n]))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!Sn(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!Sn(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),o=i.slice(n.segments.length);return!!Sn(n.segments,t)&&!!n.children.primary&&e(n.children.primary,r,o)}}(e,n,n.segments)}(t.root,e.root)}class yn{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=un(this.queryParams)),this._queryParamMap}toString(){return En.serialize(this)}}class _n{constructor(t,e){this.segments=t,this.children=e,this.parent=null,gn(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return kn(this)}}class wn{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=un(this.parameters)),this._parameterMap}toString(){return Dn(this)}}function Sn(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function Cn(t,e){let n=[];return gn(t.children,(t,r)=>{"primary"===r&&(n=n.concat(e(t,r)))}),gn(t.children,(t,r)=>{"primary"!==r&&(n=n.concat(e(t,r)))}),n}class xn{}class On{parse(t){const e=new Fn(t);return new yn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+function t(e,n){if(!e.hasChildren())return kn(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",r=[];return gn(e.children,(e,n)=>{"primary"!==n&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=Cn(e,(n,r)=>"primary"===r?[t(e.children.primary,!1)]:[`${r}:${t(n,!1)}`]);return`${kn(e)}/(${n.join("//")})`}}(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${In(e)}=${In(t)}`).join("&"):`${In(e)}=${In(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const En=new On;function kn(t){return t.segments.map(t=>Dn(t)).join("/")}function Tn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function In(t){return Tn(t).replace(/%3B/gi,";")}function Rn(t){return Tn(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function An(t){return decodeURIComponent(t)}function Pn(t){return An(t.replace(/\+/g,"%20"))}function Dn(t){return`${Rn(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Rn(t)}=${Rn(e[t])}`).join("")}`;var e}const jn=/^[^\/()?;=#]+/;function Nn(t){const e=t.match(jn);return e?e[0]:""}const Mn=/^[^=?&#]+/,Ln=/^[^?&#]+/;class Fn{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new _n([],{}):new _n([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new _n(t,e)),n}parseSegment(){const t=Nn(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new wn(An(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Nn(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Nn(this.remaining);t&&(n=t,this.capture(n))}t[An(e)]=An(n)}parseQueryParam(t){const e=function(t){const e=t.match(Mn);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Ln);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Pn(e),i=Pn(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Nn(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new _n([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Vn{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Bn(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Bn(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Un(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Un(t,this._root).map(t=>t.value)}}function Bn(t,e){if(t===e.value)return e;for(const n of e.children){const e=Bn(t,n);if(e)return e}return null}function Un(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Un(t,n);if(r.length)return r.unshift(e),r}return[]}class qn{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Wn(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Hn extends Vn{constructor(t,e){super(t),this.snapshot=e,$n(this,t)}toString(){return this.snapshot.toString()}}function zn(t,e){const n=function(t,e){const n=new Yn([],{},{},"",{},"primary",e,null,t.root,-1,{});return new Qn("",new qn(n,[]))}(t,e),r=new Bt([new wn("",{})]),i=new Bt({}),o=new Bt({}),s=new Bt({}),a=new Bt(""),c=new Kn(r,i,s,a,o,"primary",e,n.root);return c.snapshot=n.root,new Hn(new qn(c,[]),n)}class Kn{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(te.a)(t=>un(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(te.a)(t=>un(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Gn(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Yn{constructor(t,e,n,r,i,o,s,a,c,u,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=c,this._lastPathIndex=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=un(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=un(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Qn extends Vn{constructor(t,e){super(e),this.url=t,$n(this,e)}toString(){return Xn(this._root)}}function $n(t,e){e.value._routerState=t,e.children.forEach(e=>$n(t,e))}function Xn(t){const e=t.children.length>0?` { ${t.children.map(Xn).join(", ")} } `:"";return`${t.value}${e}`}function Jn(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,dn(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),dn(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!dn(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),dn(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Zn(t,e){return dn(t.params,e.params)&&function(t,e){return Sn(t,e)&&t.every((t,n)=>dn(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Zn(t.parent,e.parent))}function tr(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function er(t,e,n,r,i){let o={};return r&&gn(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new yn(n.root===t?e:function t(e,n,r){const i={};return gn(e.children,(e,o)=>{i[o]=e===n?r:t(e,n,r)}),new _n(e.segments,i)}(n.root,t,e),o,i)}class nr{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&tr(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==mn(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class rr{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function ir(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function or(t,e,n){if(t||(t=new _n([],{})),0===t.segments.length&&t.hasChildren())return sr(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=ir(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&a&&"object"==typeof a&&void 0===a.outlets){if(!lr(s,a,e))return o;r+=2}else{if(!lr(s,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new _n(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new _n(t.segments.slice(r.pathIndex),t.children),sr(e,0,i)}return r.match&&0===i.length?new _n(t.segments,{}):r.match&&!t.hasChildren()?ar(t,e,n):r.match?sr(t,0,i):ar(t,e,n)}function sr(t,e,n){if(0===n.length)return new _n(t.segments,{});{const r=function(t){return"object"==typeof t[0]&&null!==t[0]&&t[0].outlets?t[0].outlets:{primary:t}}(n),i={};return gn(r,(n,r)=>{null!==n&&(i[r]=or(t.children[r],e,n))}),gn(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new _n(t.segments,i)}}function ar(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&null!==n[i]&&void 0!==n[i].outlets){const t=cr(n[i].outlets);return new _n(r,t)}if(0===i&&tr(n[0])){r.push(new wn(t.segments[e].path,n[0])),i++;continue}const o=ir(n[i]),s=i<n.length-1?n[i+1]:null;o&&s&&tr(s)?(r.push(new wn(o,ur(s))),i+=2):(r.push(new wn(o,{})),i++)}return new _n(r,{})}function cr(t){const e={};return gn(t,(t,n)=>{null!==t&&(e[n]=ar(new _n([],{}),0,t))}),e}function ur(t){const e={};return gn(t,(t,n)=>e[n]=""+t),e}function lr(t,e,n){return t==n.path&&dn(e,n.parameters)}class hr{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Jn(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Wn(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),gn(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=Wn(t),i=t.value.component?n.children:e;gn(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=Wn(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new sn(t.value.snapshot))}),t.children.length&&this.forwardEvent(new rn(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Jn(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),dr(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function dr(t){Jn(t.value),t.children.forEach(dr)}class fr{constructor(t,e){this.routes=t,this.module=e}}function pr(t){return"function"==typeof t}function mr(t){return t instanceof yn}class gr{constructor(t){this.segmentGroup=t||null}}class br{constructor(t){this.urlTree=t}}function vr(t){return new Ut.a(e=>e.error(new gr(t)))}function yr(t){return new Ut.a(e=>e.error(new br(t)))}function _r(t){return new Ut.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class wr{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.y)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(Object(te.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(_e(t=>{if(t instanceof br)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof gr)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(Object(te.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(_e(t=>{if(t instanceof gr)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new _n([],{primary:t}):t;return new yn(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(te.a)(t=>new _n([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(Mt.a)({});const n=[],r=[],i={};return gn(t,(t,o)=>{const s=e(o,t).pipe(Object(te.a)(t=>i[o]=t));"primary"===o?n.push(s):r.push(s)}),Mt.a.apply(null,n.concat(r)).pipe(ne(),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ie((e,n)=>t(e,n,r)):ve.a,ce(1),n?me(e):he(()=>new qt))}(),Object(te.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,o){return Object(Mt.a)(...n).pipe(Object(te.a)(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(_e(t=>{if(t instanceof gr)return Object(Mt.a)(null);throw t}))),ne(),Ee(t=>!!t),_e((t,n)=>{if(t instanceof qt||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(Mt.a)(new _n([],{}));throw new gr(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return Or(r)!==o?vr(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):vr(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?yr(i):this.lineralizeSegments(n,i).pipe(Object(ke.a)(n=>{const i=new _n(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:c,positionalParamSegments:u}=Sr(e,r,i);if(!s)return vr(e);const l=this.applyRedirectCommands(a,r.redirectTo,u);return r.redirectTo.startsWith("/")?yr(l):this.lineralizeSegments(r,l).pipe(Object(ke.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(c)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(te.a)(t=>(n._loadedConfig=t,new _n(r,{})))):Object(Mt.a)(new _n(r,{}));const{matched:i,consumedSegments:o,lastChild:s}=Sr(e,n,r);if(!i)return vr(e);const a=r.slice(s);return this.getChildConfig(t,n,r).pipe(Object(ke.a)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:s}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>xr(t,e,n)&&"primary"!==Or(n))}(t,n,r)?{segmentGroup:Cr(new _n(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&"primary"!==Or(r)&&(n[Or(r)]=new _n([],{}));return n}(r,new _n(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>xr(t,e,n))}(t,n,r)?{segmentGroup:Cr(new _n(t.segments,function(t,e,n,r){const i={};for(const o of n)xr(t,e,o)&&!r[Or(o)]&&(i[Or(o)]=new _n([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,o,a,r);return 0===s.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(te.a)(t=>new _n(o,t))):0===r.length&&0===s.length?Object(Mt.a)(new _n(o,{})):this.expandSegment(n,i,r,s,"primary",!0).pipe(Object(te.a)(t=>new _n(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(Mt.a)(new fr(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Mt.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(ke.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(te.a)(t=>(e._loadedConfig=t,t))):function(t){return new Ut.a(e=>e.error(ln(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(Mt.a)(new fr([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;return r&&0!==r.length?Object(Lt.a)(r).pipe(Object(te.a)(r=>{const i=t.get(r);let o;if(function(t){return t&&pr(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!pr(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return bn(o)})).pipe(ne(),Object(Te.a)(t=>{if(!mr(t))return;const e=ln(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),(i=t=>!0===t,t=>t.lift(new Ie(i,void 0,t)))):Object(Mt.a)(!0);var i}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Mt.a)(n);if(r.numberOfChildren>1||!r.children.primary)return _r(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new yn(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return gn(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return gn(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new _n(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Sr(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||hn)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Cr(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new _n(t.segments.concat(e.segments),e.children)}return t}function xr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Or(t){return t.outlet||"primary"}class Er{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class kr{constructor(t,e){this.component=t,this.route=e}}function Tr(t,e,n){const r=t._root;return function t(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=Wn(n);return e.children.forEach(e=>{!function(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,a=n?n.value:null,c=r?r.getContext(e.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Sn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Sn(t.url,e.url)||!dn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Zn(t,e)||!dn(t.queryParams,e.queryParams);case"paramsChange":default:return!Zn(t,e)}}(a,s,s.routeConfig.runGuardsAndResolvers);u?o.canActivateChecks.push(new Er(i)):(s.data=a.data,s._resolvedData=a._resolvedData),t(e,n,s.component?c?c.children:null:r,i,o),u&&o.canDeactivateChecks.push(new kr(c&&c.outlet&&c.outlet.component||null,a))}else a&&Rr(n,c,o),o.canActivateChecks.push(new Er(i)),t(e,null,s.component?c?c.children:null:r,i,o)}(e,s[e.value.outlet],r,i.concat([e.value]),o),delete s[e.value.outlet]}),gn(s,(t,e)=>Rr(t,r.getContext(e),o)),o}(r,e?e._root:null,n,[r.value])}function Ir(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Rr(t,e,n){const r=Wn(t),i=t.value;gn(r,(t,r)=>{Rr(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new kr(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}const Ar=Symbol("INITIAL_VALUE");function Pr(){return Ae(t=>Qt(...t.map(t=>t.pipe(Ce(1),Ne(Ar)))).pipe(Me((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Ar)return t;if(r===Ar&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||mr(r))return r}return t},t)},Ar),ie(t=>t!==Ar),Object(te.a)(t=>mr(t)?t:!0===t),Ce(1)))}function Dr(t,e){return null!==t&&e&&e(new on(t)),Object(Mt.a)(!0)}function jr(t,e){return null!==t&&e&&e(new nn(t)),Object(Mt.a)(!0)}function Nr(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Mt.a)(!0);const i=r.map(r=>Zt(()=>{const i=Ir(r,e,n);let o;if(function(t){return t&&pr(t.canActivate)}(i))o=bn(i.canActivate(e,t));else{if(!pr(i))throw new Error("Invalid CanActivate guard");o=bn(i(e,t))}return o.pipe(Ee())}));return Object(Mt.a)(i).pipe(Pr())}function Mr(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Zt(()=>{const i=e.guards.map(i=>{const o=Ir(i,e.node,n);let s;if(function(t){return t&&pr(t.canActivateChild)}(o))s=bn(o.canActivateChild(r,t));else{if(!pr(o))throw new Error("Invalid CanActivateChild guard");s=bn(o(r,t))}return s.pipe(Ee())});return Object(Mt.a)(i).pipe(Pr())}));return Object(Mt.a)(i).pipe(Pr())}class Lr{}class Fr{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){try{const t=Ur(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new Yn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new qn(n,e),i=new Qn(this.url,r);return this.inheritParamsAndData(i._root),Object(Mt.a)(i)}catch(Qv){return new Ut.a(e=>e.error(Qv))}}inheritParamsAndData(t){const e=t.value,n=Gn(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=Cn(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const i of t)try{return this.processSegmentAgainstRoute(i,e,n,r)}catch(Qv){if(!(Qv instanceof Lr))throw Qv}if(this.noLeftoversInUrl(e,n,r))return[];throw new Lr}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new Lr;if((t.outlet||"primary")!==r)throw new Lr;let i,o=[],s=[];if("**"===t.path){const o=n.length>0?mn(n).parameters:{};i=new Yn(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Hr(t),r,t.component,t,Vr(e),Br(e)+n.length,zr(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Lr;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||hn)(n,t,e);if(!r)throw new Lr;const i={};gn(r.posParams,(t,e)=>{i[e]=t.path});const o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=a.consumedSegments,s=n.slice(a.lastChild),i=new Yn(o,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Hr(t),r,t.component,t,Vr(e),Br(e)+o.length,zr(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:c,slicedSegments:u}=Ur(e,o,s,a,this.relativeLinkResolution);if(0===u.length&&c.hasChildren()){const t=this.processChildren(a,c);return[new qn(i,t)]}if(0===a.length&&0===u.length)return[new qn(i,[])];const l=this.processSegment(a,c,u,"primary");return[new qn(i,l)]}}function Vr(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Br(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Ur(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>qr(t,e,n)&&"primary"!==Wr(n))}(t,n,r)){const i=new _n(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&"primary"!==Wr(o)){const n=new _n([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Wr(o)]=n}return i}(t,e,r,new _n(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>qr(t,e,n))}(t,n,r)){const o=new _n(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(qr(t,n,a)&&!i[Wr(a)]){const n=new _n([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Wr(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new _n(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function qr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Wr(t){return t.outlet||"primary"}function Hr(t){return t.data||{}}function zr(t){return t.resolve||{}}function Kr(t){return function(e){return e.pipe(Ae(e=>{const n=t(e);return n?Object(Lt.a)(n).pipe(Object(te.a)(()=>e)):Object(Lt.a)([e])}))}}class Gr{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let Yr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Nb(0,"router-outlet")},directives:function(){return[li]},encapsulation:2}),t})();function Qr(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];$r(r,Xr(e,r))}}function $r(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&Qr(t.children,e)}function Xr(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Jr(t){const e=t.children&&t.children.map(Jr),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=Yr),n}const Zr=new r.r("ROUTES");class ti{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(te.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new fr(pn(r.injector.get(Zr)).map(Jr),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(Lt.a)(this.loader.load(t)):bn(t()).pipe(Object(ke.a)(t=>t instanceof r.w?Object(Mt.a)(t):Object(Lt.a)(this.compiler.compileModuleAsync(t))))}}class ei{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ni,this.attachRef=null}}class ni{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new ei,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class ri{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function ii(t){throw t}function oi(t,e,n){return e.parse("/")}function si(t,e){return Object(Mt.a)(null)}let ai=(()=>{class t{constructor(t,e,n,i,o,s,a,c){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Ft.a,this.errorHandler=ii,this.malformedUriErrorHandler=oi,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:si,afterPreactivation:si},this.urlHandlingStrategy=new ri,this.routeReuseStrategy=new Gr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(r.y),this.console=o.get(r.ab);const u=o.get(r.A);this.isNgZoneEnabled=u instanceof r.A,this.resetConfig(c),this.currentUrlTree=new yn(new _n([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ti(s,a,t=>this.triggerEvent(new tn(t)),t=>this.triggerEvent(new en(t))),this.routerState=zn(this.currentUrlTree,this.rootComponentType),this.transitions=new Bt({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(ie(t=>0!==t.id),Object(te.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Ae(t=>{let n=!1,r=!1;return Object(Mt.a)(t).pipe(Object(Te.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ae(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Mt.a)(t).pipe(Ae(t=>{const n=this.transitions.getValue();return e.next(new ze(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Jt.a:[t]}),Ae(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,function(t){return t.pipe(Ae(t=>function(t,e,n,r,i){return new wr(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(te.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(Te.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(o){return o.pipe(Object(ke.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){return new Fr(t,e,n,r,i,o).recognize()}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(te.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(Te.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(Te.a)(t=>{const n=new Qe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new ze(n,this.serializeUrl(r),i,o);e.next(a);const c=zn(r,this.rootComponentType).snapshot;return Object(Mt.a)(Object.assign(Object.assign({},t),{targetSnapshot:c,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Jt.a}),Kr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(Te.a)(t=>{const e=new $e(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(te.a)(t=>Object.assign(Object.assign({},t),{guards:Tr(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(ke.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(Mt.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(Lt.a)(t).pipe(Object(ke.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(Mt.a)(!0);const s=o.map(o=>{const s=Ir(o,e,i);let a;if(function(t){return t&&pr(t.canDeactivate)}(s))a=bn(s.canDeactivate(t,e,n,r));else{if(!pr(s))throw new Error("Invalid CanDeactivate guard");a=bn(s(t,e,n,r))}return a.pipe(Ee())});return Object(Mt.a)(s).pipe(Pr())}(t.component,t.route,n,e,r)),Ee(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(ke.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(Lt.a)(e).pipe(Ve(e=>Object(Lt.a)([jr(e.route.parent,r),Dr(e.route,r),Mr(t,e.path,n),Nr(t,e.route,n)]).pipe(ne(),Ee(t=>!0!==t,!0))),Ee(t=>!0!==t,!0))}(r,o,t,e):Object(Mt.a)(n)),Object(te.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(Te.a)(t=>{if(mr(t.guardsResult)){const e=ln(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(Te.a)(t=>{const e=new Xe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),ie(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Ge(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Kr(t=>{if(t.guards.canActivateChecks.length)return Object(Mt.a)(t).pipe(Object(Te.a)(t=>{const e=new Je(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Ae(t=>{let n=!1;return Object(Mt.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(t){return t.pipe(Object(ke.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(Mt.a)(t);let o=0;return Object(Lt.a)(n).pipe(Ve(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(Mt.a)({});const o={};return Object(Lt.a)(i).pipe(Object(ke.a)(i=>function(t,e,n,r){const i=Ir(t,e,r);return bn(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(Te.a)(t=>{o[i]=t}))),ce(1),Object(ke.a)(()=>Object.keys(o).length===i.length?Object(Mt.a)(o):Jt.a))}(t._resolve,t,e,r).pipe(Object(te.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Gn(t,n).resolve),null)))}(t.route,e,r,i)),Object(Te.a)(()=>o++),ce(1),Object(ke.a)(e=>o===n.length?Object(Mt.a)(t):Jt.a))}))}),Object(Te.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new Ge(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(Te.a)(t=>{const e=new Ze(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Kr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(te.a)(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const o=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new qn(i,o)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new Kn(new Bt((i=n.value).url),new Bt(i.params),new Bt(i.queryParams),new Bt(i.fragment),new Bt(i.data),i.outlet,i.component,i),o=n.children.map(n=>t(e,n));return new qn(r,o)}}var i}(t,e._root,n?n._root:void 0);return new Hn(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(Te.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(i=this.rootContexts,o=this.routeReuseStrategy,s=t=>this.triggerEvent(t),Object(te.a)(t=>(new hr(o,t.targetRouterState,t.currentRouterState,s).activate(i),t))),Object(Te.a)({next(){n=!0},complete(){n=!0}}),Ue(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Ge(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),_e(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=mr(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Ge(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Ye(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(pl){t.reject(pl)}}var i;return Jt.a}));var i,o,s}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",r=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Qr(t),this.config=t.map(Jr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:o,preserveQueryParams:s,queryParamsHandling:a,preserveFragment:c}=e;Object(r.X)()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const u=n||this.routerState.root,l=c?this.currentUrlTree.fragment:o;let h=null;if(a)switch(a){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=s?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,r,i){if(0===n.length)return er(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new nr(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return gn(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new nr(n,e,r)}(n);if(o.toRoot())return er(e.root,new _n([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new rr(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new rr(t,t===e.root,0)}const r=tr(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new rr(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?sr(s.segmentGroup,s.index,o.commands):or(s.segmentGroup,s.index,o.commands);return er(s.segmentGroup,a,e,r,i)}(u,this.currentUrlTree,t,h,l)}navigateByUrl(t,e={skipLocationChange:!1}){Object(r.X)()&&this.isNgZoneEnabled&&!r.A.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=mr(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(Qv){e=this.malformedUriErrorHandler(Qv,this.urlSerializer,t)}return e}isActive(t,e){if(mr(t))return vn(this.currentUrlTree,t,e);const n=this.parseUrl(t);return vn(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Ke(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition();if(o&&"imperative"!==e&&"imperative"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(o&&"hashchange"==e&&"popstate"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(o&&"popstate"==e&&"hashchange"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);let s,a,c;i?(s=i.resolve,a=i.reject,c=i.promise):c=new Promise((t,e)=>{s=t,a=e});const u=++this.navigationId;return this.setTransition({id:u,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:s,reject:a,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(r.O),r.Wb(xn),r.Wb(ni),r.Wb(S),r.Wb(r.s),r.Wb(r.x),r.Wb(r.i),r.Wb(void 0))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),ci=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new Ft.a,this.subscription=t.events.subscribe(t=>{t instanceof Ke&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(r.X)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const i={skipLocationChange:ui(this.skipLocationChange),replaceUrl:ui(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:ui(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:ui(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(ai),r.Mb(Kn),r.Mb(b))},t.\u0275dir=r.Hb({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.ac("click",(function(t){return e.onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)})),2&t&&(r.Vb("href",e.href,r.pc),r.Cb("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.zb]}),t})();function ui(t){return""===t||!!t}let li=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.o,this.deactivateEvents=new r.o,this.name=i||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new hi(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(ni),r.Mb(r.R),r.Mb(r.j),r.Xb("name"),r.Mb(r.h))},t.\u0275dir=r.Hb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class hi{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Kn?this.route:t===ni?this.childContexts:this.parent.get(t,e)}}class di{}class fi{preload(t,e){return Object(Mt.a)(null)}}let pi=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new ti(e,n,e=>t.triggerEvent(new tn(e)),e=>t.triggerEvent(new en(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(ie(t=>t instanceof Ke),Ve(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.y);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(Lt.a)(n).pipe(Object(ee.a)(),Object(te.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(ke.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(ai),r.Wb(r.x),r.Wb(r.i),r.Wb(r.s),r.Wb(di))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),mi=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ze?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ke&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof an&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new an(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(ai),r.Wb(nt),r.Wb(void 0))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const gi=new r.r("ROUTER_CONFIGURATION"),bi=new r.r("ROUTER_FORROOT_GUARD"),vi=[S,{provide:xn,useClass:On},{provide:ai,useFactory:function(t,e,n,r,i,o,a,c={},u,l){const h=new ai(null,t,e,n,r,i,o,pn(a));if(u&&(h.urlHandlingStrategy=u),l&&(h.routeReuseStrategy=l),c.errorHandler&&(h.errorHandler=c.errorHandler),c.malformedUriErrorHandler&&(h.malformedUriErrorHandler=c.malformedUriErrorHandler),c.enableTracing){const t=s();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return c.onSameUrlNavigation&&(h.onSameUrlNavigation=c.onSameUrlNavigation),c.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=c.paramsInheritanceStrategy),c.urlUpdateStrategy&&(h.urlUpdateStrategy=c.urlUpdateStrategy),c.relativeLinkResolution&&(h.relativeLinkResolution=c.relativeLinkResolution),h},deps:[xn,ni,S,r.s,r.x,r.i,Zr,gi,[class{},new r.B],[class{},new r.B]]},ni,{provide:Kn,useFactory:function(t){return t.routerState.root},deps:[ai]},{provide:r.x,useClass:r.L},pi,fi,class{preload(t,e){return e().pipe(_e(()=>Object(Mt.a)(null)))}},{provide:gi,useValue:{enableTracing:!1}}];function yi(){return new r.z("Router",ai)}let _i=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[vi,xi(e),{provide:bi,useFactory:Ci,deps:[[ai,new r.B,new r.K]]},{provide:gi,useValue:n||{}},{provide:b,useFactory:Si,deps:[c,[new r.q(y),new r.B],gi]},{provide:mi,useFactory:wi,deps:[ai,nt,gi]},{provide:di,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:fi},{provide:r.z,multi:!0,useFactory:yi},[Oi,{provide:r.d,multi:!0,useFactory:Ei,deps:[Oi]},{provide:Ti,useFactory:ki,deps:[Oi]},{provide:r.b,multi:!0,useExisting:Ti}]]}}static forChild(e){return{ngModule:t,providers:[xi(e)]}}}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)(r.Wb(bi,8),r.Wb(ai,8))}}),t})();function wi(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new mi(t,e,n)}function Si(t,e,n={}){return n.useHash?new w(t,e):new _(t,e)}function Ci(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function xi(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Zr,multi:!0,useValue:t}]}let Oi=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new Ft.a}appInitializer(){return this.injector.get(l,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(ai),r=this.injector.get(gi);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Object(Mt.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(gi),n=this.injector.get(pi),i=this.injector.get(mi),o=this.injector.get(ai),s=this.injector.get(r.g);t===s.components[0]&&(this.isLegacyEnabled(e)?o.initialNavigation():this.isLegacyDisabled(e)&&o.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(r.s))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();function Ei(t){return t.appInitializer.bind(t)}function ki(t){return t.bootstrapListener.bind(t)}const Ti=new r.r("Router Initializer");var Ii=n("zIRd"),Ri=(n("t6oF"),n("6Uf2"),n("mrSG")),Ai=n("qOnz"),Pi=n("q/0M"),Di=function(t,e){return(Di=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function ji(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Ni,Mi="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Li=Li||{},Fi=Mi||self;function Vi(){}function Bi(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Ui(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var qi="closure_uid_"+(1e9*Math.random()>>>0),Wi=0;function Hi(t,e,n){return t.call.apply(t.bind,arguments)}function zi(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Ki(t,e,n){return(Ki=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Hi:zi).apply(null,arguments)}function Gi(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Yi(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Qi(){this.s=this.s,this.o=this.o}var $i={};Qi.prototype.s=!1,Qi.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,qi)&&t[qi]||(t[qi]=++Wi)}(this);delete $i[t]}},Qi.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Xi=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Ji=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Zi(t){return Array.prototype.concat.apply([],arguments)}function to(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function eo(t){return/^[\s\xa0]*$/.test(t)}var no,ro=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function io(t,e){return-1!=t.indexOf(e)}function oo(t,e){return t<e?-1:t>e?1:0}t:{var so=Fi.navigator;if(so){var ao=so.userAgent;if(ao){no=ao;break t}}no=""}function co(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function uo(t){var e={};for(var n in t)e[n]=t[n];return e}var lo="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ho(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<lo.length;o++)n=lo[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function fo(t){return fo[" "](t),t}fo[" "]=Vi;var po,mo,go=io(no,"Opera"),bo=io(no,"Trident")||io(no,"MSIE"),vo=io(no,"Edge"),yo=vo||bo,_o=io(no,"Gecko")&&!(io(no.toLowerCase(),"webkit")&&!io(no,"Edge"))&&!(io(no,"Trident")||io(no,"MSIE"))&&!io(no,"Edge"),wo=io(no.toLowerCase(),"webkit")&&!io(no,"Edge");function So(){var t=Fi.document;return t?t.documentMode:void 0}t:{var Co="",xo=(mo=no,_o?/rv:([^\);]+)(\)|;)/.exec(mo):vo?/Edge\/([\d\.]+)/.exec(mo):bo?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(mo):wo?/WebKit\/(\S+)/.exec(mo):go?/(?:Version)[ \/]?(\S+)/.exec(mo):void 0);if(xo&&(Co=xo?xo[1]:""),bo){var Oo=So();if(null!=Oo&&Oo>parseFloat(Co)){po=String(Oo);break t}}po=Co}var Eo={};var ko=Fi.document&&bo&&(So()||parseInt(po,10))||void 0,To=function(){if(!Fi.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Fi.addEventListener("test",Vi,e),Fi.removeEventListener("test",Vi,e)}catch(n){}return t}();function Io(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function Ro(t,e){if(Io.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(_o){t:{try{fo(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ao[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ro.Z.h.call(this)}}Io.prototype.h=function(){this.defaultPrevented=!0},Yi(Ro,Io);var Ao={2:"touch",3:"pen",4:"mouse"};Ro.prototype.h=function(){Ro.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Po="closure_listenable_"+(1e6*Math.random()|0),Do=0;function jo(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++Do,this.ca=this.fa=!1}function No(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Mo(t){this.src=t,this.g={},this.h=0}function Lo(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],o=Xi(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(No(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function Fo(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ca&&o.listener==e&&o.capture==!!n&&o.ia==r)return i}return-1}Mo.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=Fo(t,e,r,i);return-1<s?(e=t[s],n||(e.fa=!1)):((e=new jo(e,this.src,o,!!r,i)).fa=n,t.push(e)),e};var Vo="closure_lm_"+(1e6*Math.random()|0),Bo={};function Uo(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}return r=Yo(r),e&&e[Po]?e.O(n,r,Ui(i)?!!i.capture:!!i,o):qo(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Uo(t,e[o],n,r,i);return null}return n=Yo(n),t&&t[Po]?t.N(e,n,Ui(r)?!!r.capture:!!r,i):qo(t,e,n,!1,r,i)}function qo(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Ui(i)?!!i.capture:!!i,a=Ko(t);if(a||(t[Vo]=a=new Mo(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=zo;return function e(n){return t.call(e.src,e.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)To||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Ho(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Wo(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[Po])Lo(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Ho(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ko(e))?(Lo(n,t),0==n.h&&(n.src=null,e[Vo]=null)):No(t)}}}function Ho(t){return t in Bo?Bo[t]:Bo[t]="on"+t}function zo(t,e){if(t.ca)t=!0;else{e=new Ro(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&Wo(t),t=n.call(r,e)}return t}function Ko(t){return(t=t[Vo])instanceof Mo?t:null}var Go="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yo(t){return"function"==typeof t?t:(t[Go]||(t[Go]=function(e){return t.handleEvent(e)}),t[Go])}function Qo(){Qi.call(this),this.i=new Mo(this),this.P=this,this.I=null}function $o(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new Io(e,t);else if(e instanceof Io)e.target=e.target||t;else{var i=e;ho(e=new Io(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=Xo(s,r,!0,e)&&i}if(i=Xo(s=e.g=t,r,!0,e)&&i,i=Xo(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Xo(s=e.g=n[o],r,!1,e)&&i}function Xo(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ca&&s.capture==n){var a=s.listener,c=s.ia||s.src;s.fa&&Lo(t.i,s),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}Yi(Qo,Qi),Qo.prototype[Po]=!0,Qo.prototype.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=Ui(i)?!!i.capture:!!i,r=Yo(r),e&&e[Po]?(e=e.i,(n=String(n).toString())in e.g&&-1<(r=Fo(s=e.g[n],r,i,o))&&(No(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.g[n],e.h--))):e&&(e=Ko(e))&&(n=e.g[n.toString()],e=-1,n&&(e=Fo(n,r,i,o)),(r=-1<e?n[e]:null)&&Wo(r))}(this,t,e,n,r)},Qo.prototype.M=function(){if(Qo.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)No(n[r]);delete e.g[t],e.h--}}this.I=null},Qo.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Qo.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var Jo=Fi.JSON.stringify;function Zo(){var t=as,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var ts,es=function(){function t(){this.h=this.g=null}return t.prototype.add=function(t,e){var n=ns.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n},t}(),ns=new(function(){function t(t,e){this.i=t,this.j=e,this.h=0,this.g=null}return t.prototype.get=function(){var t;return 0<this.h?(this.h--,this.g=(t=this.g).next,t.next=null):t=this.i(),t},t}())((function(){return new rs}),(function(t){return t.reset()})),rs=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function is(t){Fi.setTimeout((function(){throw t}),0)}function os(t,e){ts||function(){var t=Fi.Promise.resolve(void 0);ts=function(){t.then(cs)}}(),ss||(ts(),ss=!0),as.add(t,e)}var ss=!1,as=new es;function cs(){for(var t;t=Zo();){try{t.h.call(t.g)}catch(n){is(n)}var e=ns;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}ss=!1}function us(t,e){Qo.call(this),this.h=t||1,this.g=e||Fi,this.j=Ki(this.kb,this),this.l=Date.now()}function ls(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function hs(t,e,n){if("function"==typeof t)n&&(t=Ki(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Ki(t.handleEvent,t)}return 2147483647<Number(e)?-1:Fi.setTimeout(t,e||0)}function ds(t){t.g=hs((function(){t.g=null,t.i&&(t.i=!1,ds(t))}),t.j);var e=t.h;t.h=null,t.m.apply(null,e)}Yi(us,Qo),(Ni=us.prototype).da=!1,Ni.S=null,Ni.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),$o(this,"tick"),this.da&&(ls(this),this.start()))}},Ni.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ni.M=function(){us.Z.M.call(this),ls(this),delete this.g};var fs=function(t){function e(e,n){var r=t.call(this)||this;return r.m=e,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Di(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:ds(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(Fi.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(Qi);function ps(t){Qi.call(this),this.h=t,this.g={}}Yi(ps,Qi);var ms=[];function gs(t,e,n,r){Array.isArray(n)||(n&&(ms[0]=n.toString()),n=ms);for(var i=0;i<n.length;i++){var o=Uo(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function bs(t){co(t.g,(function(t,e){this.g.hasOwnProperty(e)&&Wo(t)}),t),t.g={}}function vs(){this.g=!0}function ys(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Jo(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}ps.prototype.M=function(){ps.Z.M.call(this),bs(this)},ps.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},vs.prototype.Aa=function(){this.g=!1},vs.prototype.info=function(){};var _s={},ws=null;function Ss(){return ws=ws||new Qo}function Cs(t){Io.call(this,_s.Ma,t)}function xs(t){var e=Ss();$o(e,new Cs(e,t))}function Os(t,e){Io.call(this,_s.STAT_EVENT,t),this.stat=e}function Es(t){var e=Ss();$o(e,new Os(e,t))}function ks(t,e){Io.call(this,_s.Na,t),this.size=e}function Ts(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Fi.setTimeout((function(){t()}),e)}_s.Ma="serverreachability",Yi(Cs,Io),_s.STAT_EVENT="statevent",Yi(Os,Io),_s.Na="timingevent",Yi(ks,Io);var Is={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Rs={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function As(){}function Ps(){}As.prototype.h=null;var Ds,js={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ns(){Io.call(this,"d")}function Ms(){Io.call(this,"c")}function Ls(){}function Fs(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new ps(this),this.P=Bs,this.W=new us(t=yo?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Vs}function Vs(){this.i=null,this.g="",this.h=!1}Yi(Ns,Io),Yi(Ms,Io),Yi(Ls,As),Ls.prototype.g=function(){return new XMLHttpRequest},Ls.prototype.i=function(){return{}},Ds=new Ls;var Bs=45e3,Us={},qs={};function Ws(t,e,n){t.K=1,t.v=da(sa(e)),t.s=n,t.U=!0,Hs(t,null)}function Hs(t,e){t.F=Date.now(),Ys(t),t.A=sa(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),Oa(n.h,"t",r),t.C=0,n=t.l.H,t.h=new Vs,t.g=Ec(t.l,n?e:null,!t.s),0<t.O&&(t.L=new fs(Ki(t.Ia,t,t.g),t.O)),gs(t.V,t.g,"readystatechange",t.gb),e=t.H?uo(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),xs(1),function(t,e,n,r,i,o){t.info((function(){if(t.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+u+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.j,t.u,t.A,t.m,t.X,t.s)}function zs(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function Ks(t,e,n){for(var r,i=!0;!t.I&&t.C<n.length;){if((r=Gs(t,n))==qs){4==e&&(t.o=4,Es(14),i=!1),ys(t.j,t.m,null,"[Incomplete Response]");break}if(r==Us){t.o=4,Es(15),ys(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}ys(t.j,t.m,r,null),Zs(t,r)}zs(t)&&r!=qs&&r!=Us&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Es(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),vc(e),e.L=!0,Es(11))):(ys(t.j,t.m,n,"[Invalid Chunked Response]"),Js(t),Xs(t))}function Gs(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?qs:(n=Number(e.substring(n,r)),isNaN(n)?Us:(r+=1)+n>e.length?qs:(e=e.substr(r,n),t.C=r+n,e))}function Ys(t){t.Y=Date.now()+t.P,Qs(t,t.P)}function Qs(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Ts(Ki(t.eb,t),e)}function $s(t){t.B&&(Fi.clearTimeout(t.B),t.B=null)}function Xs(t){0==t.l.G||t.I||wc(t.l,t)}function Js(t){$s(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,ls(t.W),bs(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Zs(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||Pa(n.i,t)))if(n.I=t.N,!t.J&&Pa(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;_c(n),uc(n)}bc(n),Es(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Ts(Ki(n.ab,n),6e3));if(1>=Aa(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else Cc(n,11)}else if((t.J||n.g==t)&&_c(n),!eo(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){var o=i[e];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var s=o[3];null!=s&&(n.ma=s,n.h.info("VER="+n.ma));var a=o[4];null!=a&&(n.za=a,n.h.info("SVER="+n.za));var c=o[5];null!=c&&"number"==typeof c&&0<c&&(n.K=r=1.5*c,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var u=t.g;if(u){var l=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(io(l,"spdy")||io(l,"quic")||io(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(Da(h,h.h),h.h=null))}if(r.D){var d=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.sa=d,ha(r.F,r.D,d))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var f=t;if((r=n).oa=Oc(r,r.H?r.la:null,r.W),f.J){ja(r.i,f);var p=f,m=r.K;m&&p.setTimeout(m),p.B&&($s(p),Ys(p)),r.g=f}else gc(r);0<n.l.length&&dc(n)}else"stop"!=o[0]&&"close"!=o[0]||Cc(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?Cc(n,7):cc(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}xs(4)}catch(o){}}function ta(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Bi(t)||"string"==typeof t)Ji(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(Bi(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(Bi(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function ea(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof ea)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function na(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];ra(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)ra(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function ra(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Ni=Fs.prototype).setTimeout=function(t){this.P=t},Ni.gb=function(t){t=t.target;var e=this.L;e&&3==rc(t)?e.l():this.Ia(t)},Ni.Ia=function(t){try{if(t==this.g)t:{var e=rc(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>e)&&(3!=e||yo||this.g&&(this.h.h||this.g.ga()||ic(this.g)))){this.I||4!=e||7==n||xs(8==n||0>=r?3:2),$s(this);var i=this.g.ba();this.N=i;e:if(zs(this)){var o=ic(this.g);t="";var s=o.length,a=4==rc(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Js(this),Xs(this);var c="";break e}this.h.i=new Fi.TextDecoder}for(n=0;n<s;n++)this.h.h=!0,t+=this.h.i.decode(o[n],{stream:a&&n==s-1});o.splice(0,s),this.h.g+=t,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==i,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.j,this.u,this.A,this.m,this.X,e,i),this.i){if(this.$&&!this.J){e:{if(this.g){var u,l=this.g;if((u=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!eo(u)){var h=u;break e}}h=null}if(!(i=h)){this.i=!1,this.o=3,Es(12),Js(this),Xs(this);break t}ys(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Zs(this,i)}this.U?(Ks(this,e,c),yo&&this.i&&3==e&&(gs(this.V,this.W,"tick",this.fb),this.W.start())):(ys(this.j,this.m,c,null),Zs(this,c)),4==e&&Js(this),this.i&&!this.I&&(4==e?wc(this.l,this):(this.i=!1,Ys(this)))}else 400==i&&0<c.indexOf("Unknown SID")?(this.o=3,Es(12)):(this.o=0,Es(13)),Js(this),Xs(this)}}}catch(e){}},Ni.fb=function(){if(this.g){var t=rc(this.g),e=this.g.ga();this.C<e.length&&($s(this),Ks(this,t,e),this.i&&4!=t&&Ys(this))}},Ni.cancel=function(){this.I=!0,Js(this)},Ni.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.j,this.A),2!=this.K&&(xs(3),Es(17)),Js(this),this.o=2,Xs(this)):Qs(this,this.Y-t)},(Ni=ea.prototype).R=function(){na(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},Ni.T=function(){return na(this),this.g.concat()},Ni.get=function(t,e){return ra(this.h,t)?this.h[t]:e},Ni.set=function(t,e){ra(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},Ni.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var ia=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function oa(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof oa){this.g=void 0!==e?e:t.g,aa(this,t.j),this.s=t.s,ca(this,t.i),ua(this,t.m),this.l=t.l,e=t.h;var n=new wa;n.i=e.i,e.g&&(n.g=new ea(e.g),n.h=e.h),la(this,n),this.o=t.o}else t&&(n=String(t).match(ia))?(this.g=!!e,aa(this,n[1]||"",!0),this.s=fa(n[2]||""),ca(this,n[3]||"",!0),ua(this,n[4]),this.l=fa(n[5]||"",!0),la(this,n[6]||"",!0),this.o=fa(n[7]||"")):(this.g=!!e,this.h=new wa(null,this.g))}function sa(t){return new oa(t)}function aa(t,e,n){t.j=n?fa(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function ca(t,e,n){t.i=n?fa(e,!0):e}function ua(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function la(t,e,n){e instanceof wa?(t.h=e,function(t,e){e&&!t.j&&(Sa(t),t.i=null,t.g.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Ca(this,e),Oa(this,n,t))}),t)),t.j=e}(t.h,t.g)):(n||(e=pa(e,ya)),t.h=new wa(e,t.g))}function ha(t,e,n){t.h.set(e,n)}function da(t){return ha(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function fa(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function pa(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,ma),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ma(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}oa.prototype.toString=function(){var t=[],e=this.j;e&&t.push(pa(e,ga,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(pa(e,ga,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(pa(n,"/"==n.charAt(0)?va:ba,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",pa(n,_a)),t.join("")};var ga=/[#\/\?@]/g,ba=/[#\?:]/g,va=/[#\?]/g,ya=/[#\?@]/g,_a=/#/g;function wa(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Sa(t){t.g||(t.g=new ea,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Ca(t,e){Sa(t),e=Ea(t,e),ra(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,ra((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&na(t)))}function xa(t,e){return Sa(t),e=Ea(t,e),ra(t.g.h,e)}function Oa(t,e,n){Ca(t,e),0<n.length&&(t.i=null,t.g.set(Ea(t,e),to(n)),t.h+=n.length)}function Ea(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(Ni=wa.prototype).add=function(t,e){Sa(this),this.i=null,t=Ea(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},Ni.forEach=function(t,e){Sa(this),this.g.forEach((function(n,r){Ji(n,(function(n){t.call(e,n,r,this)}),this)}),this)},Ni.T=function(){Sa(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Ni.R=function(t){Sa(this);var e=[];if("string"==typeof t)xa(this,t)&&(e=Zi(e,this.g.get(Ea(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=Zi(e,t[n])}return e},Ni.set=function(t,e){return Sa(this),this.i=null,xa(this,t=Ea(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},Ni.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},Ni.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.i=t.join("&")};var ka=function(){return function(t,e){this.h=t,this.g=e}}();function Ta(t){this.l=t||Ia,t=Fi.PerformanceNavigationTiming?0<(t=Fi.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Fi.g&&Fi.g.Ea&&Fi.g.Ea()&&Fi.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ia=10;function Ra(t){return!!t.h||!!t.g&&t.g.size>=t.j}function Aa(t){return t.h?1:t.g?t.g.size:0}function Pa(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function Da(t,e){t.g?t.g.add(e):t.h=e}function ja(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function Na(t){var e,n;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var r=t.i;try{for(var i=ji(t.g.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.D)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return to(t.i)}function Ma(){}function La(){this.g=new Ma}function Fa(t,e,n){var r=n||"";try{ta(t,(function(t,n){var i=t;Ui(t)&&(i=Jo(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(Qv){throw e.push(r+"type="+encodeURIComponent("_badmap")),Qv}}function Va(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}function Ba(t){this.l=t.$b||null,this.j=t.ib||!1}function Ua(t,e){Qo.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=qa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ta.prototype.cancel=function(){var t,e;if(this.i=Na(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=ji(this.g.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}},Ma.prototype.stringify=function(t){return Fi.JSON.stringify(t,void 0)},Ma.prototype.parse=function(t){return Fi.JSON.parse(t,void 0)},Yi(Ba,As),Ba.prototype.g=function(){return new Ua(this.l,this.j)},Ba.prototype.i=function(t){return function(){return t}}({}),Yi(Ua,Qo);var qa=0;function Wa(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function Ha(t){t.readyState=4,t.l=null,t.j=null,t.A=null,za(t)}function za(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(Ni=Ua.prototype).open=function(t,e){if(this.readyState!=qa)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,za(this)},Ni.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Fi).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Ni.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ha(this)),this.readyState=qa},Ni.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,za(this)),this.g&&(this.readyState=3,za(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Fi.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Wa(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},Ni.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ha(this):za(this),3==this.readyState&&Wa(this)}},Ni.Ua=function(t){this.g&&(this.response=this.responseText=t,Ha(this))},Ni.Ta=function(t){this.g&&(this.response=t,Ha(this))},Ni.ha=function(){this.g&&Ha(this)},Ni.setRequestHeader=function(t,e){this.v.append(t,e)},Ni.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},Ni.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Ua.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Ka=Fi.JSON.parse;function Ga(t){Qo.call(this),this.headers=new ea,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ya,this.K=this.L=!1}Yi(Ga,Qo);var Ya="",Qa=/^https?$/i,$a=["POST","PUT"];function Xa(t){return"content-type"==t.toLowerCase()}function Ja(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Za(t),ec(t)}function Za(t){t.D||(t.D=!0,$o(t,"complete"),$o(t,"error"))}function tc(t){if(t.h&&void 0!==Li&&(!t.C[1]||4!=rc(t)||2!=t.ba()))if(t.v&&4==rc(t))hs(t.Fa,0,t);else if($o(t,"readystatechange"),4==rc(t)){t.h=!1;try{var e,n=t.ba();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.H).match(ia)[1]||null;if(!o&&Fi.self&&Fi.self.location){var s=Fi.self.location.protocol;o=s.substr(0,s.length-1)}i=!Qa.test(o?o.toLowerCase():"")}e=i}if(e)$o(t,"complete"),$o(t,"success");else{t.m=6;try{var a=2<rc(t)?t.g.statusText:""}catch(c){a=""}t.j=a+" ["+t.ba()+"]",Za(t)}}finally{ec(t)}}}function ec(t,e){if(t.g){nc(t);var n=t.g,r=t.C[0]?Vi:null;t.g=null,t.C=null,e||$o(t,"ready");try{n.onreadystatechange=r}catch(Qv){}}}function nc(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Fi.clearTimeout(t.A),t.A=null)}function rc(t){return t.g?t.g.readyState:0}function ic(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case Ya:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function oc(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return co(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):ha(t,e,n))}function sc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function ac(t){this.za=0,this.l=[],this.h=new vs,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=sc("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=sc("baseRetryDelayMs",5e3,t),this.$a=sc("retryDelaySeedMs",1e4,t),this.Ya=sc("forwardChannelMaxRetries",2,t),this.ra=sc("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new Ta(t&&t.concurrentRequestLimit),this.Ca=new La,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function cc(t){if(lc(t),3==t.G){var e=t.V++,n=sa(t.F);ha(n,"SID",t.J),ha(n,"RID",e),ha(n,"TYPE","terminate"),pc(t,n),(e=new Fs(t,t.h,e,void 0)).K=2,e.v=da(sa(n)),n=!1,Fi.navigator&&Fi.navigator.sendBeacon&&(n=Fi.navigator.sendBeacon(e.v.toString(),"")),!n&&Fi.Image&&((new Image).src=e.v,n=!0),n||(e.g=Ec(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Ys(e)}xc(t)}function uc(t){t.g&&(vc(t),t.g.cancel(),t.g=null)}function lc(t){uc(t),t.u&&(Fi.clearTimeout(t.u),t.u=null),_c(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Fi.clearTimeout(t.m),t.m=null)}function hc(t,e){t.l.push(new ka(t.Za++,e)),3==t.G&&dc(t)}function dc(t){Ra(t.i)||t.m||(t.m=!0,os(t.Ha,t),t.C=0)}function fc(t,e){var n;n=e?e.m:t.V++;var r=sa(t.F);ha(r,"SID",t.J),ha(r,"RID",n),ha(r,"AID",t.U),pc(t,r),t.o&&t.s&&oc(r,t.o,t.s),n=new Fs(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=mc(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),Da(t.i,n),Ws(n,r,e)}function pc(t,e){t.j&&ta({},(function(t,n){ha(e,n,t)}))}function mc(t,e,n){n=Math.min(t.l.length,n);var r=t.j?Ki(t.j.Oa,t.j,t):null;t:for(var i=t.l,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].h)):o=0:s.push("ofs="+o);for(var a=!0,c=0;c<n;c++){var u=i[c].h,l=i[c].g;if(0>(u-=o))o=Math.max(0,i[c].h-100),a=!1;else try{Fa(l,s,"req"+u+"_")}catch(su){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.l.splice(0,n),e.D=t,r}function gc(t){t.g||t.u||(t.Y=1,os(t.Ga,t),t.A=0)}function bc(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=Ts(Ki(t.Ga,t),Sc(t,t.A)),t.A++,0))}function vc(t){null!=t.B&&(Fi.clearTimeout(t.B),t.B=null)}function yc(t){t.g=new Fs(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=sa(t.oa);ha(e,"RID","rpc"),ha(e,"SID",t.J),ha(e,"CI",t.N?"0":"1"),ha(e,"AID",t.U),pc(t,e),ha(e,"TYPE","xmlhttp"),t.o&&t.s&&oc(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=da(sa(e)),n.s=null,n.U=!0,Hs(n,t)}function _c(t){null!=t.v&&(Fi.clearTimeout(t.v),t.v=null)}function wc(t,e){var n=null;if(t.g==e){_c(t),vc(t),t.g=null;var r=2}else{if(!Pa(t.i,e))return;n=e.D,ja(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;$o(r=Ss(),new ks(r,n,e,i)),dc(t)}else gc(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Aa(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=Ts(Ki(t.Ha,t,e),Sc(t,t.C)),t.C++,0)))}(t,e)||2==r&&bc(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Cc(t,5);break;case 4:Cc(t,10);break;case 3:Cc(t,6);break;default:Cc(t,2)}}function Sc(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function Cc(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=Ki(t.jb,t);n||(n=new oa("//www.google.com/images/cleardot.gif"),Fi.location&&"http"==Fi.location.protocol||aa(n,"https"),da(n)),function(t,e){var n=new vs;if(Fi.Image){var r=new Image;r.onload=Gi(Va,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Gi(Va,n,r,"TestLoadImage: error",!1,e),r.onabort=Gi(Va,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Gi(Va,n,r,"TestLoadImage: timeout",!1,e),Fi.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Es(2);t.G=0,t.j&&t.j.va(e),xc(t),lc(t)}function xc(t){t.G=0,t.I=-1,t.j&&(0==Na(t.i).length&&0==t.l.length||(t.i.i.length=0,to(t.l),t.l.length=0),t.j.ua())}function Oc(t,e,n){var r=function(t){return t instanceof oa?sa(t):new oa(t,void 0)}(n);if(""!=r.i)e&&ca(r,e+"."+r.i),ua(r,r.m);else{var i=Fi.location;r=function(t,e,n,r){var i=new oa(null,void 0);return t&&aa(i,t),e&&ca(i,e),n&&ua(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&co(t.aa,(function(t,e){ha(r,e,t)})),n=t.sa,(e=t.D)&&n&&ha(r,e,n),ha(r,"VER",t.ma),pc(t,r),r}function Ec(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ga(n&&t.Ba&&!t.qa?new Ba({ib:!0}):t.qa)).L=t.H,e}function kc(){}function Tc(){if(bo&&!(10<=Number(ko)))throw Error("Environmental error: no available transport.")}function Ic(t,e){Qo.call(this),this.g=new ac(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!eo(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!eo(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Pc(this)}function Rc(t){Ns.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function Ac(){Ms.call(this),this.status=1}function Pc(t){this.g=t}(Ni=Ga.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ds.g(),this.C=function(t){return t.h||(t.h=t.i())}(this.u?this.u:Ds),this.g.onreadystatechange=Ki(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(o){return void Ja(this,o)}t=n||"";var i=new ea(this.headers);r&&ta(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Xa,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=Fi.FormData&&t instanceof Fi.FormData,!(0<=Xi($a,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.g.setRequestHeader(e,t)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{nc(this),0<this.B&&((this.K=function(t){return bo&&function(){return t=Eo,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){for(var t=0,e=ro(String(po)).split("."),n=ro("9").split("."),r=Math.max(e.length,n.length),i=0;0==t&&i<r;i++){var o=e[i]||"",s=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==o[0].length&&0==s[0].length)break;t=oo(0==o[1].length?0:parseInt(o[1],10),0==s[1].length?0:parseInt(s[1],10))||oo(0==o[2].length,0==s[2].length)||oo(o[2],s[2]),o=o[3],s=s[3]}while(0==t)}return 0<=t}();var t}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ki(this.pa,this)):this.A=hs(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){Ja(this,o)}},Ni.pa=function(){void 0!==Li&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,$o(this,"timeout"),this.abort(8))},Ni.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,$o(this,"complete"),$o(this,"abort"),ec(this))},Ni.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ec(this,!0)),Ga.Z.M.call(this)},Ni.Fa=function(){this.s||(this.F||this.v||this.l?tc(this):this.cb())},Ni.cb=function(){tc(this)},Ni.ba=function(){try{return 2<rc(this)?this.g.status:-1}catch(mo){return-1}},Ni.ga=function(){try{return this.g?this.g.responseText:""}catch(mo){return""}},Ni.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Ka(e)}},Ni.Da=function(){return this.m},Ni.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ni=ac.prototype).ma=8,Ni.G=1,Ni.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},Ni.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new Fs(this,this.h,t,void 0),n=this.s;if(this.P&&(n?ho(n=uo(n),this.P):n=this.P),null===this.o&&(e.H=n),this.ja)t:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break t}if(4096===r||i===this.l.length-1){r=i+1;break t}}r=1e3}else r=1e3;r=mc(this,e,r),ha(i=sa(this.F),"RID",t),ha(i,"CVER",22),this.D&&ha(i,"X-HTTP-Session-Id",this.D),pc(this,i),this.o&&n&&oc(i,this.o,n),Da(this.i,e),this.Ra&&ha(i,"TYPE","init"),this.ja?(ha(i,"$req",r),ha(i,"SID","null"),e.$=!0,Ws(e,i,null)):Ws(e,i,r),this.G=2}}else 3==this.G&&(t?fc(this,t):0==this.l.length||Ra(this.i)||fc(this))},Ni.Ga=function(){if(this.u=null,yc(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Ts(Ki(this.bb,this),t)}},Ni.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Es(10),uc(this),yc(this))},Ni.ab=function(){null!=this.v&&(this.v=null,uc(this),bc(this),Es(19))},Ni.jb=function(t){t?(this.h.info("Successfully pinged google.com"),Es(2)):(this.h.info("Failed to ping google.com"),Es(1))},(Ni=kc.prototype).xa=function(){},Ni.wa=function(){},Ni.va=function(){},Ni.ua=function(){},Ni.Oa=function(){},Tc.prototype.g=function(t,e){return new Ic(t,e)},Yi(Ic,Qo),Ic.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),os(Ki(t.hb,t,e))),Es(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=Oc(t,null,t.W),dc(t)},Ic.prototype.close=function(){cc(this.g)},Ic.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,hc(this.g,e)}else this.v?((e={}).__data__=Jo(t),hc(this.g,e)):hc(this.g,t)},Ic.prototype.M=function(){this.g.j=null,delete this.j,cc(this.g),delete this.g,Ic.Z.M.call(this)},Yi(Rc,Ns),Yi(Ac,Ms),Yi(Pc,kc),Pc.prototype.xa=function(){$o(this.g,"a")},Pc.prototype.wa=function(t){$o(this.g,new Rc(t))},Pc.prototype.va=function(t){$o(this.g,new Ac(t))},Pc.prototype.ua=function(){$o(this.g,"b")},Tc.prototype.createWebChannel=Tc.prototype.g,Ic.prototype.send=Ic.prototype.u,Ic.prototype.open=Ic.prototype.m,Ic.prototype.close=Ic.prototype.close,Is.NO_ERROR=0,Is.TIMEOUT=8,Is.HTTP_ERROR=6,Rs.COMPLETE="complete",Ps.EventType=js,js.OPEN="a",js.CLOSE="b",js.ERROR="c",js.MESSAGE="d",Qo.prototype.listen=Qo.prototype.N,Ga.prototype.listenOnce=Ga.prototype.O,Ga.prototype.getLastError=Ga.prototype.La,Ga.prototype.getLastErrorCode=Ga.prototype.Da,Ga.prototype.getStatus=Ga.prototype.ba,Ga.prototype.getResponseJson=Ga.prototype.Qa,Ga.prototype.getResponseText=Ga.prototype.ga,Ga.prototype.send=Ga.prototype.ea;var Dc=Is,jc=Rs,Nc=_s,Mc=Ba,Lc=Ps,Fc=Ga,Vc=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Vc.o=-1;var Bc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Uc=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Ri.__extends)(e,t),e}(Error),qc=new Pi.Logger("@firebase/firestore");function Wc(){return qc.logLevel}function Hc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(qc.logLevel<=Pi.LogLevel.DEBUG){var r=e.map(Gc);qc.debug.apply(qc,Object(Ri.__spreadArray)(["Firestore (8.7.0): "+t],r))}}function zc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(qc.logLevel<=Pi.LogLevel.ERROR){var r=e.map(Gc);qc.error.apply(qc,Object(Ri.__spreadArray)(["Firestore (8.7.0): "+t],r))}}function Kc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(qc.logLevel<=Pi.LogLevel.WARN){var r=e.map(Gc);qc.warn.apply(qc,Object(Ri.__spreadArray)(["Firestore (8.7.0): "+t],r))}}function Gc(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(Qv){return t}}function Yc(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.7.0) INTERNAL ASSERTION FAILED: "+t;throw zc(e),new Error(e)}function Qc(t,e){t||Yc()}function $c(t,e){return t}function Xc(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Jc=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Xc(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Zc(t,e){return t<e?-1:t>e?1:0}function tu(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function eu(t){return t+"\0"}var nu=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Uc(Bc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Uc(Bc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Uc(Bc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Uc(Bc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Zc(this.nanoseconds,t.nanoseconds):Zc(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),ru=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new nu(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function iu(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ou(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function su(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var au=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Yc(),void 0===n?n=t.length-e:n>t.length-e&&Yc(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),cu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ri.__extends)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new Uc(Bc.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.emptyPath=function(){return new e([])},e}(au),uu=/^[_a-zA-Z][_a-zA-Z0-9]*$/,lu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ri.__extends)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return uu.test(t)},e.prototype.canonicalString=function(){return this.toArray().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Uc(Bc.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Uc(Bc.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var c=t[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new Uc(Bc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=c,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Uc(Bc.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(au),hu=function(){function t(t){this.fields=t,t.sort(lu.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return tu(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),du=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return Zc(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();du.EMPTY_BYTE_STRING=new du("");var fu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pu(t){if(Qc(!!t),"string"==typeof t){var e=0,n=fu.exec(t);if(Qc(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:mu(t.seconds),nanos:mu(t.nanos)}}function mu(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function gu(t){return"string"==typeof t?du.fromBase64String(t):du.fromUint8Array(t)}function bu(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function vu(t){var e=pu(t.mapValue.fields.__local_write_time__.timestampValue);return new nu(e.seconds,e.nanos)}function yu(t){return null==t}function _u(t){return 0===t&&1/t==-1/0}function wu(t){return"number"==typeof t&&Number.isInteger(t)&&!_u(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Su=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(cu.fromString(e))},t.fromName=function(e){return new t(cu.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===cu.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return cu.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new cu(e.slice()))},t}();function Cu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?bu(t)?4:10:Yc()}function xu(t,e){var n=Cu(t);if(n!==Cu(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return vu(t).isEqual(vu(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=pu(t.timestampValue),r=pu(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return gu(t.bytesValue).isEqual(gu(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return mu(t.geoPointValue.latitude)===mu(e.geoPointValue.latitude)&&mu(t.geoPointValue.longitude)===mu(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return mu(t.integerValue)===mu(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=mu(t.doubleValue),r=mu(e.doubleValue);return n===r?_u(n)===_u(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return tu(t.arrayValue.values||[],e.arrayValue.values||[],xu);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(iu(n)!==iu(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!xu(n[i],r[i])))return!1;return!0}(t,e);default:return Yc()}}function Ou(t,e){return void 0!==(t.values||[]).find((function(t){return xu(t,e)}))}function Eu(t,e){var n=Cu(t),r=Cu(e);if(n!==r)return Zc(n,r);switch(n){case 0:return 0;case 1:return Zc(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=mu(t.integerValue||t.doubleValue),r=mu(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return ku(t.timestampValue,e.timestampValue);case 4:return ku(vu(t),vu(e));case 5:return Zc(t.stringValue,e.stringValue);case 6:return function(t,e){var n=gu(t),r=gu(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Zc(n[i],r[i]);if(0!==o)return o}return Zc(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Zc(mu(t.latitude),mu(e.latitude));return 0!==n?n:Zc(mu(t.longitude),mu(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Eu(n[i],r[i]);if(o)return o}return Zc(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Zc(r[s],o[s]);if(0!==a)return a;var c=Eu(n[r[s]],i[o[s]]);if(0!==c)return c}return Zc(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Yc()}}function ku(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Zc(t,e);var n=pu(t),r=pu(e),i=Zc(n.seconds,r.seconds);return 0!==i?i:Zc(n.nanos,r.nanos)}function Tu(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=pu(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?gu(e.bytesValue).toBase64():"referenceValue"in e?Su.fromName(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=s+":"+t(e.fields[s])}return n+"}"}(e.mapValue):Yc();var n}(t)}function Iu(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Ru(t){return!!t&&"integerValue"in t}function Au(t){return!!t&&"arrayValue"in t}function Pu(t){return!!t&&"nullValue"in t}function Du(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ju(t){return!!t&&"mapValue"in t}function Nu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue)return{timestampValue:Object.assign({},pu(t.timestampValue))};if(t.mapValue){var e={mapValue:{fields:{}}};return ou(t.mapValue.fields,(function(t,n){return e.mapValue.fields[t]=Nu(n)})),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Nu(t.arrayValue.values[r]);return n}return Object.assign({},t)}var Mu=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!ju(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Nu(e)},t.prototype.setAll=function(t){var e=this,n=lu.emptyPath(),r={},i=[];t.forEach((function(t,o){if(!n.isImmediateParentOf(o)){var s=e.getFieldsMap(n);e.applyChanges(s,r,i),r={},i=[],n=o.popLast()}t?r[o.lastSegment()]=Nu(t):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());ju(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return xu(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];ju(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){ou(e,(function(e,n){return t[e]=n}));for(var r=0,i=n;r<i.length;r++)delete t[i[r]]},t.prototype.clone=function(){return new t(Nu(this.value))},t}();function Lu(t){var e=[];return ou(t.fields,(function(t,n){var r=new lu([t]);if(ju(n)){var i=Lu(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)})),new hu(e)}var Fu=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,ru.min(),Mu.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Mu.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Mu.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Mu.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Mu.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Vu=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};function Bu(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Vu(t,e,n,r,i,o,s)}function Uu(t){var e=$c(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.canonicalString()+t.op.toString()+Tu(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.canonicalString()+t.dir}(t)})).join(","),yu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=tl(e.startAt)),e.endAt&&(n+="|ub:",n+=tl(e.endAt)),e.h=n}return e.h}function qu(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!nl(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!xu(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!il(t.startAt,e.startAt)&&il(t.endAt,e.endAt)}function Wu(t){return Su.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Hu=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Ri.__extends)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new zu(t,n,r):"array-contains"===n?new Qu(t,r):"in"===n?new $u(t,r):"not-in"===n?new Xu(t,r):"array-contains-any"===n?new Ju(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new Ku(t,n):new Gu(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(Eu(e,this.value)):null!==e&&Cu(this.value)===Cu(e)&&this.m(Eu(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Yc()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),zu=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Su.fromName(r.referenceValue),i}return Object(Ri.__extends)(e,t),e.prototype.matches=function(t){var e=Su.comparator(t.key,this.key);return this.m(e)},e}(Hu),Ku=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Yu(0,n),r}return Object(Ri.__extends)(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Hu),Gu=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Yu(0,n),r}return Object(Ri.__extends)(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Hu);function Yu(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return Su.fromName(t.referenceValue)}))}var Qu=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Ri.__extends)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return Au(e)&&Ou(e.arrayValue,this.value)},e}(Hu),$u=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Ri.__extends)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&Ou(this.value.arrayValue,e)},e}(Hu),Xu=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Ri.__extends)(e,t),e.prototype.matches=function(t){if(Ou(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!Ou(this.value.arrayValue,e)},e}(Hu),Ju=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Ri.__extends)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!Au(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return Ou(e.value.arrayValue,t)}))},e}(Hu),Zu=function(t,e){this.position=t,this.before=e};function tl(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return Tu(t)})).join(",")}var el=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function nl(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function rl(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?Su.comparator(Su.fromName(s.referenceValue),n.key):Eu(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function il(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!xu(t.position[n],e.position[n]))return!1;return!0}var ol=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null};function sl(t,e,n,r,i,o,s,a){return new ol(t,e,n,r,i,o,s,a)}function al(t){return new ol(t)}function cl(t){return!yu(t.limit)&&"F"===t.limitType}function ul(t){return!yu(t.limit)&&"L"===t.limitType}function ll(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function hl(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function dl(t){return null!==t.collectionGroup}function fl(t){var e=$c(t);if(null===e.p){e.p=[];var n=hl(e),r=ll(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new el(n)),e.p.push(new el(lu.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new el(lu.keyField(),c))}}}return e.p}function pl(t){var e=$c(t);if(!e.T)if("F"===e.limitType)e.T=Bu(e.path,e.collectionGroup,fl(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=fl(e);r<i.length;r++){var o=i[r];n.push(new el(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new Zu(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Zu(e.startAt.position,!e.startAt.before):null;e.T=Bu(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.T}function ml(t,e,n){return new ol(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function gl(t,e){return qu(pl(t),pl(e))&&t.limitType===e.limitType}function bl(t){return Uu(pl(t))+"|lt:"+t.limitType}function vl(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.canonicalString()+" "+e.op+" "+Tu(e.value);var e})).join(", ")+"]"),yu(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+tl(t.startAt)),t.endAt&&(e+=", endAt: "+tl(t.endAt)),"Target("+e+")"}(pl(t))+"; limitType="+t.limitType+")"}function yl(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):Su.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!rl(t.startAt,fl(t),e)||t.endAt&&rl(t.endAt,fl(t),e))}(t,e)}function _l(t){return function(e,n){for(var r=!1,i=0,o=fl(t);i<o.length;i++){var s=o[i],a=wl(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function wl(t,e,n){var r=t.field.isKeyField()?Su.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?Eu(r,i):Yc()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Yc()}}function Sl(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_u(e)?"-0":e}}function Cl(t){return{integerValue:""+t}}function xl(t,e){return wu(e)?Cl(e):Sl(t,e)}var Ol=function(){this._=void 0};function El(t,e,n){return t instanceof Il?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Rl?Al(t,e):t instanceof Pl?Dl(t,e):function(t,e){var n=Tl(t,e),r=Nl(n)+Nl(t.A);return Ru(n)&&Ru(t.A)?Cl(r):Sl(t.R,r)}(t,e)}function kl(t,e,n){return t instanceof Rl?Al(t,e):t instanceof Pl?Dl(t,e):n}function Tl(t,e){return t instanceof jl?Ru(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Il=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ri.__extends)(e,t),e}(Ol),Rl=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Ri.__extends)(e,t),e}(Ol);function Al(t,e){for(var n=Ml(e),r=function(t){n.some((function(e){return xu(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Pl=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Ri.__extends)(e,t),e}(Ol);function Dl(t,e){for(var n=Ml(e),r=function(t){n=n.filter((function(e){return!xu(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var jl=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return Object(Ri.__extends)(e,t),e}(Ol);function Nl(t){return mu(t.integerValue||t.doubleValue)}function Ml(t){return Au(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Ll=function(t,e){this.field=t,this.transform=e},Fl=function(t,e){this.version=t,this.transformResults=e},Vl=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Bl(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var Ul=function(){};function ql(t,e,n){t instanceof Gl?function(t,e,n){var r=t.value.clone(),i=$l(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Yl?function(t,e,n){if(Bl(t.precondition,e)){var r=$l(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(Ql(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Wl(t,e,n){t instanceof Gl?function(t,e,n){if(Bl(t.precondition,e)){var r=t.value.clone(),i=Xl(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(Kl(e),r).setHasLocalMutations()}}(t,e,n):t instanceof Yl?function(t,e,n){if(Bl(t.precondition,e)){var r=Xl(t.fieldTransforms,n,e),i=e.data;i.setAll(Ql(t)),i.setAll(r),e.convertToFoundDocument(Kl(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){Bl(t.precondition,e)&&e.convertToNoDocument(ru.min())}(t,e)}function Hl(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=Tl(o.transform,s||null);null!=a&&(null==n&&(n=Mu.empty()),n.set(o.field,a))}return n||null}function zl(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&tu(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Rl&&e instanceof Rl||t instanceof Pl&&e instanceof Pl?tu(t.elements,e.elements,xu):t instanceof jl&&e instanceof jl?xu(t.A,e.A):t instanceof Il&&e instanceof Il}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Kl(t){return t.isFoundDocument()?t.version:ru.min()}var Gl=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Object(Ri.__extends)(e,t),e}(Ul),Yl=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return Object(Ri.__extends)(e,t),e}(Ul);function Ql(t){var e=new Map;return t.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}})),e}function $l(t,e,n){var r=new Map;Qc(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,kl(s,a,n[i]))}return r}function Xl(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,c=n.data.field(s.field);r.set(s.field,El(a,c,e))}return r}var Jl,Zl,th=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(Ri.__extends)(e,t),e}(Ul),eh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(Ri.__extends)(e,t),e}(Ul),nh=function(t){this.count=t};function rh(t){switch(t){case Bc.OK:return Yc();case Bc.CANCELLED:case Bc.UNKNOWN:case Bc.DEADLINE_EXCEEDED:case Bc.RESOURCE_EXHAUSTED:case Bc.INTERNAL:case Bc.UNAVAILABLE:case Bc.UNAUTHENTICATED:return!1;case Bc.INVALID_ARGUMENT:case Bc.NOT_FOUND:case Bc.ALREADY_EXISTS:case Bc.PERMISSION_DENIED:case Bc.FAILED_PRECONDITION:case Bc.ABORTED:case Bc.OUT_OF_RANGE:case Bc.UNIMPLEMENTED:case Bc.DATA_LOSS:return!0;default:return Yc()}}function ih(t){if(void 0===t)return zc("GRPC error has no .code"),Bc.UNKNOWN;switch(t){case Jl.OK:return Bc.OK;case Jl.CANCELLED:return Bc.CANCELLED;case Jl.UNKNOWN:return Bc.UNKNOWN;case Jl.DEADLINE_EXCEEDED:return Bc.DEADLINE_EXCEEDED;case Jl.RESOURCE_EXHAUSTED:return Bc.RESOURCE_EXHAUSTED;case Jl.INTERNAL:return Bc.INTERNAL;case Jl.UNAVAILABLE:return Bc.UNAVAILABLE;case Jl.UNAUTHENTICATED:return Bc.UNAUTHENTICATED;case Jl.INVALID_ARGUMENT:return Bc.INVALID_ARGUMENT;case Jl.NOT_FOUND:return Bc.NOT_FOUND;case Jl.ALREADY_EXISTS:return Bc.ALREADY_EXISTS;case Jl.PERMISSION_DENIED:return Bc.PERMISSION_DENIED;case Jl.FAILED_PRECONDITION:return Bc.FAILED_PRECONDITION;case Jl.ABORTED:return Bc.ABORTED;case Jl.OUT_OF_RANGE:return Bc.OUT_OF_RANGE;case Jl.UNIMPLEMENTED:return Bc.UNIMPLEMENTED;case Jl.DATA_LOSS:return Bc.DATA_LOSS;default:return Yc()}}(Zl=Jl||(Jl={}))[Zl.OK=0]="OK",Zl[Zl.CANCELLED=1]="CANCELLED",Zl[Zl.UNKNOWN=2]="UNKNOWN",Zl[Zl.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zl[Zl.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zl[Zl.NOT_FOUND=5]="NOT_FOUND",Zl[Zl.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zl[Zl.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zl[Zl.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zl[Zl.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zl[Zl.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zl[Zl.ABORTED=10]="ABORTED",Zl[Zl.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zl[Zl.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zl[Zl.INTERNAL=13]="INTERNAL",Zl[Zl.UNAVAILABLE=14]="UNAVAILABLE",Zl[Zl.DATA_LOSS=15]="DATA_LOSS";var oh=function(){function t(t,e){this.comparator=t,this.root=e||ah.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ah.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ah.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.inorderTraversal((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new sh(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new sh(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new sh(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new sh(this.root,t,this.comparator,!0)},t}(),sh=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),ah=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Yc();if(this.right.isRed())throw Yc();var t=this.left.check();if(t!==this.right.check())throw Yc();return t+(this.isRed()?0:1)},t}();ah.EMPTY=null,ah.RED=!0,ah.BLACK=!1,ah.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Yc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Yc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Yc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Yc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Yc()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new ah(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var ch=function(){function t(t){this.comparator=t,this.data=new oh(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new uh(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new uh(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),uh=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),lh=new oh(Su.comparator);function hh(){return lh}var dh=new oh(Su.comparator);function fh(){return dh}var ph=new oh(Su.comparator);function mh(){return ph}var gh=new ch(Su.comparator);function bh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=gh,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var vh=new ch(Zc);function yh(){return vh}var _h=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,wh.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(ru.min(),r,yh(),hh(),bh())},t}(),wh=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(du.EMPTY_BYTE_STRING,n,bh(),bh(),bh())},t}(),Sh=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},Ch=function(t,e){this.targetId=t,this.V=e},xh=function(t,e,n,r){void 0===n&&(n=du.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Oh=function(){function t(){this.S=0,this.D=Th(),this.C=du.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=bh(),e=bh(),n=bh();return this.D.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Yc()}})),new wh(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=Th()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),Eh=function(){function t(t){this.W=t,this.G=new Map,this.H=hh(),this.J=kh(),this.Y=new ch(Zc)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.tt(r=o[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,(function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:Yc()}}))},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach((function(t,r){n.st(r)&&e(r)}))},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(Wu(i))if(0===n){var o=new Su(i.path);this.tt(e,o,Fu.newNoDocument(o,ru.min()))}else Qc(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach((function(r,i){var o=e.ot(i);if(o){if(r.current&&Wu(o.target)){var s=new Su(o.target.path);null!==e.H.get(s)||e.at(i,s)||e.tt(i,s,Fu.newNoDocument(s,t))}r.$&&(n.set(i,r.M()),r.L())}}));var r=bh();this.J.forEach((function(t,n){var i=!0;n.forEachWhile((function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new _h(t,n,this.Y,this.H,r);return this.H=hh(),this.J=kh(),this.Y=new ch(Zc),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new Oh,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new ch(Zc),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||Hc("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new Oh),this.W.getRemoteKeysForTarget(t).forEach((function(n){e.tt(t,n,null)}))},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function kh(){return new oh(Su.comparator)}function Th(){return new oh(Su.comparator)}var Ih={asc:"ASCENDING",desc:"DESCENDING"},Rh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ah=function(t,e){this.databaseId=t,this.I=e};function Ph(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Dh(t,e){return t.I?e.toBase64():e.toUint8Array()}function jh(t,e){return Ph(t,e.toTimestamp())}function Nh(t){return Qc(!!t),ru.fromTimestamp(function(t){var e=pu(t);return new nu(e.seconds,e.nanos)}(t))}function Mh(t,e){return function(t){return new cu(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Lh(t){var e=cu.fromString(t);return Qc(sd(e)),e}function Fh(t,e){return Mh(t.databaseId,e.path)}function Vh(t,e){var n=Lh(e);if(n.get(1)!==t.databaseId.projectId)throw new Uc(Bc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Uc(Bc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Su(Wh(n))}function Bh(t,e){return Mh(t.databaseId,e)}function Uh(t){var e=Lh(t);return 4===e.length?cu.emptyPath():Wh(e)}function qh(t){return new cu(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Wh(t){return Qc(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Hh(t,e,n){return{name:Fh(t,e),fields:n.value.mapValue.fields}}function zh(t,e,n){var r=Vh(t,e.name),i=Nh(e.updateTime),o=new Mu({mapValue:{fields:e.fields}}),s=Fu.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function Kh(t,e){var n;if(e instanceof Gl)n={update:Hh(t,e.key,e.value)};else if(e instanceof th)n={delete:Fh(t,e.key)};else if(e instanceof Yl)n={update:Hh(t,e.key,e.data),updateMask:od(e.fieldMask)};else{if(!(e instanceof eh))return Yc();n={verify:Fh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Il)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Rl)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Pl)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof jl)return{fieldPath:e.field.canonicalString(),increment:n.A};throw Yc()}(0,t)}))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:jh(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Yc()}(t,e.precondition)),n}function Gh(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Vl.updateTime(Nh(t.updateTime)):void 0!==t.exists?Vl.exists(t.exists):Vl.none()}(e.currentDocument):Vl.none(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(Qc("REQUEST_TIME"===e.setToServerValue),n=new Il):"appendMissingElements"in e?n=new Rl(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Pl(e.removeAllFromArray.values||[]):"increment"in e?n=new jl(t,e.increment):Yc();var r=lu.fromServerFormat(e.fieldPath);return new Ll(r,n)}(t,e)})):[];if(e.update){var i=Vh(t,e.update.name),o=new Mu({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new hu((t.fieldPaths||[]).map((function(t){return lu.fromServerFormat(t)})))}(e.updateMask);return new Yl(i,o,s,n,r)}return new Gl(i,o,n,r)}if(e.delete){var a=Vh(t,e.delete);return new th(a,n)}if(e.verify){var c=Vh(t,e.verify);return new eh(c,n)}return Yc()}function Yh(t,e){return{documents:[Bh(t,e.path)]}}function Qh(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Bh(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Bh(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(Du(t.value))return{unaryFilter:{field:ed(t.field),op:"IS_NAN"}};if(Pu(t.value))return{unaryFilter:{field:ed(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Du(t.value))return{unaryFilter:{field:ed(t.field),op:"IS_NOT_NAN"}};if(Pu(t.value))return{unaryFilter:{field:ed(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ed(t.field),op:td(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:ed(t.field),direction:Zh(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.I||yu(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=Xh(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Xh(e.endAt)),n}function $h(t){var e=Uh(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Qc(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=function t(e){return e?void 0!==e.unaryFilter?[id(e)]:void 0!==e.fieldFilter?[rd(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):Yc():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new el(nd(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var c=null;n.limit&&(c=function(t){var e;return yu(e="object"==typeof t?t.value:t)?null:e}(n.limit));var u=null;n.startAt&&(u=Jh(n.startAt));var l=null;return n.endAt&&(l=Jh(n.endAt)),sl(e,i,a,s,c,"F",u,l)}function Xh(t){return{before:t.before,values:t.position}}function Jh(t){return new Zu(t.values||[],!!t.before)}function Zh(t){return Ih[t]}function td(t){return Rh[t]}function ed(t){return{fieldPath:t.canonicalString()}}function nd(t){return lu.fromServerFormat(t.fieldPath)}function rd(t){return Hu.create(nd(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Yc()}}(t.fieldFilter.op),t.fieldFilter.value)}function id(t){switch(t.unaryFilter.op){case"IS_NAN":var e=nd(t.unaryFilter.field);return Hu.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=nd(t.unaryFilter.field);return Hu.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=nd(t.unaryFilter.field);return Hu.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=nd(t.unaryFilter.field);return Hu.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Yc()}}function od(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}}function sd(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function ad(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=ud(e)),e=cd(t.get(n),e);return ud(e)}function cd(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function ud(t){return t+"\x01\x01"}function ld(t){var e=t.length;if(Qc(e>=2),2===e)return Qc("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),cu.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&Yc(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),c=void 0;0===i.length?c=a:(c=i+=a,i=""),r.push(c);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Yc()}o=s+2}return new cu(r)}var hd=function(t,e){this.seconds=t,this.nanoseconds=e},dd=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};dd.store="owner",dd.key="owner";var fd=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};fd.store="mutationQueues",fd.keyPath="userId";var pd=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};pd.store="mutations",pd.keyPath="batchId",pd.userMutationsIndex="userMutationsIndex",pd.userMutationsKeyPath=["userId","batchId"];var md=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,ad(e)]},t.key=function(t,e,n){return[t,ad(e),n]},t}();md.store="documentMutations",md.PLACEHOLDER=new md;var gd=function(t,e){this.path=t,this.readTime=e},bd=function(t,e){this.path=t,this.version=e},vd=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};vd.store="remoteDocuments",vd.readTimeIndex="readTimeIndex",vd.readTimeIndexPath="readTime",vd.collectionReadTimeIndex="collectionReadTimeIndex",vd.collectionReadTimeIndexPath=["parentPath","readTime"];var yd=function(t){this.byteSize=t};yd.store="remoteDocumentGlobal",yd.key="remoteDocumentGlobalKey";var _d=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};_d.store="targets",_d.keyPath="targetId",_d.queryTargetsIndexName="queryTargetsIndex",_d.queryTargetsKeyPath=["canonicalId","targetId"];var wd=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};wd.store="targetDocuments",wd.keyPath=["targetId","path"],wd.documentTargetsIndex="documentTargetsIndex",wd.documentTargetsKeyPath=["path","targetId"];var Sd=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Sd.key="targetGlobalKey",Sd.store="targetGlobal";var Cd=function(t,e){this.collectionId=t,this.parent=e};Cd.store="collectionParents",Cd.keyPath=["collectionId","parent"];var xd=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};xd.store="clientMetadata",xd.keyPath="clientId";var Od=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Od.store="bundles",Od.keyPath="bundleId";var Ed=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Ed.store="namedQueries",Ed.keyPath="name";var kd=Object(Ri.__spreadArray)(Object(Ri.__spreadArray)([],Object(Ri.__spreadArray)(Object(Ri.__spreadArray)([],Object(Ri.__spreadArray)(Object(Ri.__spreadArray)([],Object(Ri.__spreadArray)(Object(Ri.__spreadArray)([],[fd.store,pd.store,md.store,vd.store,_d.store,dd.store,Sd.store,wd.store]),[xd.store])),[yd.store])),[Cd.store])),[Od.store,Ed.store]),Td="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Id=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(t){return t()}))},t}(),Rd=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},Ad=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)}),(function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Yc(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}}))},t.prototype.toPromise=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.waitFor=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.waitFor(r)},t}(),Pd=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new Rd,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new Nd(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=Bd(e.target.error);n.ft.reject(new Nd(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Nd(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(Hc("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Ld(e)},t}(),Dd=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(Ai.getUA)())&&zc("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Hc("SimpleDb","Removing database:",t),Fd(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(Ai.getUA)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var e,n=this;return Object(Ri.__generator)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Hc("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Nd(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Uc(Bc.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Nd(t,n))},i.onupgradeneeded=function(t){Hc("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){Hc("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}}))}))},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var i,o,s,a,c;return Object(Ri.__generator)(this,(function(u){switch(u.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,c,u,l;return Object(Ri.__generator)(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=Pd.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch((function(t){return e.abort(t),Ad.reject(t)})).toPromise(),c={},s.catch((function(){})),[4,e.dt];case 3:return[2,(c.value=(h.sent(),s),c)];case 4:return Hc("SimpleDb","Transaction failed with error:",(u=h.sent()).message,"Retrying:",l="FirebaseError"!==u.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(u)}];case 5:return[2]}}))},a=this,u.label=1;case 1:return[5,s()];case 2:if("object"==typeof(c=u.sent()))return[2,c.value];u.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),jd=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return Fd(this.Pt.delete())},t}(),Nd=function(t){function e(e,n){var r=this;return(r=t.call(this,Bc.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Ri.__extends)(e,t),e}(Uc);function Md(t){return"IndexedDbTransactionError"===t.name}var Ld=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Hc("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Hc("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Fd(n)},t.prototype.add=function(t){return Hc("SimpleDb","ADD",this.store.name,t,t),Fd(this.store.add(t))},t.prototype.get=function(t){var e=this;return Fd(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Hc("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return Hc("SimpleDb","DELETE",this.store.name,t),Fd(this.store.delete(t))},t.prototype.count=function(){return Hc("SimpleDb","COUNT",this.store.name),Fd(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.Ft=function(t,e){Hc("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,(function(t,e,n){return n.delete()}))},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new Ad((function(n,r){e.onerror=function(t){var e=Bd(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.xt=function(t,e){var n=[];return new Ad((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new jd(i),s=e(i.primaryKey,i.value,o);if(s instanceof Ad){var a=s.catch((function(t){return o.done(),Ad.reject(t)}));n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return Ad.waitFor(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Fd(t){return new Ad((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Bd(t.target.error);n(e)}}))}var Vd=!1;function Bd(t){var e=Dd._t(Object(Ai.getUA)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Uc("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Vd||(Vd=!0,setTimeout((function(){throw r}),0)),r}}return t}var Ud=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return Object(Ri.__extends)(e,t),e}(Id);function qd(t,e){var n=$c(t);return Dd.It(n.Mt,e)}var Wd=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&ql(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&Wl(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&Wl(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach((function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(ru.min())}))},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),bh())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&tu(this.mutations,t.mutations,(function(t,e){return zl(t,e)}))&&tu(this.baseMutations,t.baseMutations,(function(t,e){return zl(t,e)}))},t}(),Hd=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){Qc(e.mutations.length===r.length);for(var i=mh(),o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),zd=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=ru.min()),void 0===o&&(o=ru.min()),void 0===s&&(s=du.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),Kd=function(t){this.Lt=t};function Gd(t,e){if(e.document)return zh(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Su.fromSegments(e.noDocument.path),r=Jd(e.noDocument.readTime),i=Fu.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=Su.fromSegments(e.unknownDocument.path);return r=Jd(e.unknownDocument.version),Fu.newUnknownDocument(o,r)}return Yc()}function Yd(t,e,n){var r=Qd(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:Fh(t,e.key),fields:e.data.value.mapValue.fields,updateTime:Ph(t,e.version.toTimestamp())}}(t.Lt,e),s=e.hasCommittedMutations;return new vd(null,null,o,s,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),c=Xd(e.version);return s=e.hasCommittedMutations,new vd(null,new gd(a,c),null,s,r,i)}if(e.isUnknownDocument()){var u=e.key.path.toArray(),l=Xd(e.version);return new vd(new bd(u,l),null,null,!0,r,i)}return Yc()}function Qd(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function $d(t){var e=new nu(t[0],t[1]);return ru.fromTimestamp(e)}function Xd(t){var e=t.toTimestamp();return new hd(e.seconds,e.nanoseconds)}function Jd(t){var e=new nu(t.seconds,t.nanoseconds);return ru.fromTimestamp(e)}function Zd(t,e){for(var n=(e.baseMutations||[]).map((function(e){return Gh(t.Lt,e)})),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map((function(e){return Gh(t.Lt,e)})),o=nu.fromMillis(e.localWriteTimeMs);return new Wd(e.batchId,o,n,i)}function tf(t){var e,n,r=Jd(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Jd(t.lastLimboFreeSnapshotVersion):ru.min();return void 0!==t.query.documents?(Qc(1===(n=t.query).documents.length),e=pl(al(Uh(n.documents[0])))):e=function(t){return pl($h(t))}(t.query),new zd(e,t.targetId,0,t.lastListenSequenceNumber,r,i,du.fromBase64String(t.resumeToken))}function ef(t,e){var n,r=Xd(e.snapshotVersion),i=Xd(e.lastLimboFreeSnapshotVersion);n=Wu(e.target)?Yh(t.Lt,e.target):Qh(t.Lt,e.target);var o=e.resumeToken.toBase64();return new _d(e.targetId,Uu(e.target),r,o,e.sequenceNumber,i,n)}function nf(t){var e=$h({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?ml(e,e.limit,"L"):e}var rf=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return of(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:Jd(e.createTime),version:e.version};var e}))},t.prototype.saveBundleMetadata=function(t,e){return of(t).put({bundleId:(n=e).id,createTime:Xd(Nh(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return sf(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:nf(e.bundledQuery),readTime:Jd(e.readTime)};var e}))},t.prototype.saveNamedQuery=function(t,e){return sf(t).put(function(t){return{name:t.name,readTime:Xd(Nh(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function of(t){return qd(t,Od.store)}function sf(t){return qd(t,Ed.store)}var af=function(){function t(){this.Bt=new cf}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),Ad.resolve()},t.prototype.getCollectionParents=function(t,e){return Ad.resolve(this.Bt.getEntries(e))},t}(),cf=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new ch(cu.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new ch(cu.comparator)).toArray()},t}(),uf=function(){function t(){this.qt=new cf}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener((function(){n.qt.add(e)}));var o={collectionId:r,parent:ad(i)};return lf(t).put(o)}return Ad.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[eu(e),""],!1,!0);return lf(t).Nt(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(ld(o.parent))}return n}))},t}();function lf(t){return qd(t,Cd.store)}var hf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},df=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function ff(t,e,n){var r=t.store(pd.store),i=t.store(md.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,c=r.$t({range:s},(function(t,e,n){return a++,n.delete()}));o.push(c.next((function(){Qc(1===a)})));for(var u=[],l=0,h=n.mutations;l<h.length;l++){var d=h[l],f=md.key(e,d.key.path,n.batchId);o.push(i.delete(f)),u.push(d.key)}return Ad.waitFor(o).next((function(){return u}))}function pf(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Yc();e=t.noDocument}return JSON.stringify(e).length}df.DEFAULT_COLLECTION_PERCENTILE=10,df.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,df.DEFAULT=new df(41943040,df.DEFAULT_COLLECTION_PERCENTILE,df.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),df.DISABLED=new df(-1,0,0);var mf=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return t.Qt=function(e,n,r,i){return Qc(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return bf(t).$t({index:pd.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=vf(t),s=bf(t);return s.add({}).next((function(a){Qc("number"==typeof a);for(var c=new Wd(a,e,n,r),u=function(t,e,n){var r=n.baseMutations.map((function(e){return Kh(t.Lt,e)})),i=n.mutations.map((function(e){return Kh(t.Lt,e)}));return new pd(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,c),l=[],h=new ch((function(t,e){return Zc(t.canonicalString(),e.canonicalString())})),d=0,f=r;d<f.length;d++){var p=f[d],m=md.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(s.put(u)),l.push(o.put(m,md.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((function(){i.Kt[a]=c.keys()})),Ad.waitFor(l).next((function(){return c}))}))},t.prototype.lookupMutationBatch=function(t,e){var n=this;return bf(t).get(e).next((function(t){return t?(Qc(t.userId===n.userId),Zd(n.R,t)):null}))},t.prototype.jt=function(t,e){var n=this;return this.Kt[e]?Ad.resolve(this.Kt[e]):this.lookupMutationBatch(t,e).next((function(t){if(t){var r=t.keys();return n.Kt[e]=r,r}return null}))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return bf(t).$t({index:pd.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(Qc(e.batchId>=r),o=Zd(n.R,e)),i.done()})).next((function(){return o}))},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return bf(t).$t({index:pd.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return bf(t).Nt(pd.userMutationsIndex,n).next((function(t){return t.map((function(t){return Zd(e.R,t)}))}))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=md.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return vf(t).$t({range:i},(function(r,i,s){var a=r[0],c=r[2],u=ld(r[1]);if(a===n.userId&&e.path.isEqual(u))return bf(t).get(c).next((function(t){if(!t)throw Yc();Qc(t.userId===n.userId),o.push(Zd(n.R,t))}));s.done()})).next((function(){return o}))},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new ch(Zc),i=[];return e.forEach((function(e){var o=md.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=vf(t).$t({range:s},(function(t,i,o){var s=t[0],a=t[2],c=ld(t[1]);s===n.userId&&e.path.isEqual(c)?r=r.add(a):o.done()}));i.push(a)})),Ad.waitFor(i).next((function(){return n.Wt(t,r)}))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=md.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new ch(Zc);return vf(t).$t({range:s},(function(t,e,o){var s=t[0],c=t[2],u=ld(t[1]);s===n.userId&&r.isPrefixOf(u)?u.length===i&&(a=a.add(c)):o.done()})).next((function(){return n.Wt(t,a)}))},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(bf(t).get(e).next((function(t){if(null===t)throw Yc();Qc(t.userId===n.userId),r.push(Zd(n.R,t))})))})),Ad.waitFor(i).next((function(){return r}))},t.prototype.removeMutationBatch=function(t,e){var n=this;return ff(t.Mt,this.userId,e).next((function(r){return t.addOnCommittedListener((function(){n.Gt(e.batchId)})),Ad.forEach(r,(function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)}))}))},t.prototype.Gt=function(t){delete this.Kt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next((function(n){if(!n)return Ad.resolve();var r=IDBKeyRange.lowerBound(md.prefixForUser(e.userId)),i=[];return vf(t).$t({range:r},(function(t,n,r){if(t[0]===e.userId){var o=ld(t[1]);i.push(o)}else r.done()})).next((function(){Qc(0===i.length)}))}))},t.prototype.containsKey=function(t,e){return gf(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return yf(t).get(this.userId).next((function(t){return t||new fd(e.userId,-1,"")}))},t}();function gf(t,e,n){var r=md.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return vf(t).$t({range:o,kt:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()})).next((function(){return s}))}function bf(t){return qd(t,pd.store)}function vf(t){return qd(t,md.store)}function yf(t){return qd(t,fd.store)}var _f=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),wf=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next((function(n){var r=new _f(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next((function(t){return ru.fromTimestamp(new nu(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)}))},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next((function(){return n.Xt(t).next((function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)}))}))},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next((function(){return Sf(t).delete(e.targetId)})).next((function(){return n.Xt(t)})).next((function(e){return Qc(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)}))},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return Sf(t).$t((function(s,a){var c=tf(a);c.sequenceNumber<=e&&null===n.get(c.targetId)&&(i++,o.push(r.removeTargetData(t,c)))})).next((function(){return Ad.waitFor(o)})).next((function(){return i}))},t.prototype.forEachTarget=function(t,e){return Sf(t).$t((function(t,n){var r=tf(n);e(r)}))},t.prototype.Xt=function(t){return Cf(t).get(Sd.key).next((function(t){return Qc(null!==t),t}))},t.prototype.Zt=function(t,e){return Cf(t).put(Sd.key,e)},t.prototype.te=function(t,e){return Sf(t).put(ef(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next((function(t){return t.targetCount}))},t.prototype.getTargetData=function(t,e){var n=Uu(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Sf(t).$t({range:r,index:_d.queryTargetsIndexName},(function(t,n,r){var o=tf(n);qu(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=xf(t);return e.forEach((function(e){var s=ad(e.path);i.push(o.put(new wd(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))})),Ad.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=xf(t);return Ad.forEach(e,(function(e){var o=ad(e.path);return Ad.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])}))},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=xf(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=xf(t),i=bh();return r.$t({range:n,kt:!0},(function(t,e,n){var r=ld(t[1]),o=new Su(r);i=i.add(o)})).next((function(){return i}))},t.prototype.containsKey=function(t,e){var n=ad(e.path),r=IDBKeyRange.bound([n],[eu(n)],!1,!0),i=0;return xf(t).$t({index:wd.documentTargetsIndex,kt:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.lt=function(t,e){return Sf(t).get(e).next((function(t){return t?tf(t):null}))},t}();function Sf(t){return qd(t,_d.store)}function Cf(t){return qd(t,Sd.store)}function xf(t){return qd(t,wd.store)}function Of(t){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){return Object(Ri.__generator)(this,(function(e){if(t.code!==Bc.FAILED_PRECONDITION||t.message!==Td)throw t;return Hc("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function Ef(t,e){var n=t[1],r=e[1],i=Zc(t[0],e[0]);return 0===i?Zc(n,r):i}var kf=function(){function t(t){this.ne=t,this.buffer=new ch(Ef),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Ef(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Tf=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;Hc("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return Object(Ri.__awaiter)(e,void 0,void 0,(function(){var e;return Object(Ri.__generator)(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Md(e=n.sent())?(Hc("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Of(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),If=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Ad.resolve(Vc.o);var r=new kf(e);return this.ae.forEachTarget(t,(function(t){return r.re(t.sequenceNumber)})).next((function(){return n.ae.le(t,(function(t){return r.re(t)}))})).next((function(){return r.maxValue}))},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Hc("LruGarbageCollector","Garbage collection skipped; disabled"),Ad.resolve(hf)):this.getCacheSize(t).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Hc("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),hf):n.fe(t,e)}))},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,s,a,c,u=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((function(e){return e>u.params.maximumSequenceNumbersToCollect?(Hc("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+u.params.maximumSequenceNumbersToCollect+" from "+e),r=u.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),u.nthSequenceNumber(t,r)})).next((function(r){return n=r,s=Date.now(),u.removeTargets(t,n,e)})).next((function(e){return i=e,a=Date.now(),u.removeOrphanedDocuments(t,n)})).next((function(t){return c=Date.now(),Wc()<=Pi.LogLevel.DEBUG&&Hc("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(c-a)+"ms\nTotal Duration: "+(c-l)+"ms"),Ad.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})}))},t}(),Rf=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new If(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.de=function(t){var e=0;return this.le(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,(function(t,n){return e(n)}))},t.prototype.addReference=function(t,e,n){return Af(t,n)},t.prototype.removeReference=function(t,e,n){return Af(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return Af(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return yf(t).Ot((function(r){return gf(t,r,e).next((function(t){return t&&(n=!0),Ad.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,(function(s,a){if(a<=e){var c=n._e(t,s).next((function(e){if(!e)return o++,r.getEntry(t,s).next((function(){return r.removeEntry(s),xf(t).delete([0,ad(s.path)])}))}));i.push(c)}})).next((function(){return Ad.waitFor(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Af(t,e)},t.prototype.we=function(t,e){var n,r=xf(t),i=Vc.o;return r.$t({index:wd.documentTargetsIndex},(function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==Vc.o&&e(new Su(ld(n)),i),i=s,n=o):i=Vc.o})).next((function(){i!==Vc.o&&e(new Su(ld(n)),i)}))},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Af(t,e){return xf(t).put(function(t,e){return new wd(0,ad(t.path),e)}(e,t.currentSequenceNumber))}var Pf=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.equalsFn(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){ou(this.inner,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}}))},t.prototype.isEmpty=function(){return su(this.inner)},t}(),Df=function(){function t(){this.changes=new Pf((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:ru.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Fu.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Ad.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),jf=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return Lf(t).put(Ff(e),n)},t.prototype.removeEntry=function(t,e){var n=Lf(t),r=Ff(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.me(t,r)}))},t.prototype.getEntry=function(t,e){var n=this;return Lf(t).get(Ff(e)).next((function(t){return n.ye(e,t)}))},t.prototype.ge=function(t,e){var n=this;return Lf(t).get(Ff(e)).next((function(t){return{document:n.ye(e,t),size:pf(t)}}))},t.prototype.getEntries=function(t,e){var n=this,r=hh();return this.pe(t,e,(function(t,e){var i=n.ye(t,e);r=r.insert(t,i)})).next((function(){return r}))},t.prototype.Ee=function(t,e){var n=this,r=hh(),i=new oh(Su.comparator);return this.pe(t,e,(function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,pf(e))})).next((function(){return{documents:r,Te:i}}))},t.prototype.pe=function(t,e,n){if(e.isEmpty())return Ad.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return Lf(t).$t({range:r},(function(t,e,r){for(var s=Su.fromSegments(t);o&&Su.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=hh(),o=e.path.length+1,s={};if(n.isEqual(ru.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var c=e.path.toArray(),u=Qd(n);s.range=IDBKeyRange.lowerBound([c,u],!0),s.index=vd.collectionReadTimeIndex}return Lf(t).$t(s,(function(t,n,s){if(t.length===o){var a=Gd(r.R,n);e.path.isPrefixOf(a.key.path)?yl(e,a)&&(i=i.insert(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.newChangeBuffer=function(t){return new Nf(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Mf(t).get(yd.key).next((function(t){return Qc(!!t),t}))},t.prototype.me=function(t,e){return Mf(t).put(yd.key,e)},t.prototype.ye=function(t,e){if(e){var n=Gd(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(ru.min()))return n}return Fu.newInvalidDocument(t)},t}(),Nf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new Pf((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Object(Ri.__extends)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new ch((function(t,e){return Zc(t.canonicalString(),e.canonicalString())}));return this.changes.forEach((function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var c=Yd(e.Ie.R,s.document,e.getReadTime(o));i=i.add(o.path.popLast());var u=pf(c);r+=u-a,n.push(e.Ie.addEntry(t,o,c))}else if(r-=a,e.trackRemovals){var l=Yd(e.Ie.R,Fu.newNoDocument(o,ru.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))})),i.forEach((function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))})),n.push(this.Ie.updateMetadata(t,r)),Ad.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next((function(t){return n.Ae.set(e,t.size),t.document}))},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next((function(t){var e=t.documents;return t.Te.forEach((function(t,e){n.Ae.set(t,e)})),e}))},e}(Df);function Mf(t){return qd(t,yd.store)}function Lf(t){return qd(t,vd.store)}function Ff(t){return t.path.toArray()}var Vf=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;Qc(n<r&&n>=0&&r<=11);var o=new Pd("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(dd.store)}(t),function(t){t.createObjectStore(fd.store,{keyPath:fd.keyPath}),t.createObjectStore(pd.store,{keyPath:pd.keyPath,autoIncrement:!0}).createIndex(pd.userMutationsIndex,pd.userMutationsKeyPath,{unique:!0}),t.createObjectStore(md.store)}(t),Bf(t),function(t){t.createObjectStore(vd.store)}(t));var s=Ad.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(wd.store),t.deleteObjectStore(_d.store),t.deleteObjectStore(Sd.store)}(t),Bf(t)),s=s.next((function(){return function(t){var e=t.store(Sd.store),n=new Sd(0,0,ru.min().toTimestamp(),0);return e.put(Sd.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(pd.store).Nt().next((function(n){t.deleteObjectStore(pd.store),t.createObjectStore(pd.store,{keyPath:pd.keyPath,autoIncrement:!0}).createIndex(pd.userMutationsIndex,pd.userMutationsKeyPath,{unique:!0});var r=e.store(pd.store),i=n.map((function(t){return r.put(t)}));return Ad.waitFor(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(xd.store,{keyPath:xd.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.Re(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(yd.store)}(t),i.be(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.ve(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.Pe(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(vd.store);e.createIndex(vd.readTimeIndex,vd.readTimeIndexPath,{unique:!1}),e.createIndex(vd.collectionReadTimeIndex,vd.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(s=s.next((function(){!function(t){t.createObjectStore(Od.store,{keyPath:Od.keyPath})}(t),function(t){t.createObjectStore(Ed.store,{keyPath:Ed.keyPath})}(t)}))),s},t.prototype.be=function(t){var e=0;return t.store(vd.store).$t((function(t,n){e+=pf(n)})).next((function(){var n=new yd(e);return t.store(yd.store).put(yd.key,n)}))},t.prototype.Re=function(t){var e=this,n=t.store(fd.store),r=t.store(pd.store);return n.Nt().next((function(n){return Ad.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(pd.userMutationsIndex,i).next((function(r){return Ad.forEach(r,(function(r){Qc(r.userId===n.userId);var i=Zd(e.R,r);return ff(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ve=function(t){var e=t.store(wd.store),n=t.store(vd.store);return t.store(Sd.store).get(Sd.key).next((function(t){var r=[];return n.$t((function(n,i){var o=new cu(n),s=function(t){return[0,ad(t)]}(o);r.push(e.get(s).next((function(n){return n?Ad.resolve():function(n){return e.put(new wd(0,ad(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return Ad.waitFor(r)}))}))},t.prototype.Pe=function(t,e){t.createObjectStore(Cd.store,{keyPath:Cd.keyPath});var n=e.store(Cd.store),r=new cf,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:ad(i)})}};return e.store(vd.store).$t({kt:!0},(function(t,e){var n=new cu(t);return i(n.popLast())})).next((function(){return e.store(md.store).$t({kt:!0},(function(t,e){var n=ld(t[1]);return i(n.popLast())}))}))},t.prototype.Ve=function(t){var e=this,n=t.store(_d.store);return n.$t((function(t,r){var i=tf(r),o=ef(e.R,i);return n.put(o)}))},t}();function Bf(t){t.createObjectStore(wd.store,{keyPath:wd.keyPath}).createIndex(wd.documentTargetsIndex,wd.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(_d.store,{keyPath:_d.keyPath}).createIndex(_d.queryTargetsIndexName,_d.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Sd.store)}var Uf="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",qf=function(){function t(e,n,r,i,o,s,a,c,u,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=u,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new Uc(Bc.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Rf(this,i),this.Le=n+"main",this.R=new Kd(c),this.Be=new Dd(this.Le,11,new Vf(this.R)),this.qe=new wf(this.referenceDelegate,this.R),this.Ut=new uf,this.Ue=function(t,e){return new jf(t,e)}(this.R,this.Ut),this.Ke=new rf,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&zc("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Uc(Bc.FAILED_PRECONDITION,Uf);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.qe.getHighestSequenceNumber(e)}))})).then((function(e){t.Ne=new Vc(e,t.De)})).then((function(){t.xe=!0})).catch((function(e){return t.Be&&t.Be.close(),Promise.reject(e)}))},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Object(Ri.__awaiter)(e,void 0,void 0,(function(){return Object(Ri.__generator)(this,(function(e){return this.started?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt((function(n){return Object(Ri.__awaiter)(e,void 0,void 0,(function(){return Object(Ri.__generator)(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget((function(){return Object(Ri.__awaiter)(e,void 0,void 0,(function(){return Object(Ri.__generator)(this,(function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return Hf(e).put(new xd(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Je(e).next((function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable((function(){return t.Me(!1)})))}))})).next((function(){return t.Ye(e)})).next((function(n){return t.isPrimary&&!n?t.Xe(e).next((function(){return!1})):!!n&&t.Ze(e).next((function(){return!0}))}))})).catch((function(e){if(Md(e))return Hc("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Hc("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Se.enqueueRetryable((function(){return t.Me(e)})),t.isPrimary=e}))},t.prototype.Je=function(t){var e=this;return Wf(t).get(dd.key).next((function(t){return Ad.resolve(e.tn(t))}))},t.prototype.en=function(t){return Hf(t).delete(this.clientId)},t.prototype.nn=function(){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var t,e,n,r=this;return Object(Ri.__generator)(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=qd(t,xd.store);return e.Nt().next((function(t){var n=r.rn(t,18e5),i=t.filter((function(t){return-1===n.indexOf(t)}));return Ad.forEach(i,(function(t){return e.delete(t.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:if(t=i.sent(),this.Qe)for(e=0,n=t;e<n.length;e++)this.Qe.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}}))}))},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return t.je().then((function(){return t.nn()})).then((function(){return t.ze()}))}))},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?Ad.resolve(!0):Wf(t).get(dd.key).next((function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new Uc(Bc.FAILED_PRECONDITION,Uf);return!1}}return!(!e.networkEnabled||!e.inForeground)||Hf(t).Nt().next((function(t){return void 0===e.rn(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&Hc("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var t=this;return Object(Ri.__generator)(this,(function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[dd.store,xd.store],(function(e){var n=new Ud(e,Vc.o);return t.Xe(n).next((function(){return t.en(n)}))}))];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}}))}))},t.prototype.rn=function(t,e){var n=this;return t.filter((function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)}))},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return Hf(e).Nt().next((function(e){return t.rn(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return mf.Qt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Hc("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",kd,(function(o){return r=new Ud(o,i.Ne?i.Ne.next():Vc.o),"readwrite-primary"===e?i.Je(r).next((function(t){return!!t||i.Ye(r)})).next((function(e){if(!e)throw zc("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable((function(){return i.Me(!1)})),new Uc(Bc.FAILED_PRECONDITION,Td);return n(r)})).next((function(t){return i.Ze(r).next((function(){return t}))})):i.dn(r).next((function(){return n(r)}))})).then((function(t){return r.raiseOnCommittedEvent(),t}))},t.prototype.dn=function(t){var e=this;return Wf(t).get(dd.key).next((function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Uc(Bc.FAILED_PRECONDITION,Uf)}))},t.prototype.Ze=function(t){var e=new dd(this.clientId,this.allowTabSynchronization,Date.now());return Wf(t).put(dd.key,e)},t.yt=function(){return Dd.yt()},t.prototype.Xe=function(t){var e=this,n=Wf(t);return n.get(dd.key).next((function(t){return e.tn(t)?(Hc("IndexedDbPersistence","Releasing primary lease."),n.delete(dd.key)):Ad.resolve()}))},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(zc("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget((function(){return t.inForeground="visible"===t.document.visibilityState,t.je()}))},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("pagehide",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(t)));return Hc("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return zc("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){zc("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Wf(t){return qd(t,dd.store)}function Hf(t){return qd(t,xd.store)}function zf(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Kf=function(t,e){this.progress=t,this.wn=e},Gf=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next((function(r){return n.yn(t,e,r)}))},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next((function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t}))},t.prototype.gn=function(t,e){t.forEach((function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)}))},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next((function(e){return n.En(t,e).next((function(){return e}))}))},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(t){return n.gn(e,t)}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return Su.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):dl(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new Su(e)).next((function(t){var e=fh();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=fh();return this.Ut.getCollectionParents(t,i).next((function(s){return Ad.forEach(s,(function(s){var a=function(t,e){return new ol(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.An(t,a,n).next((function(t){t.forEach((function(t,e){o=o.insert(t,e)}))}))})).next((function(){return o}))}))},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)})).next((function(e){return o.Rn(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var c=a[s],u=c.key,l=r.get(u);null==l&&(l=Fu.newInvalidDocument(u),r=r.insert(u,l)),Wl(c,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(u))}}))})).next((function(){return r.forEach((function(t,n){yl(e,n)||(r=r.remove(t))})),r}))},t.prototype.Rn=function(t,e,n){for(var r=bh(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var c=a[s];c instanceof Yl&&null===n.get(c.key)&&(r=r.add(c.key))}var u=n;return this.Ue.getEntries(t,r).next((function(t){return t.forEach((function(t,e){e.isFoundDocument()&&(u=u.insert(t,e))})),u}))},t}(),Yf=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=bh(),i=bh(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Qf=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(ru.min())?this.Dn(t,e):this.Sn.pn(t,r).next((function(o){var s=i.Cn(e,o);return(cl(e)||ul(e))&&i.Nn(e.limitType,s,r,n)?i.Dn(t,e):(Wc()<=Pi.LogLevel.DEBUG&&Hc("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),vl(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next((function(t){return s.forEach((function(e){t=t.insert(e.key,e)})),t})))}))},t.prototype.Cn=function(t,e){var n=new ch(_l(t));return e.forEach((function(e,r){yl(t,r)&&(n=n.add(r))})),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return Wc()<=Pi.LogLevel.DEBUG&&Hc("QueryEngine","Using full collection scan to execute query:",vl(e)),this.Sn.getDocumentsMatchingQuery(t,e,ru.min())},t}(),$f=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new oh(Zc),this.kn=new Pf((function(t){return Uu(t)}),qu),this.$n=ru.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Gf(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.collect(n,e.Fn)}))},t}();function Xf(t,e,n,r){return new $f(t,e,n,r)}function Jf(t,e){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o;return Object(Ri.__generator)(this,(function(s){switch(s.label){case 0:return n=$c(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n._n.getAllMutationBatches(t).next((function(s){return o=s,r=n.persistence.getMutationQueue(e),i=new Gf(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)})).next((function(e){for(var n=[],r=[],s=bh(),a=0,c=o;a<c.length;a++){var u=c[a];n.push(u.batchId);for(var l=0,h=u.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];r.push(p.batchId);for(var m=0,g=p.mutations;m<g.length;m++)s=s.add(g[m].key)}return i.pn(t,s).next((function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function Zf(t,e){var n=$c(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=Ad.resolve();return o.forEach((function(t){s=s.next((function(){return r.getEntry(e,t)})).next((function(e){var o=n.docVersions.get(t);Qc(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))}))})),s.next((function(){return t._n.removeMutationBatch(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}function tp(t){var e=$c(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.qe.getLastRemoteSnapshotVersion(t)}))}function ep(t,e){var n=$c(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.Fn;var s=[];e.targetChanges.forEach((function(e,o){var a=i.get(o);if(a){s.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)})));var c=e.resumeToken;if(c.approximateByteSize()>0){var u=a.withResumeToken(c,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,u),function(t,e,n){return Qc(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,u,e)&&s.push(n.qe.updateTargetData(t,u))}}}));var a=hh();if(e.documentUpdates.forEach((function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),s.push(np(t,o,e.documentUpdates,r,void 0).next((function(t){a=t}))),!r.isEqual(ru.min())){var c=n.qe.getLastRemoteSnapshotVersion(t).next((function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)}));s.push(c)}return Ad.waitFor(s).next((function(){return o.apply(t)})).next((function(){return n.Mn.En(t,a)})).next((function(){return a}))})).then((function(t){return n.Fn=i,t}))}function np(t,e,n,r,i){var o=bh();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=hh();return n.forEach((function(n,s){var a=t.get(n),c=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(ru.min())?(e.removeEntry(n,c),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,c),o=o.insert(n,s)):Hc("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),o}))}function rp(t,e){var n=$c(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)}))}function ip(t,e){var n=$c(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.qe.getTargetData(t,e).next((function(i){return i?Ad.resolve(r=i):n.qe.allocateTargetId(t).next((function(i){return r=new zd(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t}))}function op(t,e,n){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var r,i,o,s;return Object(Ri.__generator)(this,(function(a){switch(a.label){case 0:r=$c(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.referenceDelegate.removeTarget(t,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Md(s=a.sent()))throw s;return Hc("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}}))}))}function sp(t,e,n){var r=$c(t),i=ru.min(),o=bh();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=$c(t),i=r.kn.get(n);return void 0!==i?Ad.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,pl(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:ru.min(),n?o:bh())})).next((function(t){return{documents:t,Bn:o}}))}))}function ap(t,e){var n=$c(t),r=$c(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.lt(t,e).next((function(t){return t?t.target:null}))}))}function cp(t){var e=$c(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=$c(t),i=hh(),o=Qd(n),s=Lf(e),a=IDBKeyRange.lowerBound(o,!0);return s.$t({index:vd.readTimeIndex,range:a},(function(t,e){var n=Gd(r.R,e);i=i.insert(n.key,n),o=e.readTime})).next((function(){return{wn:i,readTime:$d(o)}}))}(e.On,t,e.$n)})).then((function(t){var n=t.wn;return e.$n=t.readTime,n}))}function up(t){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var e;return Object(Ri.__generator)(this,(function(n){return[2,(e=$c(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=Lf(t),n=ru.min();return e.$t({index:vd.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=$d(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.$n=t}))]}))}))}function lp(t,e,n,r){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var i,o,s,a,c,u,l,h,d,f;return Object(Ri.__generator)(this,(function(p){switch(p.label){case 0:for(i=$c(t),o=bh(),s=hh(),a=mh(),c=0,u=n;c<u.length;c++)h=e.qn((l=u[c]).metadata.name),l.document&&(o=o.add(h)),s=s.insert(h,e.Un(l)),a=a.insert(h,e.Kn(l.metadata.readTime));return d=i.On.newChangeBuffer({trackRemovals:!0}),[4,ip(i,function(t){return pl(al(cu.fromString("__bundle__/docs/"+t)))}(r))];case 1:return f=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return np(t,d,s,ru.min(),a).next((function(e){return d.apply(t),e})).next((function(e){return i.qe.removeMatchingKeysForTargetId(t,f.targetId).next((function(){return i.qe.addMatchingKeys(t,o,f.targetId)})).next((function(){return i.Mn.En(t,e)})).next((function(){return e}))}))}))]}}))}))}function hp(t,e,n){return void 0===n&&(n=bh()),Object(Ri.__awaiter)(this,void 0,void 0,(function(){var r,i;return Object(Ri.__generator)(this,(function(o){switch(o.label){case 0:return[4,ip(t,pl(nf(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=$c(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var o=Nh(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ke.saveNamedQuery(t,e);var s=r.withResumeToken(du.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(s.targetId,s),i.qe.updateTargetData(t,s).next((function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)})).next((function(){return i.qe.addMatchingKeys(t,n,r.targetId)})).next((function(){return i.Ke.saveNamedQuery(t,e)}))}))]}}))}))}var dp=function(){function t(t){this.R=t,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Ad.resolve(this.Qn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Qn.set(e.id,{id:(n=e).id,version:n.version,createTime:Nh(n.createTime)}),Ad.resolve()},t.prototype.getNamedQuery=function(t,e){return Ad.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:nf(t.bundledQuery),readTime:Nh(t.readTime)}}(e)),Ad.resolve()},t}(),fp=function(){function t(){this.Wn=new ch(pp.Gn),this.zn=new ch(pp.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new pp(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))},t.prototype.removeReference=function(t,e){this.Yn(new pp(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))},t.prototype.Zn=function(t){var e=this,n=new Su(new cu([])),r=new pp(n,t),i=new pp(n,t+1),o=[];return this.zn.forEachInRange([r,i],(function(t){e.Yn(t),o.push(t.key)})),o},t.prototype.ts=function(){var t=this;this.Wn.forEach((function(e){return t.Yn(e)}))},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new Su(new cu([])),n=new pp(e,t),r=new pp(e,t+1),i=bh();return this.zn.forEachInRange([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.containsKey=function(t){var e=new pp(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),pp=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return Su.comparator(t.key,e.key)||Zc(t.ns,e.ns)},t.Hn=function(t,e){return Zc(t.ns,e.ns)||Su.comparator(t.key,e.key)},t}(),mp=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new ch(pp.Gn)}return t.prototype.checkEmpty=function(t){return Ad.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var o=new Wd(i,e,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var c=a[s];this.rs=this.rs.add(new pp(c.key,i)),this.Ut.addToCollectionParentIndex(t,c.key.path.popLast())}return Ad.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return Ad.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return Ad.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Ad.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return Ad.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new pp(e,0),i=new pp(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(t){var e=n.os(t.ns);o.push(e)})),Ad.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new ch(Zc);return e.forEach((function(t){var e=new pp(t,0),i=new pp(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],(function(t){r=r.add(t.ns)}))})),Ad.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;Su.isDocumentKey(i)||(i=i.child(""));var o=new pp(new Su(i),0),s=new ch(Zc);return this.rs.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.ns)),!0)}),o),Ad.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.os(t);null!==r&&n.push(r)})),n},t.prototype.removeMutationBatch=function(t,e){var n=this;Qc(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return Ad.forEach(e.mutations,(function(i){var o=new pp(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((function(){n.rs=r}))},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new pp(e,0),r=this.rs.firstAfterOrEqual(n);return Ad.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return Ad.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),gp=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new oh(Su.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Ad.resolve(n?n.document.clone():Fu.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=hh();return e.forEach((function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Fu.newInvalidDocument(t))})),Ad.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=hh(),i=new Su(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.value,c=a.document,u=a.readTime;if(!e.path.isPrefixOf(s.key.path))break;u.compareTo(n)<=0||yl(e,c)&&(r=r.insert(c.key,c.clone()))}return Ad.resolve(r)},t.prototype.fs=function(t,e){return Ad.forEach(this.docs,(function(t){return e(t)}))},t.prototype.newChangeBuffer=function(t){return new bp(this)},t.prototype.getSize=function(t){return Ad.resolve(this.size)},t}(),bp=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Object(Ri.__extends)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)})),Ad.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(Df),vp=function(){function t(t){this.persistence=t,this.ds=new Pf((function(t){return Uu(t)}),qu),this.lastRemoteSnapshotVersion=ru.min(),this.highestTargetId=0,this.ws=0,this._s=new fp,this.targetCount=0,this.ys=_f.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach((function(t,n){return e(n)})),Ad.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Ad.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Ad.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),Ad.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),Ad.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new _f(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,Ad.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),Ad.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,Ad.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)})),Ad.waitFor(o).next((function(){return i}))},t.prototype.getTargetCount=function(t){return Ad.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return Ad.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),Ad.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((function(e){i.push(r.markPotentiallyOrphaned(t,e))})),Ad.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),Ad.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return Ad.resolve(n)},t.prototype.containsKey=function(t,e){return Ad.resolve(this._s.containsKey(e))},t}(),yp=function(){function t(t,e){var n=this;this.gs={},this.Ne=new Vc(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new vp(this),this.Ut=new af,this.Ue=function(t,e){return new gp(t,(function(t){return n.referenceDelegate.ps(t)}))}(this.Ut),this.R=new Kd(e),this.Ke=new dp(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new mp(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;Hc("MemoryPersistence","Starting transaction:",t);var i=new _p(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(t){return r.referenceDelegate.Ts(i).next((function(){return t}))})).toPromise().then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.Is=function(t,e){return Ad.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(t,e)}})))},t}(),_p=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(Ri.__extends)(e,t),e}(Id),wp=function(){function t(t){this.persistence=t,this.As=new fp,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Yc()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),Ad.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),Ad.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),Ad.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach((function(t){return n.vs.add(t.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.vs.add(t.toString())}))})).next((function(){return r.removeTargetData(t,e)}))},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ad.forEach(this.vs,(function(r){var i=Su.fromPath(r);return e.Ps(t,i).next((function(t){t||n.removeEntry(i)}))})).next((function(){return e.Rs=null,n.apply(t)}))},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next((function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())}))},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return Ad.or([function(){return Ad.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),Sp=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function Cp(t,e){return"firestore_clients_"+t+"_"+e}function xp(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function Op(t,e){return"firestore_targets_"+t+"_"+e}Sp.UNAUTHENTICATED=new Sp(null),Sp.GOOGLE_CREDENTIALS=new Sp("google-credentials-uid"),Sp.FIRST_PARTY=new Sp("first-party-uid");var Ep=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Uc(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(zc("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),kp=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Uc(i.error.code,i.error.message)),o?new t(e,i.state,r):(zc("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Tp=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=yh(),s=0;i&&s<r.activeTargetIds.length;++s)i=wu(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(zc("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Ip=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(zc("SharedClientState","Failed to parse online state: "+e),null)},t}(),Rp=function(){function t(){this.activeTargetIds=yh()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Ap=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new oh(Zc),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=Cp(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new Rp),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Ks=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var t,e,n,r,i,o,s,a,c,u,l=this;return Object(Ri.__generator)(this,(function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(Cp(this.persistenceKey,r)))&&(o=Tp.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Qs(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),c=0,u=this.$s;c<u.length;c++)this.Fs(u[c]);return this.$s=[],this.window.addEventListener("pagehide",(function(){return l.shutdown()})),this.started=!0,[2]}}))}))},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(Op(this.persistenceKey,t));if(n){var r=kp.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Qs(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(Op(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach((function(t){r.Hs(t)})),this.currentUser=t,n.forEach((function(t){r.addPendingMutation(t)}))},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Hc("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Hc("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Hc("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Hc("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void zc("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return Object(Ri.__awaiter)(e,void 0,void 0,(function(){var t,e,r,i,o,s;return Object(Ri.__generator)(this,(function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(s=function(t){var e=Vc.o;if(null!=t)try{var n=JSON.parse(t);Qc("number"==typeof n),e=n}catch(t){zc("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Vc.o&&this.sequenceNumberHandler(s);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new Ep(this.currentUser,t,e,n),i=xp(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=xp(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=Op(this.persistenceKey,t),i=new kp(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return Tp.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return Ep.Vs(new Sp(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return kp.Vs(r,e)},t.prototype.js=function(t){return Ip.Vs(t)},t.prototype.ii=function(t){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){return Object(Ri.__generator)(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(Hc("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this.syncEngine.hi(s,a).then((function(){n.ks=r}))},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=yh();return t.forEach((function(t,n){e=e.unionWith(n.activeTargetIds)})),e},t}(),Pp=function(){function t(){this.li=new Rp,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new Rp,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),Dp=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),jp=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){Hc("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){Hc("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Np={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Mp=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),Lp=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return Object(Ri.__extends)(e,t),e.prototype.ki=function(t,e,n,r){return new Promise((function(i,o){var s=new Fc;s.listenOnce(jc.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case Dc.NO_ERROR:var e=s.getResponseJson();Hc("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Dc.TIMEOUT:Hc("Connection",'RPC "'+t+'" timed out'),o(new Uc(Bc.DEADLINE_EXCEEDED,"Request time out"));break;case Dc.HTTP_ERROR:var n=s.getStatus();if(Hc("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Bc).indexOf(e)>=0?e:Bc.UNKNOWN}(r.status);o(new Uc(a,r.message))}else o(new Uc(Bc.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Uc(Bc.UNAVAILABLE,"Connection failed."));break;default:Yc()}}finally{Hc("Connection",'RPC "'+t+'" completed.')}}));var a=JSON.stringify(r);s.send(e,"POST",a,n,15)}))},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Tc,i=Ss(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Mc({})),this.Fi(o.initMessageHeaders,e),Object(Ai.isMobileCordova)()||Object(Ai.isReactNative)()||Object(Ai.isElectron)()||Object(Ai.isIE)()||Object(Ai.isUWP)()||Object(Ai.isBrowserExtension)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");Hc("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),c=!1,u=!1,l=new Mp({Ei:function(t){u?Hc("Connection","Not sending because WebChannel is closed:",t):(c||(Hc("Connection","Opening WebChannel transport."),a.open(),c=!0),Hc("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return h(a,Lc.EventType.OPEN,(function(){u||Hc("Connection","WebChannel transport opened.")})),h(a,Lc.EventType.CLOSE,(function(){u||(u=!0,Hc("Connection","WebChannel transport closed"),l.Vi())})),h(a,Lc.EventType.ERROR,(function(t){u||(u=!0,Kc("Connection","WebChannel transport errored:",t),l.Vi(new Uc(Bc.UNAVAILABLE,"The operation could not be completed")))})),h(a,Lc.EventType.MESSAGE,(function(t){var e;if(!u){var n=t.data[0];Qc(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Hc("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=Jl[t];if(void 0!==e)return ih(e)}(i),s=r.message;void 0===o&&(o=Bc.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),u=!0,l.Vi(new Uc(o,s)),a.close()}else Hc("Connection","WebChannel received:",n),l.Si(n)}})),h(i,Nc.STAT_EVENT,(function(t){10===t.stat?Hc("Connection","Detected buffering proxy"):11===t.stat&&Hc("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Pi()}),0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);Hc("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then((function(t){return Hc("RestConnection","Received: ",t),t}),(function(e){throw Kc("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.7.0",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+Np[t]},t}());function Fp(){return"undefined"!=typeof window?window:null}function Vp(){return"undefined"!=typeof document?document:null}function Bp(t){return new Ah(t,!0)}var Up=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&Hc("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return e.Ki=Date.now(),t()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),qp=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Up(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){return Object(Ri.__generator)(this,(function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return t.rr()})))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){return Object(Ri.__generator)(this,(function(t){return this.er()?[2,this.close(0)]:[2]}))}))},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){return Object(Ri.__generator)(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Bc.RESOURCE_EXHAUSTED?(zc(e.toString()),zc("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===Bc.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(e){t.Yi===n&&t.lr(e)}),(function(n){e((function(){var e=new Uc(Bc.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)}))}))},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii((function(){n((function(){return e.state=2,e.listener.Ii()}))})),this.stream.Ri((function(t){n((function(){return e.dr(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji((function(){return Object(Ri.__awaiter)(t,void 0,void 0,(function(){return Object(Ri.__generator)(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.dr=function(t){return Hc("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget((function(){return e.Yi===t?n():(Hc("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Wp=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return Object(Ri.__extends)(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Yc()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(Qc(void 0===e||"string"==typeof e),du.fromBase64String(e||"")):(Qc(void 0===e||e instanceof Uint8Array),du.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Bc.UNKNOWN:ih(t.code);return new Uc(e,t.message||"")}(a);n=new xh(r,i,o,s||null)}else if("documentChange"in e){i=Vh(t,(r=e.documentChange).document.name),o=Nh(r.document.updateTime);var a=new Mu({mapValue:{fields:r.document.fields}}),c=(s=Fu.newFoundDocument(i,o,a),r.targetIds||[]);n=new Sh(c,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=Vh(t,(r=e.documentDelete).document),o=r.readTime?Nh(r.readTime):ru.min(),a=Fu.newNoDocument(i,o),n=new Sh([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Vh(t,(r=e.documentRemove).document),n=new Sh([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Yc();var u=e.filter;i=new nh(r=u.count||0),n=new Ch(o=u.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return ru.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?ru.min():e.readTime?Nh(e.readTime):ru.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=qh(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=Wu(r)?{documents:Yh(t,r)}:{query:Qh(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=Dh(t,e.resumeToken):e.snapshotVersion.compareTo(ru.min())>0&&(n.readTime=Ph(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Yc()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=qh(this.R),e.removeTarget=t,this.cr(e)},e}(qp),Hp=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return Object(Ri.__extends)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(Qc(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(Qc(void 0!==e),t.map((function(t){return function(t,e){var n=Nh(t.updateTime?t.updateTime:e);return n.isEqual(ru.min())&&(n=Nh(e)),new Fl(n,t.transformResults||[])}(t,e)}))):[]}(t.writeResults,t.commitTime),n=Nh(t.commitTime);return this.listener.Tr(n,e)}return Qc(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=qh(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return Kh(e.R,t)}))};this.cr(n)},e}(qp),zp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return Object(Ri.__extends)(e,t),e.prototype.br=function(){if(this.Rr)throw new Uc(Bc.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===Bc.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Uc(Bc.UNKNOWN,t.toString())}))},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===Bc.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Uc(Bc.UNKNOWN,t.toString())}))},e.prototype.terminate=function(){this.Rr=!0},e}((function(){})),Kp=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()})))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(zc(e),this.Vr=!1):Hc("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),Gp=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(t){n.enqueueAndForget((function(){return Object(Ri.__awaiter)(o,void 0,void 0,(function(){return Object(Ri.__generator)(this,(function(t){switch(t.label){case 0:return nm(this)?(Hc("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var e;return Object(Ri.__generator)(this,(function(n){switch(n.label){case 0:return(e=$c(t)).Or.add(4),[4,Qp(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,Yp(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Br=new Kp(n,r)};function Yp(t){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var e,n;return Object(Ri.__generator)(this,(function(r){switch(r.label){case 0:if(!nm(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Qp(t){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var e,n;return Object(Ri.__generator)(this,(function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function $p(t,e){var n=$c(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),em(n)?tm(n):bm(n).er()&&Jp(n,e))}function Xp(t,e){var n=$c(t),r=bm(n);n.$r.delete(e),r.er()&&Zp(n,e),0===n.$r.size&&(r.er()?r.ir():nm(n)&&n.Br.set("Unknown"))}function Jp(t,e){t.qr.U(e.targetId),bm(t).mr(e)}function Zp(t,e){t.qr.U(e),bm(t).yr(e)}function tm(t){t.qr=new Eh({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),bm(t).start(),t.Br.Sr()}function em(t){return nm(t)&&!bm(t).tr()&&t.$r.size>0}function nm(t){return 0===$c(t).Or.size}function rm(t){t.qr=void 0}function im(t){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){return Object(Ri.__generator)(this,(function(e){return t.$r.forEach((function(e,n){Jp(t,e)})),[2]}))}))}function om(t,e){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){return Object(Ri.__generator)(this,(function(n){return rm(t),em(t)?(t.Br.Nr(e),tm(t)):t.Br.set("Unknown"),[2]}))}))}function sm(t,e,n){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return Object(Ri.__generator)(this,(function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof xh&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o;return Object(Ri.__generator)(this,(function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.$r.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.$r.delete(o),t.qr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),Hc("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,am(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Sh?t.qr.X(e):e instanceof Ch?t.qr.rt(e):t.qr.et(e),n.isEqual(ru.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,tp(t.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach((function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(du.EMPTY_BYTE_STRING,n.snapshotVersion)),Zp(t,e);var r=new zd(n.target,e,1,n.sequenceNumber);Jp(t,r)}})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return Hc("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,am(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function am(t,e,n){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var r=this;return Object(Ri.__generator)(this,(function(i){switch(i.label){case 0:if(!Md(e))throw e;return t.Or.add(1),[4,Qp(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return tp(t.localStore)}),t.asyncQueue.enqueueRetryable((function(){return Object(Ri.__awaiter)(r,void 0,void 0,(function(){return Object(Ri.__generator)(this,(function(e){switch(e.label){case 0:return Hc("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,Yp(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function cm(t,e){return e().catch((function(n){return am(t,n,e)}))}function um(t){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i,o;return Object(Ri.__generator)(this,(function(s){switch(s.label){case 0:e=$c(t),n=vm(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return nm(t)&&t.kr.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,rp(e.localStore,r)];case 3:return null===(i=s.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=vm(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,am(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return lm(e)&&hm(e),[2]}}))}))}function lm(t){return nm(t)&&!vm(t).tr()&&t.kr.length>0}function hm(t){vm(t).start()}function dm(t){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){return Object(Ri.__generator)(this,(function(e){return vm(t).Ar(),[2]}))}))}function fm(t){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var e,n,r;return Object(Ri.__generator)(this,(function(i){for(e=vm(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]}))}))}function pm(t,e,n){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var r,i;return Object(Ri.__generator)(this,(function(o){switch(o.label){case 0:return r=t.kr.shift(),i=Hd.from(r,e,n),[4,cm(t,(function(){return t.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,um(t)];case 2:return o.sent(),[2]}}))}))}function mm(t,e){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){return Object(Ri.__generator)(this,(function(n){switch(n.label){case 0:return e&&vm(t).pr?[4,function(t,e){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(Ri.__generator)(this,(function(i){switch(i.label){case 0:return rh(r=e.code)&&r!==Bc.ABORTED?(n=t.kr.shift(),vm(t).sr(),[4,cm(t,(function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,um(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return lm(t)&&hm(t),[2]}}))}))}function gm(t,e){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var n;return Object(Ri.__generator)(this,(function(r){switch(r.label){case 0:return n=$c(t),e?(n.Or.delete(2),[4,Yp(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,Qp(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function bm(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=$c(t);return r.br(),new Wp(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:im.bind(null,t),Ri:om.bind(null,t),_r:sm.bind(null,t)}),t.Mr.push((function(n){return Object(Ri.__awaiter)(e,void 0,void 0,(function(){return Object(Ri.__generator)(this,(function(e){switch(e.label){case 0:return n?(t.Ur.sr(),em(t)?tm(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),rm(t),e.label=3;case 3:return[2]}}))}))}))),t.Ur}function vm(t){var e=this;return t.Kr||(t.Kr=function(t,e,n){var r=$c(t);return r.br(),new Hp(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:dm.bind(null,t),Ri:mm.bind(null,t),Ir:fm.bind(null,t),Tr:pm.bind(null,t)}),t.Mr.push((function(n){return Object(Ri.__awaiter)(e,void 0,void 0,(function(){return Object(Ri.__generator)(this,(function(e){switch(e.label){case 0:return n?(t.Kr.sr(),[4,um(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:e.sent(),t.kr.length>0&&(Hc("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}}))}))}))),t.Kr}var ym=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Rd,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Uc(Bc.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function _m(t,e){if(zc("AsyncQueue",e+": "+t),Md(t))return new Uc(Bc.UNAVAILABLE,e+": "+t);throw t}var wm=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||Su.comparator(e.key,n.key)}:function(t,e){return Su.comparator(t.key,e.key)},this.keyedMap=fh(),this.sortedSet=new oh(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),Sm=function(){function t(){this.Qr=new oh(Su.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Qr.get(e);n?0!==t.type&&3===n.type?this.Qr=this.Qr.insert(e,t):3===t.type&&1!==n.type?this.Qr=this.Qr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Qr=this.Qr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Qr=this.Qr.remove(e):1===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):Yc():this.Qr=this.Qr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal((function(e,n){t.push(n)})),t},t}(),Cm=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,wm.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&gl(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),xm=function(){this.Wr=void 0,this.listeners=[]},Om=function(){this.queries=new Pf((function(t){return bl(t)}),gl),this.onlineState="Unknown",this.Gr=new Set};function Em(t,e){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,s,a,c;return Object(Ri.__generator)(this,(function(u){switch(u.label){case 0:if(n=$c(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new xm),!i)return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=u.sent(),[3,4];case 3:return a=u.sent(),c=_m(a,"Initialization of query '"+vl(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&Rm(n),[2]}}))}))}function km(t,e){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(Ri.__generator)(this,(function(a){return n=$c(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function Tm(t,e){for(var n=$c(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var c=0,u=a.listeners;c<u.length;c++)u[c].Hr(s)&&(r=!0);a.Wr=s}}r&&Rm(n)}function Im(t,e,n){var r=$c(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function Rm(t){t.Gr.forEach((function(t){t.next()}))}var Am=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Cm(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=Cm.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),Pm=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),Dm=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return Vh(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?zh(this.R,t.document,!1):Fu.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},t.prototype.Kn=function(t){return Nh(t)},t}(),jm=function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=Nm(t)}return t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new Dm(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.qn(o.metadata.name),a=0,c=o.metadata.queries;a<c.length;a++){var u=c[a],l=(e.get(u)||bh()).add(s);e.set(u,l)}}return e},t.prototype.complete=function(){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var t,e,n,r,i;return Object(Ri.__generator)(this,(function(o){switch(o.label){case 0:return[4,lp(this.localStore,new Dm(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,hp(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Kf(Object.assign({},this.progress),t))]}}))}))},t}();function Nm(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var Mm=function(t){this.key=t},Lm=function(t){this.key=t},Fm=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=bh(),this.mutatedKeys=bh(),this.lo=_l(t),this.fo=new wm(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new Sm,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=cl(this.query)&&i.size===this.query.limit?i.last():null,u=ul(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((function(t,e){var l=i.get(t),h=yl(n.query,e)?e:null,d=!!l&&n.mutatedKeys.has(l.key),f=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?d!==f&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(c&&n.lo(h,c)>0||u&&n.lo(h,u)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(c||u)&&(a=!0)),p&&(h?(s=s.add(h),o=f?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),cl(this.query)||ul(this.query))for(;s.size>this.query.limit;){var l=cl(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Yc()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)})),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,c=a!==this.ao;return this.ao=a,0!==o.length||c?{snapshot:new Cm(this.query,t.fo,i,o,t.mutatedKeys,0===a,c,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Sm,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e.uo=e.uo.add(t)})),t.modifiedDocuments.forEach((function(t){})),t.removedDocuments.forEach((function(t){return e.uo=e.uo.delete(t)})),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=bh(),this.fo.forEach((function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))}));var n=[];return e.forEach((function(e){t.ho.has(e)||n.push(new Lm(e))})),this.ho.forEach((function(t){e.has(t)||n.push(new Mm(t))})),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=bh();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return Cm.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),Vm=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Bm=function(t){this.key=t,this.bo=!1},Um=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Pf((function(t){return bl(t)}),gl),this.Vo=new Map,this.So=new Set,this.Do=new oh(Su.comparator),this.Co=new Map,this.No=new fp,this.xo={},this.Fo=new Map,this.ko=_f.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function qm(t,e){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(Ri.__generator)(this,(function(a){switch(a.label){case 0:return n=bg(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,ip(n.localStore,pl(e))];case 2:return o=a.sent(),s=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,Wm(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.isPrimaryClient&&$p(n.remoteStore,o),a.label=4;case 4:return[2,r]}}))}))}function Wm(t,e,n,r){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var i,o,s,a,c,u;return Object(Ri.__generator)(this,(function(l){switch(l.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var i,o,s;return Object(Ri.__generator)(this,(function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,sp(t.localStore,e.query,!1).then((function(t){return e.view._o(t.documents,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(ng(t,e.targetId,s.To),s.snapshot)]}}))}))}(t,e,n,r)},[4,sp(t.localStore,e,!0)];case 1:return i=l.sent(),o=new Fm(e,i.Bn),s=o._o(i.documents),a=wh.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),c=o.applyChanges(s,t.isPrimaryClient,a),ng(t,n,c.To),u=new Vm(e,n,o),[2,(t.Po.set(e,u),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),c.snapshot)]}}))}))}function Hm(t,e){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return Object(Ri.__generator)(this,(function(o){switch(o.label){case 0:return n=$c(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(t){return!gl(t,e)}))),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,op(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),Xp(n.remoteStore,r.targetId),tg(n,r.targetId)})).catch(Of)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return tg(n,r.targetId),[4,op(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function zm(t,e,n){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var r,i,o,s;return Object(Ri.__generator)(this,(function(a){switch(a.label){case 0:r=vg(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=$c(t),i=nu.now(),o=e.reduce((function(t,e){return t.add(e.key)}),bh());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Mn.pn(t,o).next((function(o){n=o;for(var s=[],a=0,c=e;a<c.length;a++){var u=c[a],l=Hl(u,n.get(u.key));null!=l&&s.push(new Yl(u.key,l,Lu(l.value.mapValue),Vl.exists(!0)))}return r._n.addMutationBatch(t,i,s,e)}))})).then((function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}}))}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new oh(Zc)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,og(r,i.changes)];case 3:return a.sent(),[4,um(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=_m(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}}))}))}function Km(t,e){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(Ri.__generator)(this,(function(i){switch(i.label){case 0:n=$c(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,ep(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach((function(t,e){var r=n.Co.get(e);r&&(Qc(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?Qc(r.bo):t.removedDocuments.size>0&&(Qc(r.bo),r.bo=!1))})),[4,og(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Of(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Gm(t,e,n){var r=$c(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=$c(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)})),r&&Rm(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Ym(t,e,n){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var r,i,o,s,a,c;return Object(Ri.__generator)(this,(function(u){switch(u.label){case 0:return(r=$c(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(s=(s=new oh(Su.comparator)).insert(o,Fu.newNoDocument(o,ru.min())),a=bh().add(o),c=new _h(ru.min(),new Map,new ch(Zc),s,a),[4,Km(r,c)]):[3,2];case 1:return u.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),ig(r),[3,4];case 2:return[4,op(r.localStore,e,!1).then((function(){return tg(r,e,n)})).catch(Of)];case 3:u.sent(),u.label=4;case 4:return[2]}}))}))}function Qm(t,e){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return Object(Ri.__generator)(this,(function(o){switch(o.label){case 0:n=$c(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Zf(n.localStore,e)];case 2:return i=o.sent(),Zm(n,r,null),Jm(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,og(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Of(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function $m(t,e,n){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var r,i;return Object(Ri.__generator)(this,(function(o){switch(o.label){case 0:r=$c(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=$c(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n._n.lookupMutationBatch(t,e).next((function(e){return Qc(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}(r.localStore,e)];case 2:return i=o.sent(),Zm(r,e,n),Jm(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,og(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Of(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Xm(t,e){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(Ri.__generator)(this,(function(a){switch(a.label){case 0:nm((n=$c(t)).remoteStore)||Hc("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=$c(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e._n.getHighestUnacknowledgedBatchId(t)}))}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=a.sent(),s=_m(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}}))}))}function Jm(t,e){(t.Fo.get(e)||[]).forEach((function(t){t.resolve()})),t.Fo.delete(e)}function Zm(t,e,n){var r=$c(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function tg(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach((function(e){t.No.containsKey(e)||eg(t,e)}))}function eg(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(Xp(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),ig(t))}function ng(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Mm?(t.No.addReference(o.key,e),rg(t,o)):o instanceof Lm?(Hc("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||eg(t,o.key)):Yc()}}function rg(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(Hc("SyncEngine","New document in limbo: "+n),t.So.add(r),ig(t))}function ig(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new Su(cu.fromString(e)),r=t.ko.next();t.Co.set(r,new Bm(n)),t.Do=t.Do.insert(n,r),$p(t.remoteStore,new zd(pl(al(n.path)),r,2,Vc.o))}}function og(t,e,n){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var r,i,o,s;return Object(Ri.__generator)(this,(function(a){switch(a.label){case 0:return r=$c(t),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(t,a){s.push(r.Oo(a,e,n).then((function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Yf.Pn(a.targetId,t);o.push(e)}})))})),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,s,a,c,u;return Object(Ri.__generator)(this,(function(l){switch(l.label){case 0:n=$c(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return Ad.forEach(e,(function(e){return Ad.forEach(e.bn,(function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)})).next((function(){return Ad.forEach(e.vn,(function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)}))}))}))}))];case 2:return l.sent(),[3,4];case 3:if(!Md(r=l.sent()))throw r;return Hc("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(c=n.Fn.get(a),u=c.withLastLimboFreeSnapshotVersion(c.snapshotVersion),n.Fn=n.Fn.insert(a,u));return[2]}}))}))}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function sg(t,e){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(Ri.__generator)(this,(function(i){switch(i.label){case 0:return(n=$c(t)).currentUser.isEqual(e)?[3,3]:(Hc("SyncEngine","User change. New user:",e.toKey()),[4,Jf(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach((function(t){t.forEach((function(t){t.reject(new Uc(Bc.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,og(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function ag(t,e){var n=$c(t),r=n.Co.get(e);if(r&&r.bo)return bh().add(r.key);var i=bh(),o=n.Vo.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var c=n.Po.get(a[s]);i=i.unionWith(c.view.wo)}return i}function cg(t,e){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return Object(Ri.__generator)(this,(function(o){switch(o.label){case 0:return[4,sp((n=$c(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&ng(n,e.targetId,i.To),i)]}}))}))}function ug(t){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var e;return Object(Ri.__generator)(this,(function(n){return[2,cp((e=$c(t)).localStore).then((function(t){return og(e,t)}))]}))}))}function lg(t,e,n,r){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var i,o;return Object(Ri.__generator)(this,(function(s){switch(s.label){case 0:return[4,function(t,e){var n=$c(t),r=$c(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.jt(t,e).next((function(e){return e?n.Mn.pn(t,e):Ad.resolve(null)}))}))}((i=$c(t)).localStore,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,um(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Zm(i,e,r||null),Jm(i,e),function(t,e){$c($c(t)._n).Gt(e)}(i.localStore,e)):Yc(),s.label=4;case 4:return[4,og(i,o)];case 5:return s.sent(),[3,7];case 6:Hc("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}}))}))}function hg(t,e){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,s,a,c;return Object(Ri.__generator)(this,(function(u){switch(u.label){case 0:return bg(n=$c(t)),vg(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,dg(n,r.toArray())]);case 1:return i=u.sent(),n.$o=!0,[4,gm(n.remoteStore,!0)];case 2:for(u.sent(),o=0,s=i;o<s.length;o++)$p(n.remoteStore,s[o]);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(a=[],c=Promise.resolve(),n.Vo.forEach((function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):c=c.then((function(){return tg(n,e),op(n.localStore,e,!0)})),Xp(n.remoteStore,e)})),[4,c]);case 4:return u.sent(),[4,dg(n,a)];case 5:return u.sent(),function(t){var e=$c(t);e.Co.forEach((function(t,n){Xp(e.remoteStore,n)})),e.No.ts(),e.Co=new Map,e.Do=new oh(Su.comparator)}(n),n.$o=!1,[4,gm(n.remoteStore,!1)];case 6:u.sent(),u.label=7;case 7:return[2]}}))}))}function dg(t,e,n){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,s,a,c,u,l,h,d,f,p;return Object(Ri.__generator)(this,(function(m){switch(m.label){case 0:n=$c(t),r=[],i=[],o=0,s=e,m.label=1;case 1:return o<s.length?(c=void 0,(u=n.Vo.get(a=s[o]))&&0!==u.length?[4,ip(n.localStore,pl(u[0]))]:[3,7]):[3,13];case 2:c=m.sent(),l=0,h=u,m.label=3;case 3:return l<h.length?(d=n.Po.get(h[l]),[4,cg(n,d)]):[3,6];case 4:(f=m.sent()).snapshot&&i.push(f.snapshot),m.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,ap(n.localStore,a)];case 8:return p=m.sent(),[4,ip(n.localStore,p)];case 9:return c=m.sent(),[4,Wm(n,fg(p),a,!1)];case 10:m.sent(),m.label=11;case 11:r.push(c),m.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function fg(t){return sl(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function pg(t){var e=$c(t);return $c($c(e.localStore).persistence).fn()}function mg(t,e,n,r){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var i,o,s;return Object(Ri.__generator)(this,(function(a){switch(a.label){case 0:return(i=$c(t)).$o?(Hc("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,cp(i.localStore)];case 3:return o=a.sent(),s=_h.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,og(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,op(i.localStore,e,!0)];case 6:return a.sent(),tg(i,e,r),[3,8];case 7:Yc(),a.label=8;case 8:return[2]}}))}))}function gg(t,e,n){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var r,i,o,s,a,c,u,l,h;return Object(Ri.__generator)(this,(function(d){switch(d.label){case 0:if(!(r=bg(t)).$o)return[3,10];i=0,o=e,d.label=1;case 1:return i<o.length?r.Vo.has(s=o[i])?(Hc("SyncEngine","Adding an already active target "+s),[3,5]):[4,ap(r.localStore,s)]:[3,6];case 2:return a=d.sent(),[4,ip(r.localStore,a)];case 3:return c=d.sent(),[4,Wm(r,fg(a),c.targetId,!1)];case 4:d.sent(),$p(r.remoteStore,c),d.label=5;case 5:return i++,[3,1];case 6:u=function(t){return Object(Ri.__generator)(this,(function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,op(r.localStore,t,!1).then((function(){Xp(r.remoteStore,t),tg(r,t)})).catch(Of)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,h=n,d.label=7;case 7:return l<h.length?[5,u(h[l])]:[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function bg(t){var e=$c(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Km.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ag.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ym.bind(null,e),e.vo._r=Tm.bind(null,e.eventManager),e.vo.Mo=Im.bind(null,e.eventManager),e}function vg(t){var e=$c(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Qm.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$m.bind(null,e),e}function yg(t,e,n){var r=$c(t);(function(t,e,n){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var r,i,o,s,a,c;return Object(Ri.__generator)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,14,,15]),[4,e.getMetadata()];case 1:return r=u.sent(),[4,function(t,e){var n=$c(t),r=Nh(e.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(t){return n.Ke.getBundleMetadata(t,e.id)})).then((function(t){return!!t&&t.createTime.compareTo(r)>=0}))}(t.localStore,r)];case 2:return u.sent()?[4,e.close()]:[3,4];case 3:return[2,(u.sent(),void n._completeWith(function(t){return{taskState:"Success",documentsLoaded:t.totalDocuments,bytesLoaded:t.totalBytes,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(r)))];case 4:return n._updateProgress(Nm(r)),i=new jm(r,t.localStore,e.R),[4,e.Lo()];case 5:o=u.sent(),u.label=6;case 6:return o?[4,i.oo(o)]:[3,10];case 7:return(s=u.sent())&&n._updateProgress(s),[4,e.Lo()];case 8:o=u.sent(),u.label=9;case 9:return[3,6];case 10:return[4,i.complete()];case 11:return a=u.sent(),[4,og(t,a.wn,void 0)];case 12:return u.sent(),[4,function(t,e){var n=$c(t);return n.persistence.runTransaction("Save bundle","readwrite",(function(t){return n.Ke.saveBundleMetadata(t,e)}))}(t.localStore,r)];case 13:return u.sent(),n._completeWith(a.progress),[3,15];case 14:return Kc("SyncEngine","Loading bundle failed with "+(c=u.sent())),n._failWith(c),[3,15];case 15:return[2]}}))}))})(r,e,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var _g=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){return Object(Ri.__generator)(this,(function(e){switch(e.label){case 0:return this.R=Bp(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}}))}))},t.prototype.Uo=function(t){return null},t.prototype.Ko=function(t){return Xf(this.persistence,new Qf,t.initialUser,this.R)},t.prototype.qo=function(t){return new yp(wp.bs,this.R)},t.prototype.Bo=function(t){return new Pp},t.prototype.terminate=function(){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){return Object(Ri.__generator)(this,(function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}}))}))},t}(),wg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Ri.__extends)(e,t),e.prototype.initialize=function(e){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){return Object(Ri.__generator)(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,up(this.localStore)];case 2:return n.sent(),[4,this.Qo.initialize(this,e)];case 3:return n.sent(),[4,vg(this.Qo.syncEngine)];case 4:return n.sent(),[4,um(this.Qo.remoteStore)];case 5:return n.sent(),[2]}}))}))},e.prototype.Ko=function(t){return Xf(this.persistence,new Qf,t.initialUser,this.R)},e.prototype.Uo=function(t){return new Tf(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=zf(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?df.withCacheSize(this.cacheSizeBytes):df.DEFAULT;return new qf(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Fp(),Vp(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new Pp},e}(_g),Sg=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Qo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Ri.__extends)(e,t),e.prototype.initialize=function(e){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var n,r=this;return Object(Ri.__generator)(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof Ap?(this.sharedClientState.syncEngine={ui:lg.bind(null,n),ai:mg.bind(null,n),hi:gg.bind(null,n),fn:pg.bind(null,n),ci:ug.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(t){return Object(Ri.__awaiter)(r,void 0,void 0,(function(){return Object(Ri.__generator)(this,(function(e){switch(e.label){case 0:return[4,hg(this.Qo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Bo=function(t){var e=Fp();if(!Ap.yt(e))throw new Uc(Bc.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=zf(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Ap(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(wg),Cg=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var n=this;return Object(Ri.__generator)(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Gm(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=sg.bind(null,this.syncEngine),[4,gm(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.createEventManager=function(t){return new Om},t.prototype.createDatastore=function(t){var e=Bp(t.databaseInfo.databaseId),n=new Lp(t.databaseInfo);return function(t,e,n){return new zp(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return Gm(s.syncEngine,t,0)},o=jp.yt()?new jp:new Dp,new Gp(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,s){var a=new Um(t,e,n,r,i,o);return s&&(a.$o=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var e;return Object(Ri.__generator)(this,(function(n){switch(n.label){case 0:return e=$c(t),Hc("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,Qp(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},t}();function xg(t,e){void 0===e&&(e=10240);var n=0;return{read:function(){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var r;return Object(Ri.__generator)(this,(function(i){return n<t.byteLength?(r={value:t.slice(n,n+e),done:!1},[2,(n+=e,r)]):[2,{done:!0}]}))}))},cancel:function(){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){return Object(Ri.__generator)(this,(function(t){return[2]}))}))},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var Og=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),Eg=function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new Rd,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}return t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){return Object(Ri.__generator)(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Lo=function(){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){return Object(Ri.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}}))}))},t.prototype.Ho=function(){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var t,e,n,r;return Object(Ri.__generator)(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new Pm(JSON.parse(r),t.length+n)]}}))}))},t.prototype.Zo=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.Jo=function(){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var t,e;return Object(Ri.__generator)(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.Xo=function(t){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var e;return Object(Ri.__generator)(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var t,e;return Object(Ri.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))},t}(),kg=function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var e,n=this;return Object(Ri.__generator)(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Uc(Bc.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,s,a;return Object(Ri.__generator)(this,(function(c){switch(c.label){case 0:return n=$c(t),r=qh(n.R)+"/documents",i={documents:e.map((function(t){return Fh(n.R,t)}))},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=c.sent(),s=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){Qc(!!e.found);var n=Vh(t,e.found.name),r=Nh(e.found.updateTime),i=new Mu({mapValue:{fields:e.found.fields}});return Fu.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){Qc(!!e.missing),Qc(!!e.readTime);var n=Vh(t,e.missing),r=Nh(e.readTime);return Fu.newNoDocument(n,r)}(t,e):Yc()}(n.R,t);s.set(e.key.toString(),e)})),a=[],[2,(e.forEach((function(t){var e=s.get(t.toString());Qc(!!e),a.push(e)})),a)]}}))}))}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach((function(t){return n.recordVersion(t)})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new th(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var t,e=this;return Object(Ri.__generator)(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=Su.fromPath(n);e.mutations.push(new eh(r,e.precondition(r)))})),[4,function(t,e){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return Object(Ri.__generator)(this,(function(o){switch(o.label){case 0:return n=$c(t),r=qh(n.R)+"/documents",i={writes:e.map((function(t){return Kh(n.R,t)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Yc();e=ru.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Uc(Bc.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Vl.updateTime(e):Vl.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(ru.min()))throw new Uc(Bc.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Vl.updateTime(e)}return Vl.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}(),Tg=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Up(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji((function(){return Object(Ri.__awaiter)(t,void 0,void 0,(function(){var t,e,n=this;return Object(Ri.__generator)(this,(function(r){return t=new kg(this.datastore),(e=this.sc(t))&&e.then((function(e){n.asyncQueue.enqueueAndForget((function(){return t.commit().then((function(){n.deferred.resolve(e)})).catch((function(t){n.ic(t)}))}))})).catch((function(t){n.ic(t)})),[2]}))}))}))},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!yu(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return e.nc(),Promise.resolve()}))):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!rh(e)}return!1},t}(),Ig=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=Sp.UNAUTHENTICATED,this.clientId=Jc.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,(function(t){return Object(Ri.__awaiter)(r,void 0,void 0,(function(){return Object(Ri.__generator)(this,(function(e){switch(e.label){case 0:return Hc("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}}))}))}))}return t.prototype.getConfiguration=function(){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){return Object(Ri.__generator)(this,(function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Uc(Bc.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Rd;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return Object(Ri.__awaiter)(t,void 0,void 0,(function(){var t,n;return Object(Ri.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=_m(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function Rg(t,e){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var n,r,i=this;return Object(Ri.__generator)(this,(function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Hc("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener((function(t){return Object(Ri.__awaiter)(i,void 0,void 0,(function(){return Object(Ri.__generator)(this,(function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,Jf(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}}))}))})),e.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=e,[2]}}))}))}function Ag(t,e){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(Ri.__generator)(this,(function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Pg(t)];case 1:return n=i.sent(),Hc("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener((function(t){return function(t,e){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(Ri.__generator)(this,(function(i){switch(i.label){case 0:return(n=$c(t)).asyncQueue.verifyOperationInProgress(),Hc("RemoteStore","RemoteStore received new credentials"),r=nm(n),n.Or.add(3),[4,Qp(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,Yp(n)];case 3:return i.sent(),[2]}}))}))}(e.remoteStore,t)})),t.onlineComponents=e,[2]}}))}))}function Pg(t){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){return Object(Ri.__generator)(this,(function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Hc("FirestoreClient","Using default OfflineComponentProvider"),[4,Rg(t,new _g)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}}))}))}function Dg(t){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){return Object(Ri.__generator)(this,(function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Hc("FirestoreClient","Using default OnlineComponentProvider"),[4,Ag(t,new Cg)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}}))}))}function jg(t){return Pg(t).then((function(t){return t.persistence}))}function Ng(t){return Pg(t).then((function(t){return t.localStore}))}function Mg(t){return Dg(t).then((function(t){return t.remoteStore}))}function Lg(t){return Dg(t).then((function(t){return t.syncEngine}))}function Fg(t){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var e,n;return Object(Ri.__generator)(this,(function(r){switch(r.label){case 0:return[4,Dg(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=qm.bind(null,e.syncEngine),n.onUnlisten=Hm.bind(null,e.syncEngine),n)]}}))}))}function Vg(t,e,n){var r=this;void 0===n&&(n={});var i=new Rd;return t.asyncQueue.enqueueAndForget((function(){return Object(Ri.__awaiter)(r,void 0,void 0,(function(){var r;return Object(Ri.__generator)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Og({next:function(o){e.enqueueAndForget((function(){return km(t,s)}));var a=o.docs.has(n);!a&&o.fromCache?i.reject(new Uc(Bc.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Uc(Bc.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new Am(al(n.path),o,{includeMetadataChanges:!0,so:!0});return Em(t,s)},[4,Fg(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}function Bg(t,e,n){var r=this;void 0===n&&(n={});var i=new Rd;return t.asyncQueue.enqueueAndForget((function(){return Object(Ri.__awaiter)(r,void 0,void 0,(function(){var r;return Object(Ri.__generator)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Og({next:function(n){e.enqueueAndForget((function(){return km(t,s)})),n.fromCache&&"server"===r.source?i.reject(new Uc(Bc.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new Am(n,o,{includeMetadataChanges:!0,so:!0});return Em(t,s)},[4,Fg(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}var Ug=function(t,e,n,r,i,o,s,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a},qg=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Wg=new Map,Hg=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},zg=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable((function(){return e(Sp.UNAUTHENTICATED)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Kg=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable((function(){return e(n.token.user)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Gg=function(){function t(t){var e=this;this.currentUser=Sp.UNAUTHENTICATED,this.oc=new Rd,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable((function(){return e.changeListener(e.currentUser)}))};var n=function(t){Hc("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit((function(t){return n(t)})),setTimeout((function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):(Hc("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}}),0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.cc!==e?(Hc("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Qc("string"==typeof n.accessToken),new Hg(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable((function(){return Object(Ri.__awaiter)(n,void 0,void 0,(function(){return Object(Ri.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}}))}))}))},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return Qc(null===t||"string"==typeof t),new Sp(t)},t}(),Yg=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=Sp.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),Qg=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new Yg(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable((function(){return e(Sp.FIRST_PARTY)}))},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function $g(t,e,n){if(!n)throw new Uc(Bc.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Xg(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Uc(Bc.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Jg(t,e,n,r){if(!0===e&&!0===r)throw new Uc(Bc.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Zg(t){if(!Su.isDocumentKey(t))throw new Uc(Bc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function tb(t){if(Su.isDocumentKey(t))throw new Uc(Bc.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function eb(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Yc()}function nb(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Uc(Bc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=eb(t);throw new Uc(Bc.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function rb(t,e){if(e<=0)throw new Uc(Bc.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var ib=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Uc(Bc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Uc(Bc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Jg("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),ob=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ib({}),this._settingsFrozen=!1,t instanceof qg?(this._databaseId=t,this._credentials=new zg):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Uc(Bc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qg(t.options.projectId)}(t),this._credentials=new Gg(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Uc(Bc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Uc(Bc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ib(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new zg;switch(t.type){case"gapi":var e=t.client;return Qc(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Qg(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Uc(Bc.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=Wg.get(this))&&(Hc("ComponentProvider","Removing Datastore"),Wg.delete(this),t.terminate()),Promise.resolve();var t},t}(),sb=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new cb(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),ab=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),cb=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,al(r))||this)._path=r,i.type="collection",i}return Object(Ri.__extends)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new sb(this.firestore,null,new Su(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(ab);function ub(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(Ai.getModularInstance)(t),$g("collection","path",e),t instanceof ob)return tb(n=cu.fromString.apply(cu,Object(Ri.__spreadArray)([e],r))),new cb(t,null,n);if(!(t instanceof sb||t instanceof cb))throw new Uc(Bc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return tb(n=cu.fromString.apply(cu,Object(Ri.__spreadArray)([t.path],r)).child(cu.fromString(e))),new cb(t.firestore,null,n)}function lb(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(Ai.getModularInstance)(t),1===arguments.length&&(e=Jc.u()),$g("doc","path",e),t instanceof ob)return Zg(n=cu.fromString.apply(cu,Object(Ri.__spreadArray)([e],r))),new sb(t,null,new Su(n));if(!(t instanceof sb||t instanceof cb))throw new Uc(Bc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Zg(n=t._path.child(cu.fromString.apply(cu,Object(Ri.__spreadArray)([e],r)))),new sb(t.firestore,t instanceof cb?t.converter:null,new Su(n))}function hb(t,e){return t=Object(Ai.getModularInstance)(t),e=Object(Ai.getModularInstance)(e),(t instanceof sb||t instanceof cb)&&(e instanceof sb||e instanceof cb)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function db(t,e){return t=Object(Ai.getModularInstance)(t),e=Object(Ai.getModularInstance)(e),t instanceof ab&&e instanceof ab&&t.firestore===e.firestore&&gl(t._query,e._query)&&t.converter===e.converter}var fb=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=[],this.Zi=new Up(this,"async_queue_retry"),this.Tc=function(){var e=Vp();e&&Hc("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=Vp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Tc)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ic(),this.Ac(t)},t.prototype.enterRestrictedMode=function(){if(!this._c){this._c=!0;var t=Vp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Tc)}},t.prototype.enqueue=function(t){return this.Ic(),this._c?new Promise((function(t){})):this.Ac(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget((function(){return e.wc.push(t),e.Rc()}))},t.prototype.Rc=function(){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var t,e=this;return Object(Ri.__generator)(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Md(t=n.sent()))throw t;return Hc("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return e.Rc()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Ac=function(t){var e=this,n=this.dc.then((function(){return e.gc=!0,t().catch((function(t){throw e.yc=t,e.gc=!1,zc("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.gc=!1,t}))}));return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Ic(),this.Ec.indexOf(t)>-1&&(e=0);var i=ym.createAndSchedule(this,t,e,n,(function(t){return r.bc(t)}));return this.mc.push(i),i},t.prototype.Ic=function(){this.yc&&Yc()},t.prototype.verifyOperationInProgress=function(){},t.prototype.vc=function(){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var t;return Object(Ri.__generator)(this,(function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Pc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Vc=function(t){var e=this;return this.vc().then((function(){e.mc.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));for(var n=0,r=e.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.vc()}))},t.prototype.Sc=function(t){this.Ec.push(t)},t.prototype.bc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function pb(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var mb=function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Rd,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)},t}(),gb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new fb,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(Ri.__extends)(e,t),e.prototype._terminate=function(){return this._firestoreClient||vb(this),this._firestoreClient.terminate()},e}(ob);function bb(t){return t._firestoreClient||vb(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function vb(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new Ug(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new Ig(t._credentials,t._queue,r)}function yb(t,e,n){var r=this,i=new Rd;return t.asyncQueue.enqueue((function(){return Object(Ri.__awaiter)(r,void 0,void 0,(function(){var r;return Object(Ri.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Rg(t,n)];case 1:return o.sent(),[4,Ag(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Bc.FAILED_PRECONDITION||t.code===Bc.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function _b(t){if(t._initialized||t._terminated)throw new Uc(Bc.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var wb=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Uc(Bc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lu(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),Sb=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(du.fromBase64String(e))}catch(e){throw new Uc(Bc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(du.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),Cb=function(t){this._methodName=t},xb=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Uc(Bc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Uc(Bc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return Zc(this._lat,t._lat)||Zc(this._long,t._long)},t}(),Ob=/^__.*__$/,Eb=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Yl(t,this.data,this.fieldMask,e,this.fieldTransforms):new Gl(t,this.data,e,this.fieldTransforms)},t}(),kb=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Yl(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function Tb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Yc()}}var Ib=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Dc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Cc",{get:function(){return this.settings.Cc},enumerable:!1,configurable:!0}),t.prototype.Nc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.xc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Nc({path:n,Fc:!1});return r.kc(t),r},t.prototype.$c=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Nc({path:n,Fc:!1});return r.Dc(),r},t.prototype.Oc=function(t){return this.Nc({path:void 0,Fc:!0})},t.prototype.Mc=function(t){return Qb(t,this.settings.methodName,this.settings.Lc||!1,this.path,this.settings.Bc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))},t.prototype.Dc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.kc(this.path.get(t))},t.prototype.kc=function(t){if(0===t.length)throw this.Mc("Document fields must not be empty");if(Tb(this.Cc)&&Ob.test(t))throw this.Mc('Document fields cannot begin and end with "__"')},t}(),Rb=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||Bp(t)}return t.prototype.qc=function(t,e,n,r){return void 0===r&&(r=!1),new Ib({Cc:t,methodName:e,Bc:n,path:lu.emptyPath(),Fc:!1,Lc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function Ab(t){var e=t._freezeSettings(),n=Bp(t._databaseId);return new Rb(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Pb(t,e,n,r,i,o){void 0===o&&(o={});var s=t.qc(o.merge||o.mergeFields?2:0,e,n,i);zb("Data must be an object, but it was:",s,r);var a,c,u=Wb(r,s);if(o.merge)a=new hu(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,d=o.mergeFields;h<d.length;h++){var f=Kb(e,d[h],n);if(!s.contains(f))throw new Uc(Bc.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");$b(l,f)||l.push(f)}a=new hu(l),c=s.fieldTransforms.filter((function(t){return a.covers(t.field)}))}else a=null,c=s.fieldTransforms;return new Eb(new Mu(u),a,c)}var Db=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ri.__extends)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Cc)throw t.Mc(1===t.Cc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Cb);function jb(t,e,n){return new Ib({Cc:3,Bc:e.settings.Bc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var Nb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ri.__extends)(e,t),e.prototype._toFieldTransform=function(t){return new Ll(t.path,new Il)},e.prototype.isEqual=function(t){return t instanceof e},e}(Cb),Mb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return Object(Ri.__extends)(e,t),e.prototype._toFieldTransform=function(t){var e=jb(this,t,!0),n=this.Uc.map((function(t){return qb(t,e)})),r=new Rl(n);return new Ll(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Cb),Lb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return Object(Ri.__extends)(e,t),e.prototype._toFieldTransform=function(t){var e=jb(this,t,!0),n=this.Uc.map((function(t){return qb(t,e)})),r=new Pl(n);return new Ll(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Cb),Fb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return Object(Ri.__extends)(e,t),e.prototype._toFieldTransform=function(t){var e=new jl(t.R,xl(t.R,this.Kc));return new Ll(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Cb);function Vb(t,e,n,r){var i=t.qc(1,e,n);zb("Data must be an object, but it was:",i,r);var o=[],s=Mu.empty();ou(r,(function(t,r){var a=Yb(e,t,n);r=Object(Ai.getModularInstance)(r);var c=i.$c(a);if(r instanceof Db)o.push(a);else{var u=qb(r,c);null!=u&&(o.push(a),s.set(a,u))}}));var a=new hu(o);return new kb(s,a,i.fieldTransforms)}function Bb(t,e,n,r,i,o){var s=t.qc(1,e,n),a=[Kb(e,r,n)],c=[i];if(o.length%2!=0)throw new Uc(Bc.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var u=0;u<o.length;u+=2)a.push(Kb(e,o[u])),c.push(o[u+1]);for(var l=[],h=Mu.empty(),d=a.length-1;d>=0;--d)if(!$b(l,a[d])){var f=a[d],p=c[d];p=Object(Ai.getModularInstance)(p);var m=s.$c(f);if(p instanceof Db)l.push(f);else{var g=qb(p,m);null!=g&&(l.push(f),h.set(f,g))}}var b=new hu(l);return new kb(h,b,s.fieldTransforms)}function Ub(t,e,n,r){return void 0===r&&(r=!1),qb(n,t.qc(r?4:3,e))}function qb(t,e){if(Hb(t=Object(Ai.getModularInstance)(t)))return zb("Unsupported field value:",e,t),Wb(t,e);if(t instanceof Cb)return function(t,e){if(!Tb(e.Cc))throw e.Mc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Mc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.Cc)throw e.Mc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=qb(o[i],e.Oc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(Ai.getModularInstance)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return xl(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=nu.fromDate(t);return{timestampValue:Ph(e.R,n)}}if(t instanceof nu)return n=new nu(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Ph(e.R,n)};if(t instanceof xb)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Sb)return{bytesValue:Dh(e.R,t._byteString)};if(t instanceof sb){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Mc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Mh(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Mc("Unsupported field value: "+eb(t))}(t,e)}function Wb(t,e){var n={};return su(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ou(t,(function(t,r){var i=qb(r,e.xc(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Hb(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof nu||t instanceof xb||t instanceof Sb||t instanceof sb||t instanceof Cb)}function zb(t,e,n){if(!Hb(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=eb(n);throw e.Mc("an object"===r?t+" a custom object":t+" "+r)}}function Kb(t,e,n){if((e=Object(Ai.getModularInstance)(e))instanceof wb)return e._internalPath;if("string"==typeof e)return Yb(t,e);throw Qb("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Gb=new RegExp("[~\\*/\\[\\]]");function Yb(t,e,n){if(e.search(Gb)>=0)throw Qb("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(wb.bind.apply(wb,Object(Ri.__spreadArray)([void 0],e.split(".")))))._internalPath}catch(Qv){throw Qb("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Qb(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var c="";return(o||s)&&(c+=" (found",o&&(c+=" in field "+r),s&&(c+=" in document "+i),c+=")"),new Uc(Bc.INVALID_ARGUMENT,(a+=". ")+t+c)}function $b(t,e){return t.some((function(t){return t.isEqual(e)}))}var Xb=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new sb(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new Jb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(Zb("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),Jb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ri.__extends)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Xb);function Zb(t,e){return"string"==typeof e?Yb(t,e):e instanceof wb?e._internalPath:e._delegate._internalPath}var tv=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),ev=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return Object(Ri.__extends)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new nv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(Zb("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(Xb),nv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ri.__extends)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(ev),rv=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new tv(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach((function(r){t.call(e,new nv(n._firestore,n._userDataWriter,r.key,r,new tv(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Uc(Bc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map((function(e){return{type:"added",doc:new nv(t._firestore,t._userDataWriter,e.doc.key,e.doc,new tv(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}}))}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new nv(t._firestore,t._userDataWriter,e.doc.key,e.doc,new tv(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:iv(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function iv(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Yc()}}function ov(t,e){return t instanceof ev&&e instanceof ev?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof rv&&e instanceof rv&&t._firestore===e._firestore&&db(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function sv(t){if(ul(t)&&0===t.explicitOrderBy.length)throw new Uc(Bc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var av=function(){};function cv(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var uv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qc=e,i.jc=n,i.Wc=r,i.type="where",i}return Object(Ri.__extends)(e,t),e.prototype._apply=function(t){var e=Ab(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Uc(Bc.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){gv(s,o);for(var c=[],u=0,l=s;u<l.length;u++)c.push(mv(r,t,l[u]));a={arrayValue:{values:c}}}else a=mv(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||gv(s,o),a=Ub(n,"where",s,"in"===o||"not-in"===o);var h=Hu.create(i,o,a);return function(t,e){if(e.g()){var n=hl(t);if(null!==n&&!n.isEqual(e.field))throw new Uc(Bc.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=ll(t);null!==r&&bv(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Uc(Bc.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.Qc,this.jc,this.Wc);return new ab(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new ol(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(av),lv=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qc=e,r.Gc=n,r.type="orderBy",r}return Object(Ri.__extends)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Uc(Bc.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Uc(Bc.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new el(e,n);return function(t,e){if(null===ll(t)){var n=hl(t);null!==n&&bv(0,n,e.field)}}(t,r),r}(t._query,this.Qc,this.Gc);return new ab(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new ol(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(av),hv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.zc=n,i.Hc=r,i}return Object(Ri.__extends)(e,t),e.prototype._apply=function(t){return new ab(t.firestore,t.converter,ml(t._query,this.zc,this.Hc))},e}(av),dv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Jc=n,i.Yc=r,i}return Object(Ri.__extends)(e,t),e.prototype._apply=function(t){var e=pv(t,this.type,this.Jc,this.Yc);return new ab(t.firestore,t.converter,function(t,e){return new ol(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(av),fv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Jc=n,i.Yc=r,i}return Object(Ri.__extends)(e,t),e.prototype._apply=function(t){var e=pv(t,this.type,this.Jc,this.Yc);return new ab(t.firestore,t.converter,function(t,e){return new ol(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(av);function pv(t,e,n,r){if(n[0]=Object(Ai.getModularInstance)(n[0]),n[0]instanceof Xb)return function(t,e,n,r,i){if(!r)throw new Uc(Bc.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=fl(t);s<a.length;s++){var c=a[s];if(c.field.isKeyField())o.push(Iu(e,r.key));else{var u=r.data.field(c.field);if(bu(u))throw new Uc(Bc.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===u){var l=c.field.canonicalString();throw new Uc(Bc.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(u)}}return new Zu(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=Ab(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new Uc(Bc.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],c=0;c<i.length;c++){var u=i[c];if(s[c].field.isKeyField()){if("string"!=typeof u)throw new Uc(Bc.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof u);if(!dl(t)&&-1!==u.indexOf("/"))throw new Uc(Bc.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+u+"' contains a slash.");var l=t.path.child(cu.fromString(u));if(!Su.isDocumentKey(l))throw new Uc(Bc.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Su(l);a.push(Iu(e,h))}else{var d=Ub(n,r,u);a.push(d)}}return new Zu(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function mv(t,e,n){if("string"==typeof(n=Object(Ai.getModularInstance)(n))){if(""===n)throw new Uc(Bc.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!dl(e)&&-1!==n.indexOf("/"))throw new Uc(Bc.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(cu.fromString(n));if(!Su.isDocumentKey(r))throw new Uc(Bc.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Iu(t,new Su(r))}if(n instanceof sb)return Iu(t,n._key);throw new Uc(Bc.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+eb(n)+".")}function gv(t,e){if(!Array.isArray(t)||0===t.length)throw new Uc(Bc.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Uc(Bc.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function bv(t,e,n){if(!n.isEqual(e))throw new Uc(Bc.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var vv=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),Cu(t)){case 0:return null;case 1:return t.booleanValue;case 2:return mu(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(gu(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Yc()}},t.prototype.convertObject=function(t,e){var n=this,r={};return ou(t.fields,(function(t,i){r[t]=n.convertValue(i,e)})),r},t.prototype.convertGeoPoint=function(t){return new xb(mu(t.latitude),mu(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.convertValue(t,e)}))},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=function t(e){var n=e.mapValue.fields.__previous_value__;return bu(n)?t(n):n}(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(vu(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=pu(t);return new nu(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=cu.fromString(t);Qc(sd(n));var r=new qg(n.get(1),n.get(3)),i=new Su(n.popFirst(5));return r.isEqual(e)||zc("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function yv(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var _v=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Ri.__extends)(e,t),e.prototype.convertBytes=function(t){return new Sb(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new sb(this.firestore,null,e)},e}(vv),wv=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Ab(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=Sv(t,this._firestore),i=yv(r.converter,e,n),o=Pb(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Vl.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=Sv(t,this._firestore);return o="string"==typeof(e=Object(Ai.getModularInstance)(e))||e instanceof wb?Bb(this._dataReader,"WriteBatch.update",s._key,e,n,r):Vb(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,Vl.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=Sv(t,this._firestore);return this._mutations=this._mutations.concat(new th(e._key,Vl.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Uc(Bc.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Sv(t,e){if((t=Object(Ai.getModularInstance)(t)).firestore!==e)throw new Uc(Bc.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Cv=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Ri.__extends)(e,t),e.prototype.convertBytes=function(t){return new Sb(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new sb(this.firestore,null,e)},e}(vv);function xv(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=nb(t,sb);var o=nb(t.firestore,gb),s=Ab(o);return Ev(o,[("string"==typeof(e=Object(Ai.getModularInstance)(e))||e instanceof wb?Bb(s,"updateDoc",t._key,e,n,r):Vb(s,"updateDoc",t._key,e)).toMutation(t._key,Vl.exists(!0))])}function Ov(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=Object(Ai.getModularInstance)(t);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||pb(i[a])||(s=i[a],a++);var c,u,l,h={includeMetadataChanges:s.includeMetadataChanges};if(pb(i[a])){var d=i[a];i[a]=null===(e=d.next)||void 0===e?void 0:e.bind(d),i[a+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[a+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof sb)u=nb(t.firestore,gb),l=al(t._key.path),c={next:function(e){i[a]&&i[a](kv(u,t,e))},error:i[a+1],complete:i[a+2]};else{var f=nb(t,ab);u=nb(f.firestore,gb),l=f._query;var p=new Cv(u);c={next:function(t){i[a]&&i[a](new rv(u,p,f,t))},error:i[a+1],complete:i[a+2]},sv(t._query)}return function(t,e,n,r){var i=this,o=new Og(r),s=new Am(e,o,n);return t.asyncQueue.enqueueAndForget((function(){return Object(Ri.__awaiter)(i,void 0,void 0,(function(){var e;return Object(Ri.__generator)(this,(function(n){switch(n.label){case 0:return e=Em,[4,Fg(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))})),function(){o.Wo(),t.asyncQueue.enqueueAndForget((function(){return Object(Ri.__awaiter)(i,void 0,void 0,(function(){var e;return Object(Ri.__generator)(this,(function(n){switch(n.label){case 0:return e=km,[4,Fg(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))}))}}(bb(u),l,h,c)}function Ev(t,e){return function(t,e){var n=this,r=new Rd;return t.asyncQueue.enqueueAndForget((function(){return Object(Ri.__awaiter)(n,void 0,void 0,(function(){var n;return Object(Ri.__generator)(this,(function(i){switch(i.label){case 0:return n=zm,[4,Lg(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(bb(t),e)}function kv(t,e,n){var r=n.docs.get(e._key),i=new Cv(t);return new ev(t,i,e._key,r,new tv(n.hasPendingWrites,n.fromCache),e.converter)}var Tv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(Ri.__extends)(e,t),e.prototype.get=function(e){var n=this,r=Sv(e,this._firestore),i=new Cv(this._firestore);return t.prototype.get.call(this,e).then((function(t){return new ev(n._firestore,i,r._key,t._document,new tv(!1,!1),r.converter)}))},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=Ab(t)}return t.prototype.get=function(t){var e=this,n=Sv(t,this._firestore),r=new _v(this._firestore);return this._transaction.lookup([n._key]).then((function(t){if(!t||1!==t.length)return Yc();var i=t[0];if(i.isFoundDocument())return new Xb(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Xb(e._firestore,r,n._key,null,n.converter);throw Yc()}))},t.prototype.set=function(t,e,n){var r=Sv(t,this._firestore),i=yv(r.converter,e,n),o=Pb(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=Sv(t,this._firestore);return o="string"==typeof(e=Object(Ai.getModularInstance)(e))||e instanceof wb?Bb(this._dataReader,"Transaction.update",s._key,e,n,r):Vb(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=Sv(t,this._firestore);return this._transaction.delete(e._key),this},t}());function Iv(){if("undefined"==typeof Uint8Array)throw new Uc(Bc.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Rv(){if("undefined"==typeof atob)throw new Uc(Bc.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Av=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return Rv(),new t(Sb.fromBase64String(e))},t.fromUint8Array=function(e){return Iv(),new t(Sb.fromUint8Array(e))},t.prototype.toBase64=function(){return Rv(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return Iv(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),Pv=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){_b(t=nb(t,gb));var n=bb(t),r=t._freezeSettings(),i=new Cg;return yb(n,i,new wg(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){_b(t=nb(t,gb));var e=bb(t),n=t._freezeSettings(),r=new Cg;return yb(e,r,new Sg(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Uc(Bc.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Rd;return t._queue.enqueueAndForgetEvenWhileRestricted((function(){return Object(Ri.__awaiter)(e,void 0,void 0,(function(){var e;return Object(Ri.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){return Object(Ri.__generator)(this,(function(e){switch(e.label){case 0:return Dd.yt()?[4,Dd.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(zf(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._delegate)},t}(),Dv=function(){function t(t,e,n){var r=this;this._delegate=e,this.Xc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof qg||(this.Zc=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||Kc("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=nb(t,ob))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&Kc("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1})),r.mockUserToken){var o=Object(Ai.createMockUserToken)(r.mockUserToken),s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Uc(Bc.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new Kg(new Hg(o,new Sp(s)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return Object(Ri.__awaiter)(e,void 0,void 0,(function(){var e,n;return Object(Ri.__generator)(this,(function(r){switch(r.label){case 0:return[4,jg(t)];case 1:return e=r.sent(),[4,Mg(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=$c(t);return e.Or.delete(0),Yp(e)}(n))]}}))}))}))}(bb(nb(this._delegate,gb)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return Object(Ri.__awaiter)(e,void 0,void 0,(function(){var e,n;return Object(Ri.__generator)(this,(function(r){switch(r.label){case 0:return[4,jg(t)];case 1:return e=r.sent(),[4,Mg(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var e;return Object(Ri.__generator)(this,(function(n){switch(n.label){case 0:return(e=$c(t)).Or.add(0),[4,Qp(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(bb(nb(this._delegate,gb)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Jg("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Xc.enableMultiTabIndexedDbPersistence(this):this.Xc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Xc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Zc&&(this.Zc._removeServiceInstance("firestore"),this.Zc._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Rd;return t.asyncQueue.enqueueAndForget((function(){return Object(Ri.__awaiter)(e,void 0,void 0,(function(){var e;return Object(Ri.__generator)(this,(function(r){switch(r.label){case 0:return e=Xm,[4,Lg(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(bb(nb(this._delegate,gb)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Og(e);return t.asyncQueue.enqueueAndForget((function(){return Object(Ri.__awaiter)(n,void 0,void 0,(function(){var e;return Object(Ri.__generator)(this,(function(n){switch(n.label){case 0:return e=function(t,e){$c(t).Gr.add(e),e.next()},[4,Fg(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),t.asyncQueue.enqueueAndForget((function(){return Object(Ri.__awaiter)(n,void 0,void 0,(function(){var e;return Object(Ri.__generator)(this,(function(n){switch(n.label){case 0:return e=function(t,e){$c(t).Gr.delete(e)},[4,Fg(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(bb(t=nb(t,gb)),pb(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Zc)throw new Uc(Bc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Zc},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Gv(this,ub(this._delegate,t))}catch(t){throw Vv(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new Fv(this,lb(this._delegate,t))}catch(t){throw Vv(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new Hv(this,function(t,e){if(t=nb(t,ob),$g("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Uc(Bc.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new ab(t,null,function(t){return new ol(cu.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw Vv(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Rd;return t.asyncQueue.enqueueAndForget((function(){return Object(Ri.__awaiter)(n,void 0,void 0,(function(){var n;return Object(Ri.__generator)(this,(function(i){switch(i.label){case 0:return[4,function(t){return Dg(t).then((function(t){return t.datastore}))}(t)];case 1:return n=i.sent(),new Tg(t.asyncQueue,n,e,r).run(),[2]}}))}))})),r.promise}(bb(t),(function(n){return e(new Tv(t,n))}))}(this._delegate,(function(n){return t(new Nv(e,n))}))},t.prototype.batch=function(){var t=this;return bb(this._delegate),new Mv(new wv(this._delegate,(function(e){return Ev(t._delegate,e)})))},t.prototype.loadBundle=function(t){throw new Uc(Bc.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new Uc(Bc.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),jv=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Ri.__extends)(e,t),e.prototype.convertBytes=function(t){return new Av(new Sb(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return Fv.tu(e,this.firestore,null)},e}(vv),Nv=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new jv(t)}return t.prototype.get=function(t){var e=this,n=Yv(t);return this._delegate.get(n).then((function(t){return new qv(e._firestore,new ev(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))}))},t.prototype.set=function(t,e,n){var r=Yv(t);return n?(Xg("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Yv(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Object(Ri.__spreadArray)([s,e,n],i)),this},t.prototype.delete=function(t){var e=Yv(t);return this._delegate.delete(e),this},t}(),Mv=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=Yv(t);return n?(Xg("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Yv(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Object(Ri.__spreadArray)([s,e,n],i)),this},t.prototype.delete=function(t){var e=Yv(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),Lv=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new nv(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Wv(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.eu=function(e,n){var r=t.nu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new jv(e),n),i.set(n,o)),o},t}();Lv.nu=new WeakMap;var Fv=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new jv(t)}return t.su=function(e,n,r){if(e.length%2!=0)throw new Uc(Bc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new sb(n._delegate,r,new Su(e)))},t.tu=function(e,n,r){return new t(n,new sb(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Gv(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Gv(this.firestore,ub(this._delegate,t))}catch(t){throw Vv(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(Ai.getModularInstance)(t))instanceof sb&&hb(this._delegate,t)},t.prototype.set=function(t,e){e=Xg("DocumentReference.set",e);try{return function(t,e,n){t=nb(t,sb);var r=nb(t.firestore,gb),i=yv(t.converter,e,n);return Ev(r,[Pb(Ab(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Vl.none())])}(this._delegate,t,e)}catch(t){throw Vv(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?xv(this._delegate,t):xv.apply(void 0,Object(Ri.__spreadArray)([this._delegate,t,e],n))}catch(t){throw Vv(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return Ev(nb((t=this._delegate).firestore,gb),[new th(t._key,Vl.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Bv(e),i=Uv(e,(function(e){return new qv(t.firestore,new ev(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}));return Ov(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=nb(t,sb);var e=nb(t.firestore,gb),n=bb(e),r=new Cv(e);return function(t,e){var n=this,r=new Rd;return t.asyncQueue.enqueueAndForget((function(){return Object(Ri.__awaiter)(n,void 0,void 0,(function(){var n;return Object(Ri.__generator)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var r,i;return Object(Ri.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=$c(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Mn.mn(t,e)}))}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Uc(Bc.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=_m(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,Ng(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._key).then((function(n){return new ev(e,r,t._key,n,new tv(null!==n&&n.hasLocalMutations,!0),t.converter)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=nb(t,sb);var e=nb(t.firestore,gb);return Vg(bb(e),t._key,{source:"server"}).then((function(n){return kv(e,t,n)}))}(this._delegate):function(t){t=nb(t,sb);var e=nb(t.firestore,gb);return Vg(bb(e),t._key).then((function(n){return kv(e,t,n)}))}(this._delegate)).then((function(t){return new qv(e.firestore,new ev(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}))},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?Lv.eu(this.firestore,e):null))},t}();function Vv(t,e,n){return t.message=t.message.replace(e,n),t}function Bv(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!pb(r))return r}return{}}function Uv(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=pb(t[0])?t[0]:pb(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var qv=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new Fv(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return ov(this._delegate,t._delegate)},t}(),Wv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ri.__extends)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(qv),Hv=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new jv(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,cv(this._delegate,function(t,e,n){var r=e,i=Zb("where",t);return new uv(i,r,n)}(e,n,r)))}catch(e){throw Vv(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,cv(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=Zb("orderBy",t);return new lv(r,n)}(e,n)))}catch(e){throw Vv(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,cv(this._delegate,function(t){return rb("limit",t),new hv("limit",t,"F")}(e)))}catch(e){throw Vv(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,cv(this._delegate,function(t){return rb("limitToLast",t),new hv("limitToLast",t,"L")}(e)))}catch(e){throw Vv(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,cv(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new dv("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw Vv(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,cv(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new dv("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw Vv(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,cv(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new fv("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw Vv(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,cv(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new fv("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw Vv(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return db(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=nb(t,ab);var e=nb(t.firestore,gb),n=bb(e),r=new Cv(e);return function(t,e){var n=this,r=new Rd;return t.asyncQueue.enqueueAndForget((function(){return Object(Ri.__awaiter)(n,void 0,void 0,(function(){var n;return Object(Ri.__generator)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var r,i,o,s,a;return Object(Ri.__generator)(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,sp(t,e,!0)];case 1:return a=c.sent(),r=new Fm(e,a.Bn),i=r._o(a.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=c.sent(),a=_m(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}}))}))},[4,Ng(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._query).then((function(n){return new rv(e,r,t,n)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=nb(t,ab);var e=nb(t.firestore,gb),n=bb(e),r=new Cv(e);return Bg(n,t._query,{source:"server"}).then((function(n){return new rv(e,r,t,n)}))}(this._delegate):function(t){t=nb(t,ab);var e=nb(t.firestore,gb),n=bb(e),r=new Cv(e);return sv(t._query),Bg(n,t._query).then((function(n){return new rv(e,r,t,n)}))}(this._delegate)).then((function(t){return new Kv(e.firestore,new rv(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}))},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Bv(e),i=Uv(e,(function(e){return new Kv(t.firestore,new rv(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}));return Ov(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?Lv.eu(this.firestore,e):null))},t}(),zv=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Wv(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),Kv=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new Hv(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map((function(e){return new Wv(t._firestore,e)}))},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map((function(t){return new zv(e._firestore,t)}))},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach((function(r){t.call(e,new Wv(n._firestore,r))}))},t.prototype.isEqual=function(t){return ov(this._delegate,t._delegate)},t}(),Gv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(Ri.__extends)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new Fv(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Fv(this.firestore,void 0===t?lb(this._delegate):lb(this._delegate,t))}catch(t){throw Vv(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=nb(t.firestore,gb),r=lb(t),i=yv(t.converter,e);return Ev(n,[Pb(Ab(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Vl.exists(!1))]).then((function(){return r}))}(this._delegate,t).then((function(t){return new Fv(e.firestore,t)}))},e.prototype.isEqual=function(t){return hb(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?Lv.eu(this.firestore,t):null))},e}(Hv);function Yv(t){return nb(t,sb)}var Qv,$v,Xv=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(wb.bind.apply(wb,Object(Ri.__spreadArray)([void 0],t)))}return t.documentId=function(){return new t(lu.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(Ai.getModularInstance)(t))instanceof wb&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),Jv=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new Nb("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new Db("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Mb("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Lb("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new Fb("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),Zv=n("/6Yf"),ty={Firestore:Dv,GeoPoint:xb,Timestamp:nu,Blob:Av,Transaction:Nv,WriteBatch:Mv,DocumentReference:Fv,DocumentSnapshot:qv,Query:Hv,QueryDocumentSnapshot:Wv,QuerySnapshot:Kv,CollectionReference:Gv,FieldPath:Xv,FieldValue:Jv,setLogLevel:function(t){qc.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Zv.Component("firestore",(function(t){return function(t,e){return new Dv(t,new gb(t,e),new Pv)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},ty)))})(Qv=Ii.default),Qv.registerVersion("@firebase/firestore","2.3.8"),($v=Dv).prototype.loadBundle=function(t){return function(t,e){var n=bb(t=nb(t,gb)),r=new mb;return function(t,e,n,r){var i=this,o=function(t,e){return function(t,e){return new Eg(t,e)}(function(t,e){if(t instanceof Uint8Array)return xg(t,e);if(t instanceof ArrayBuffer)return xg(new Uint8Array(t),e);if(t instanceof ReadableStream)return t.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof t?(new TextEncoder).encode(t):t),e)}(n,Bp(e));t.asyncQueue.enqueueAndForget((function(){return Object(Ri.__awaiter)(i,void 0,void 0,(function(){var e;return Object(Ri.__generator)(this,(function(n){switch(n.label){case 0:return e=yg,[4,Lg(t)];case 1:return e.apply(void 0,[n.sent(),o,r]),[2]}}))}))}))}(n,t._databaseId,e,r),r}(this._delegate,t)},$v.prototype.namedQuery=function(t){var e,n,r=this;return(e=this._delegate,n=t,function(t,e){var n=this;return t.asyncQueue.enqueue((function(){return Object(Ri.__awaiter)(n,void 0,void 0,(function(){var n;return Object(Ri.__generator)(this,(function(r){switch(r.label){case 0:return n=function(t,e){var n=$c(t);return n.persistence.runTransaction("Get named query","readonly",(function(t){return n.Ke.getNamedQuery(t,e)}))},[4,Ng(t)];case 1:return[2,n.apply(void 0,[r.sent(),e])]}}))}))}))}(bb(e=nb(e,gb)),n).then((function(t){return t?new ab(e,null,t.query):null}))).then((function(t){return t?new Hv(r,t):null}))};var ey={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ny=function(t){function e(n,r,i){var o=t.call(this,r)||this;return Object.setPrototypeOf(o,e.prototype),o.code=n,o.details=i,o}return Object(Ri.__extends)(e,t),e}(Error),ry=function(){function t(t,e){var n=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then((function(t){return n.auth=t}),(function(){})),this.messaging||e.get().then((function(t){return n.messaging=t}),(function(){}))}return t.prototype.getAuthToken=function(){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var t;return Object(Ri.__generator)(this,(function(e){switch(e.label){case 0:if(!this.auth)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(t=e.sent())?[2,t.accessToken]:[2,void 0];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},t.prototype.getInstanceIdToken=function(){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){return Object(Ri.__generator)(this,(function(t){switch(t.label){case 0:if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,void 0];case 4:return[2]}}))}))},t.prototype.getContext=function(){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var t,e;return Object(Ri.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}}))}))},t}();function iy(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var oy,sy,ay,cy=function(){function t(){}return t.prototype.encode=function(t){var e=this;if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"==typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map((function(t){return e.encode(t)}));if("function"==typeof t||"object"==typeof t)return iy(t,(function(t){return e.encode(t)}));throw new Error("Data cannot be encoded in JSON: "+t)},t.prototype.decode=function(t){var e=this;if(null==t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(t.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map((function(t){return e.decode(t)})):"function"==typeof t||"object"==typeof t?iy(t,(function(t){return e.decode(t)})):t},t}(),uy=function(){function t(t,e,n,r,i,o){var s=this;void 0===i&&(i="us-central1"),this.app_=t,this.appCheckProvider=r,this.fetchImpl=o,this.serializer=new cy,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(s.deleteService())}},this.contextProvider=new ry(e,n),this.cancelAllRequests=new Promise((function(t){s.deleteService=function(){return t()}}));try{var a=new URL(i);this.customDomain=a.origin,this.region="us-central1"}catch(Qv){this.customDomain=null,this.region=i}}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(t){var e=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+e+"/"+this.region+"/"+t:null!==this.customDomain?this.customDomain+"/"+t:"https://"+this.region+"-"+e+".cloudfunctions.net/"+t},t.prototype.useEmulator=function(t,e){this.emulatorOrigin="http://"+t+":"+e},t.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},t.prototype.httpsCallable=function(t,e){var n=this;return function(r){return n.call(t,r,e||{})}},t.prototype.postJSON=function(t,e,n){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return Object(Ri.__generator)(this,(function(s){switch(s.label){case 0:return n["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(r=s.sent())&&(n["X-Firebase-AppCheck"]=r),s.label=2;case 2:return s.trys.push([2,4,,5]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(e),headers:n})];case 3:return i=s.sent(),[3,5];case 4:return s.sent(),[2,{status:0,json:null}];case 5:o=null,s.label=6;case 6:return s.trys.push([6,8,,9]),[4,i.json()];case 7:return o=s.sent(),[3,9];case 8:return s.sent(),[3,9];case 9:return[2,{status:i.status,json:o}]}}))}))},t.prototype.getAppCheckToken=function(){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var t;return Object(Ri.__generator)(this,(function(e){switch(e.label){case 0:return(t=this.appCheckProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:return[2,e.sent().token];case 2:return[2,null]}}))}))},t.prototype.call=function(t,e,n){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var r,i,o,s,a,c,u,l,h,d;return Object(Ri.__generator)(this,(function(f){switch(f.label){case 0:return r=this._url(t),e=this.serializer.encode(e),i={data:e},o={},[4,this.contextProvider.getContext()];case 1:return(s=f.sent()).authToken&&(o.Authorization="Bearer "+s.authToken),s.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=s.instanceIdToken),a=function(t){var e,n=new Promise((function(n,r){e=setTimeout((function(){r(new ny("deadline-exceeded","deadline-exceeded"))}),t)}));return{timer:e,promise:n}}(n.timeout||7e4),c=a.timer,u=a.promise,[4,Promise.race([ly(c,this.postJSON(r,i,o)),u,ly(c,this.cancelAllRequests)])];case 2:if(!(l=f.sent()))throw new ny("cancelled","Firebase Functions instance was deleted.");if(h=function(t,e,n){var r=function(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),i=r,o=void 0;try{var s=e&&e.error;if(s){var a=s.status;if("string"==typeof a){if(!ey[a])return new ny("internal","internal");r=ey[a],i=a}var c=s.message;"string"==typeof c&&(i=c),void 0!==(o=s.details)&&(o=n.decode(o))}}catch(Qv){}return"ok"===r?null:new ny(r,i,o)}(l.status,l.json,this.serializer))throw h;if(!l.json)throw new ny("internal","Response is not valid JSON object.");if(void 0===(d=l.json.data)&&(d=l.json.result),void 0===d)throw new ny("internal","Response is missing data field.");return[2,{data:this.serializer.decode(d)}]}}))}))},t}();function ly(t,e){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var n;return Object(Ri.__generator)(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}}))}))}oy=Ii.default,sy=fetch.bind(self),ay={Functions:uy},oy.INTERNAL.registerComponent(new Zv.Component("functions",(function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal"),s=t.getProvider("messaging");return new uy(r,i,s,o,n,sy)}),"PUBLIC").setServiceProps(ay).setMultipleInstances(!0)),Ii.default.registerVersion("@firebase/functions","0.6.13");var hy,dy=n("nbvr"),fy=((hy={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',hy["not-registered"]="Firebase Installation is not registered.",hy["installation-not-found"]="Firebase Installation not found.",hy["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',hy["app-offline"]="Could not process request. Application offline.",hy["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",hy),py=new Ai.ErrorFactory("installations","Installations",fy);function my(t){return t instanceof Ai.FirebaseError&&t.code.includes("request-failed")}function gy(t){return"https://firebaseinstallations.googleapis.com/v1/projects/"+t.projectId+"/installations"}function by(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function vy(t,e){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(Ri.__generator)(this,(function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),[2,py.create("request-failed",{requestName:t,serverCode:(r=n.error).code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function yy(t){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey})}function _y(t,e){var n=e.refreshToken,r=yy(t);return r.append("Authorization",function(t){return"FIS_v2 "+t}(n)),r}function wy(t){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var e;return Object(Ri.__generator)(this,(function(n){switch(n.label){case 0:return[4,t()];case 1:return(e=n.sent()).status>=500&&e.status<600?[2,t()]:[2,e]}}))}))}function Sy(t,e){var n=e.fid;return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var e,r,i,o,s;return Object(Ri.__generator)(this,(function(a){switch(a.label){case 0:return e=gy(t),r=yy(t),i={method:"POST",headers:r,body:JSON.stringify({fid:n,authVersion:"FIS_v2",appId:t.appId,sdkVersion:"w:0.4.30"})},[4,wy((function(){return fetch(e,i)}))];case 1:return(o=a.sent()).ok?[4,o.json()]:[3,3];case 2:return[2,{fid:(s=a.sent()).fid||n,registrationStatus:2,refreshToken:s.refreshToken,authToken:by(s.authToken)}];case 3:return[4,vy("Create Installation",o)];case 4:throw a.sent()}}))}))}function Cy(t){return new Promise((function(e){setTimeout(e,t)}))}var xy=/^[cdef][\w-]{21}$/;function Oy(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=function(t){return(e=t,btoa(String.fromCharCode.apply(String,Object(Ri.__spreadArray)([],Object(Ri.__read)(e)))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var e}(t);return xy.test(e)?e:""}catch(n){return""}}function Ey(t){return t.appName+"!"+t.appId}var ky=new Map;function Ty(t,e){var n=Ey(t);Iy(n,e),function(t,e){var n=Ay();n&&n.postMessage({key:t,fid:e}),Py()}(n,e)}function Iy(t,e){var n,r,i=ky.get(t);if(i)try{for(var o=Object(Ri.__values)(i),s=o.next();!s.done;s=o.next())(0,s.value)(e)}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var Ry=null;function Ay(){return!Ry&&"BroadcastChannel"in self&&((Ry=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){Iy(t.data.key,t.data.fid)}),Ry}function Py(){0===ky.size&&Ry&&(Ry.close(),Ry=null)}var Dy,jy="firebase-installations-store",Ny=null;function My(){return Ny||(Ny=Object(dy.openDb)("firebase-installations-database",1,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(jy)}}))),Ny}function Ly(t,e){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(Ri.__generator)(this,(function(a){switch(a.label){case 0:return n=Ey(t),[4,My()];case 1:return r=a.sent(),i=r.transaction(jy,"readwrite"),[4,(o=i.objectStore(jy)).get(n)];case 2:return s=a.sent(),[4,o.put(e,n)];case 3:return a.sent(),[4,i.complete];case 4:return a.sent(),s&&s.fid===e.fid||Ty(t,e.fid),[2,e]}}))}))}function Fy(t){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var e,n,r;return Object(Ri.__generator)(this,(function(i){switch(i.label){case 0:return e=Ey(t),[4,My()];case 1:return n=i.sent(),[4,(r=n.transaction(jy,"readwrite")).objectStore(jy).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function Vy(t,e){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,s,a;return Object(Ri.__generator)(this,(function(c){switch(c.label){case 0:return n=Ey(t),[4,My()];case 1:return r=c.sent(),i=r.transaction(jy,"readwrite"),[4,(o=i.objectStore(jy)).get(n)];case 2:return s=c.sent(),void 0!==(a=e(s))?[3,4]:[4,o.delete(n)];case 3:return c.sent(),[3,6];case 4:return[4,o.put(a,n)];case 5:c.sent(),c.label=6;case 6:return[4,i.complete];case 7:return c.sent(),!a||s&&s.fid===a.fid||Ty(t,a.fid),[2,a]}}))}))}function By(t){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var e,n,r;return Object(Ri.__generator)(this,(function(i){switch(i.label){case 0:return[4,Vy(t,(function(n){var r=function(t){return Wy(t||{fid:Oy(),registrationStatus:0})}(n),i=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(py.create("app-offline"))};var n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(t,e){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(Ri.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,Sy(t,e)];case 1:return n=i.sent(),[2,Ly(t,n)];case 2:return my(r=i.sent())&&409===r.customData.serverCode?[4,Fy(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,Ly(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(t,n)}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Uy(t)}:{installationEntry:e}}(t,r);return e=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}}))}))}function Uy(t){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i;return Object(Ri.__generator)(this,(function(o){switch(o.label){case 0:return[4,qy(t)];case 1:e=o.sent(),o.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,Cy(100)];case 3:return o.sent(),[4,qy(t)];case 4:return e=o.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,By(t)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,e]}}))}))}function qy(t){return Vy(t,(function(t){if(!t)throw py.create("installation-not-found");return Wy(t)}))}function Wy(t){return 1===(e=t).registrationStatus&&e.registrationTime+1e4<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}function Hy(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var t,i,o,s,a;return Object(Ri.__generator)(this,(function(c){switch(c.label){case 0:return t=function(t,e){var n=e.fid;return gy(t)+"/"+n+"/authTokens:generate"}(n,e),i=_y(n,e),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),s={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:"w:0.4.30"}})},[4,wy((function(){return fetch(t,s)}))];case 1:return(a=c.sent()).ok?[4,a.json()]:[3,3];case 2:return[2,by(c.sent())];case 3:return[4,vy("Generate Auth Token",a)];case 4:throw c.sent()}}))}))}function zy(t,e){return void 0===e&&(e=!1),Object(Ri.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return Object(Ri.__generator)(this,(function(o){switch(o.label){case 0:return[4,Vy(t.appConfig,(function(r){if(!Gy(r))throw py.create("not-registered");var i,o=r.authToken;if(!e&&2===(i=o).requestStatus&&!function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(i))return r;if(1===o.requestStatus)return n=function(t,e){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(Ri.__generator)(this,(function(i){switch(i.label){case 0:return[4,Ky(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,Cy(100)];case 3:return i.sent(),[4,Ky(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,zy(t,e)]:[2,r]}}))}))}(t,e),r;if(!navigator.onLine)throw py.create("app-offline");var s=function(t){var e={requestStatus:1,requestTime:Date.now()};return Object(Ri.__assign)(Object(Ri.__assign)({},t),{authToken:e})}(r);return n=function(t,e){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return Object(Ri.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,Hy(t,e)];case 1:return n=o.sent(),i=Object(Ri.__assign)(Object(Ri.__assign)({},e),{authToken:n}),[4,Ly(t.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!my(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,Fy(t.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=Object(Ri.__assign)(Object(Ri.__assign)({},e),{authToken:{requestStatus:0}}),[4,Ly(t.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(t,s),s}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function Ky(t){return Vy(t,(function(t){if(!Gy(t))throw py.create("not-registered");var e;return 1===(e=t.authToken).requestStatus&&e.requestTime+1e4<Date.now()?Object(Ri.__assign)(Object(Ri.__assign)({},t),{authToken:{requestStatus:0}}):t}))}function Gy(t){return void 0!==t&&2===t.registrationStatus}function Yy(t){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var e;return Object(Ri.__generator)(this,(function(n){switch(n.label){case 0:return[4,By(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}function Qy(t,e){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o;return Object(Ri.__generator)(this,(function(s){switch(s.label){case 0:return n=function(t,e){var n=e.fid;return gy(t)+"/"+n}(t,e),r=_y(t,e),i={method:"DELETE",headers:r},[4,wy((function(){return fetch(n,i)}))];case 1:return(o=s.sent()).ok?[3,3]:[4,vy("Delete Installation",o)];case 2:throw s.sent();case 3:return[2]}}))}))}function $y(t){return py.create("missing-app-config-values",{valueName:t})}!function(t){t.INTERNAL.registerComponent(new Zv.Component("installations",(function(t){var e=t.getProvider("app").getImmediate(),n={appConfig:function(t){var e,n;if(!t||!t.options)throw $y("App Configuration");if(!t.name)throw $y("App Name");try{for(var r=Object(Ri.__values)(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!t.options[o])throw $y(o)}}catch(s){e={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){return function(t){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var e,n,r;return Object(Ri.__generator)(this,(function(i){switch(i.label){case 0:return[4,By(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,(r=e.registrationPromise)?r.catch(console.error):zy(t).catch(console.error),[2,n.fid]}}))}))}(n)},getToken:function(t){return function(t,e){return void 0===e&&(e=!1),Object(Ri.__awaiter)(this,void 0,void 0,(function(){return Object(Ri.__generator)(this,(function(n){switch(n.label){case 0:return[4,Yy(t.appConfig)];case 1:return n.sent(),[4,zy(t,e)];case 2:return[2,n.sent().token]}}))}))}(n,t)},delete:function(){return function(t){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var e,n;return Object(Ri.__generator)(this,(function(r){switch(r.label){case 0:return[4,Vy(e=t.appConfig,(function(t){if(!t||0!==t.registrationStatus)return t}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw py.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw py.create("app-offline");case 3:return[4,Qy(e,n)];case 4:return r.sent(),[4,Fy(e)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(t){return function(t,e){var n=t.appConfig;return function(t,e){Ay();var n=Ey(t),r=ky.get(n);r||(r=new Set,ky.set(n,r)),r.add(e)}(n,e),function(){!function(t,e){var n=Ey(t),r=ky.get(n);r&&(r.delete(e),0===r.size&&ky.delete(n),Py())}(n,e)}}(n,t)}}}),"PUBLIC")),t.registerVersion("@firebase/installations","0.4.30")}(Ii.default);var Xy=((Dy={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Dy["only-available-in-window"]="This method is available in a Window context.",Dy["only-available-in-sw"]="This method is available in a service worker context.",Dy["permission-default"]="The notification permission was not granted and dismissed instead.",Dy["permission-blocked"]="The notification permission was not granted and blocked instead.",Dy["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",Dy["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",Dy["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",Dy["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",Dy["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",Dy["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",Dy["token-update-no-token"]="FCM returned no token when updating the user to push.",Dy["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",Dy["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",Dy["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",Dy["invalid-vapid-key"]="The public VAPID key must be a string.",Dy["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",Dy),Jy=new Ai.ErrorFactory("messaging","Messaging",Xy),Zy="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",t_=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}({});function e_(t){var e=new Uint8Array(t);return btoa(String.fromCharCode.apply(String,Object(Ri.__spreadArray)([],Object(Ri.__read)(e)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function n_(t){for(var e=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(e),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}function r_(t){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var e,n=this;return Object(Ri.__generator)(this,(function(r){switch(r.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(!r.sent().map((function(t){return t.name})).includes("fcm_token_details_db"))return[2,null];r.label=2;case 2:return e=null,[4,Object(dy.openDb)("fcm_token_details_db",5,(function(r){return Object(Ri.__awaiter)(n,void 0,void 0,(function(){var n,i,o,s;return Object(Ri.__generator)(this,(function(a){switch(a.label){case 0:return r.oldVersion<2?[2]:r.objectStoreNames.contains("fcm_token_object_Store")?[4,(n=r.transaction.objectStore("fcm_token_object_Store")).index("fcmSenderId").get(t)]:[2];case 1:return i=a.sent(),[4,n.clear()];case 2:if(a.sent(),!i)return[2];if(2===r.oldVersion){if(!(o=i).auth||!o.p256dh||!o.endpoint)return[2];e={token:o.fcmToken,createTime:null!==(s=o.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"==typeof o.vapidKey?o.vapidKey:e_(o.vapidKey)}}}else(3===r.oldVersion||4===r.oldVersion)&&(e={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:e_(o.auth),p256dh:e_(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:e_(o.vapidKey)}});return[2]}}))}))}))];case 3:return r.sent().close(),[4,Object(dy.deleteDb)("fcm_token_details_db")];case 4:return r.sent(),[4,Object(dy.deleteDb)("fcm_vapid_details_db")];case 5:return r.sent(),[4,Object(dy.deleteDb)("undefined")];case 6:return r.sent(),[2,i_(e)?e:null]}}))}))}function i_(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}var o_=null;function s_(){return o_||(o_=Object(dy.openDb)("firebase-messaging-database",1,(function(t){switch(t.oldVersion){case 0:t.createObjectStore("firebase-messaging-store")}}))),o_}function a_(t){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var e,n,r;return Object(Ri.__generator)(this,(function(i){switch(i.label){case 0:return e=l_(t),[4,s_()];case 1:return[4,i.sent().transaction("firebase-messaging-store").objectStore("firebase-messaging-store").get(e)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,r_(t.appConfig.senderId)];case 4:return(r=i.sent())?[4,c_(t,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}}))}))}function c_(t,e){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return Object(Ri.__generator)(this,(function(o){switch(o.label){case 0:return n=l_(t),[4,s_()];case 1:return r=o.sent(),[4,(i=r.transaction("firebase-messaging-store","readwrite")).objectStore("firebase-messaging-store").put(e,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,e]}}))}))}function u_(t){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var e,n,r;return Object(Ri.__generator)(this,(function(i){switch(i.label){case 0:return e=l_(t),[4,s_()];case 1:return n=i.sent(),[4,(r=n.transaction("firebase-messaging-store","readwrite")).objectStore("firebase-messaging-store").delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function l_(t){return t.appConfig.appId}function h_(t,e){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(Ri.__generator)(this,(function(a){switch(a.label){case 0:return[4,m_(t)];case 1:n=a.sent(),r=g_(e),i={method:"POST",headers:n,body:JSON.stringify(r)},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(p_(t.appConfig),i)];case 3:return[4,a.sent().json()];case 4:return o=a.sent(),[3,6];case 5:throw s=a.sent(),Jy.create("token-subscribe-failed",{errorInfo:s});case 6:if(o.error)throw Jy.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw Jy.create("token-subscribe-no-token");return[2,o.token]}}))}))}function d_(t,e){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(Ri.__generator)(this,(function(a){switch(a.label){case 0:return[4,m_(t)];case 1:n=a.sent(),r=g_(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(p_(t.appConfig)+"/"+e.token,i)];case 3:return[4,a.sent().json()];case 4:return o=a.sent(),[3,6];case 5:throw s=a.sent(),Jy.create("token-update-failed",{errorInfo:s});case 6:if(o.error)throw Jy.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw Jy.create("token-update-no-token");return[2,o.token]}}))}))}function f_(t,e){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o;return Object(Ri.__generator)(this,(function(s){switch(s.label){case 0:return[4,m_(t)];case 1:n=s.sent(),r={method:"DELETE",headers:n},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(p_(t.appConfig)+"/"+e,r)];case 3:return[4,s.sent().json()];case 4:if((i=s.sent()).error)throw Jy.create("token-unsubscribe-failed",{errorInfo:i.error.message});return[3,6];case 5:throw o=s.sent(),Jy.create("token-unsubscribe-failed",{errorInfo:o});case 6:return[2]}}))}))}function p_(t){return"https://fcmregistrations.googleapis.com/v1/projects/"+t.projectId+"/registrations"}function m_(t){var e=t.appConfig,n=t.installations;return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var t;return Object(Ri.__generator)(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return t=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+t})]}}))}))}function g_(t){var e=t.vapidKey,n={web:{endpoint:t.endpoint,auth:t.auth,p256dh:t.p256dh}};return e!==Zy&&(n.web.applicationPubKey=e),n}function b_(t,e,n){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var r,i,o,s;return Object(Ri.__generator)(this,(function(a){switch(a.label){case 0:if("granted"!==Notification.permission)throw Jy.create("permission-blocked");return[4,w_(e,n)];case 1:return r=a.sent(),[4,a_(t)];case 2:return i=a.sent(),o={vapidKey:n,swScope:e.scope,endpoint:r.endpoint,auth:e_(r.getKey("auth")),p256dh:e_(r.getKey("p256dh"))},i?[3,3]:[2,__(t,o)];case 3:if(l=(u=o).endpoint===(c=i.subscriptionOptions).endpoint,u.vapidKey===c.vapidKey&&l&&u.auth===c.auth&&u.p256dh===c.p256dh)return[3,8];a.label=4;case 4:return a.trys.push([4,6,,7]),[4,f_(t,i.token)];case 5:return a.sent(),[3,7];case 6:return s=a.sent(),console.warn(s),[3,7];case 7:return[2,__(t,o)];case 8:return Date.now()>=i.createTime+6048e5?[2,y_({token:i.token,createTime:Date.now(),subscriptionOptions:o},t,e)]:[2,i.token];case 9:return[2]}var c,u,l}))}))}function v_(t,e){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(Ri.__generator)(this,(function(i){switch(i.label){case 0:return[4,a_(t)];case 1:return(n=i.sent())?[4,f_(t,n.token)]:[3,4];case 2:return i.sent(),[4,u_(t)];case 3:i.sent(),i.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}}))}))}function y_(t,e,n){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return Object(Ri.__generator)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,5]),[4,d_(e,t)];case 1:return r=s.sent(),i=Object(Ri.__assign)(Object(Ri.__assign)({},t),{token:r,createTime:Date.now()}),[4,c_(e,i)];case 2:return s.sent(),[2,r];case 3:return o=s.sent(),[4,v_(e,n)];case 4:throw s.sent(),o;case 5:return[2]}}))}))}function __(t,e){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(Ri.__generator)(this,(function(i){switch(i.label){case 0:return[4,h_(t,e)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:e},[4,c_(t,r)];case 2:return i.sent(),[2,r.token]}}))}))}function w_(t,e){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var n;return Object(Ri.__generator)(this,(function(r){switch(r.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:n_(e)})]}}))}))}function S_(t){return"object"==typeof t&&!!t&&"google.c.a.c_id"in t}function C_(t){return new Promise((function(e){setTimeout(e,t)}))}var x_=function(){function t(t){var e=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(t){t.waitUntil(e.onPush(t))})),self.addEventListener("pushsubscriptionchange",(function(t){t.waitUntil(e.onSubChange(t))})),self.addEventListener("notificationclick",(function(t){t.waitUntil(e.onNotificationClick(t))}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||"function"!=typeof t)throw Jy.create("invalid-bg-handler");this.bgMessageHandler=t},t.prototype.onBackgroundMessage=function(t){var e=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){e.bgMessageHandler=null}},t.prototype.getToken=function(){var t,e;return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var n;return Object(Ri.__generator)(this,(function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,a_(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(e=null===(t=null==n?void 0:n.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==e?e:Zy,r.label=2;case 2:return[2,b_(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},t.prototype.deleteToken=function(){return v_(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw Jy.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw Jy.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw Jy.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(){throw Jy.create("only-available-in-window")},t.prototype.onMessage=function(){throw Jy.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw Jy.create("only-available-in-window")},t.prototype.onPush=function(t){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i;return Object(Ri.__generator)(this,(function(o){switch(o.label){case 0:return(e=function(t){var e=t.data;if(!e)return null;try{return e.json()}catch(n){return null}}(t))?[4,T_()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(t){return t.some((function(t){return"visible"===t.visibilityState&&!t.url.startsWith("chrome-extension://")}))}(n=o.sent())?[2,k_(n,e)]:(r=!1,e.notification?[4,I_(O_(e))]:[3,3]);case 2:o.sent(),r=!0,o.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(i=function(t){var e={from:t.from,collapseKey:t.collapse_key};return function(t,e){if(e.notification){t.notification={};var n=e.notification.title;n&&(t.notification.title=n);var r=e.notification.body;r&&(t.notification.body=r);var i=e.notification.image;i&&(t.notification.image=i)}}(e,t),function(t,e){e.data&&(t.data=e.data)}(e,t),function(t,e){if(e.fcmOptions){t.fcmOptions={};var n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);var r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}}(e,t),e}(e),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[4,C_(1e3)]);case 4:return o.sent(),[2]}}))}))},t.prototype.onSubChange=function(t){var e,n;return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var r;return Object(Ri.__generator)(this,(function(i){switch(i.label){case 0:return t.newSubscription?[3,2]:[4,v_(this.firebaseDependencies,self.registration)];case 1:return i.sent(),[2];case 2:return[4,a_(this.firebaseDependencies)];case 3:return r=i.sent(),[4,v_(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,b_(this.firebaseDependencies,self.registration,null!==(n=null===(e=null==r?void 0:r.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==n?n:Zy)];case 5:return i.sent(),[2]}}))}))},t.prototype.onNotificationClick=function(t){var e,n;return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var r,i,o,s,a;return Object(Ri.__generator)(this,(function(c){switch(c.label){case 0:return(r=null===(n=null===(e=t.notification)||void 0===e?void 0:e.data)||void 0===n?void 0:n.FCM_MSG)?t.action?[2]:(t.stopImmediatePropagation(),t.notification.close(),(i=function(t){var e,n,r;return(null!==(n=null===(e=t.fcmOptions)||void 0===e?void 0:e.link)&&void 0!==n?n:null===(r=t.notification)||void 0===r?void 0:r.click_action)||(S_(t.data)?self.location.origin:null)}(r))?(o=new URL(i,self.location.href),s=new URL(self.location.origin),o.host!==s.host?[2]:[4,E_(o)]):[2]):[2];case 1:return(a=c.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return a=c.sent(),[4,C_(3e3)];case 3:return c.sent(),[3,6];case 4:return[4,a.focus()];case 5:a=c.sent(),c.label=6;case 6:return a?(r.messageType=t_.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,a.postMessage(r)]):[2]}}))}))},t}();function O_(t){var e,n=Object(Ri.__assign)({},t.notification);return n.data=((e={}).FCM_MSG=t,e),n}function E_(t){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i,o,s,a;return Object(Ri.__generator)(this,(function(c){switch(c.label){case 0:return[4,T_()];case 1:e=c.sent();try{for(n=Object(Ri.__values)(e),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),t.host===o.host)return[2,i]}catch(u){s={error:u}}finally{try{r&&!r.done&&(a=n.return)&&a.call(n)}finally{if(s)throw s.error}}return[2,null]}}))}))}function k_(t,e){var n,r;e.isFirebaseMessaging=!0,e.messageType=t_.PUSH_RECEIVED;try{for(var i=Object(Ri.__values)(t),o=i.next();!o.done;o=i.next())o.value.postMessage(e)}catch(s){n={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function T_(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function I_(t){var e,n=t.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(e=t.title)&&void 0!==e?e:"",t)}var R_=function(){function t(t){var e=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(t){return e.messageEventListener(t)}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.messageEventListener=function(t){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var e,n;return Object(Ri.__generator)(this,(function(r){switch(r.label){case 0:return(e=t.data).isFirebaseMessaging?(this.onMessageCallback&&e.messageType===t_.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback(function(t){return delete t.messageType,delete t.isFirebaseMessaging,t}(Object.assign({},e))):this.onMessageCallback.next(Object.assign({},e))),S_(n=e.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(e.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.getVapidKey=function(){return this.vapidKey},t.prototype.getSwReg=function(){return this.swRegistration},t.prototype.getToken=function(t){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){return Object(Ri.__generator)(this,(function(e){switch(e.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:e.sent(),e.label=2;case 2:if("granted"!==Notification.permission)throw Jy.create("permission-blocked");return[4,this.updateVapidKey(null==t?void 0:t.vapidKey)];case 3:return e.sent(),[4,this.updateSwReg(null==t?void 0:t.serviceWorkerRegistration)];case 4:return e.sent(),[2,b_(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},t.prototype.updateVapidKey=function(t){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){return Object(Ri.__generator)(this,(function(e){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=Zy),[2]}))}))},t.prototype.updateSwReg=function(t){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){return Object(Ri.__generator)(this,(function(e){switch(e.label){case 0:return t||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:if(!t&&this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw Jy.create("invalid-sw-registration");return this.swRegistration=t,[2]}}))}))},t.prototype.registerDefaultSw=function(){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var t,e;return Object(Ri.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return t.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw e=n.sent(),Jy.create("failed-service-worker-registration",{browserErrorMessage:e.message});case 3:return[2]}}))}))},t.prototype.deleteToken=function(){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){return Object(Ri.__generator)(this,(function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,v_(this.firebaseDependencies,this.swRegistration)]}}))}))},t.prototype.requestPermission=function(){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var t;return Object(Ri.__generator)(this,(function(e){switch(e.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(t=e.sent()))return[2];throw Jy.create("denied"===t?"permission-blocked":"permission-default")}}))}))},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw Jy.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw Jy.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw Jy.create("invalid-sw-registration");if(this.swRegistration)throw Jy.create("use-sw-after-get-token");this.swRegistration=t},t.prototype.onMessage=function(t){var e=this;return this.onMessageCallback=t,function(){e.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw Jy.create("only-available-in-sw")},t.prototype.onBackgroundMessage=function(){throw Jy.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.logEvent=function(t,e){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var n;return Object(Ri.__generator)(this,(function(r){switch(r.label){case 0:return n=function(t){switch(t){case t_.NOTIFICATION_CLICKED:return"notification_open";case t_.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:e["google.c.a.c_id"],message_name:e["google.c.a.c_l"],message_time:e["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},t}();function A_(t){return Jy.create("missing-app-config-values",{valueName:t})}var P_={isSupported:D_};function D_(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}Ii.default.INTERNAL.registerComponent(new Zv.Component("messaging",(function(t){var e=t.getProvider("app").getImmediate(),n={app:e,appConfig:function(t){var e,n;if(!t||!t.options)throw A_("App Configuration Object");if(!t.name)throw A_("App Name");var r=t.options;try{for(var i=Object(Ri.__values)(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var s=o.value;if(!r[s])throw A_(s)}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(e),installations:t.getProvider("installations").getImmediate(),analyticsProvider:t.getProvider("analytics-internal")};if(!D_())throw Jy.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new x_(n):new R_(n)}),"PUBLIC").setServiceProps(P_));var j_=function(t){function e(n,r){var i=t.call(this,N_(n),"Firebase Storage: "+r+" ("+N_(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,e.prototype),i}return Object(Ri.__extends)(e,t),e.prototype._codeEquals=function(t){return N_(t)===this.code},Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?this._baseMessage+"\n"+this.customData.serverResponse:this._baseMessage},enumerable:!1,configurable:!0}),e}(Ai.FirebaseError);function N_(t){return"storage/"+t}function M_(){return new j_("unknown","An unknown error occurred, please check the error payload for server response.")}function L_(){return new j_("canceled","User canceled the upload/download.")}function F_(){return new j_("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function V_(t){return new j_("invalid-argument",t)}function B_(){return new j_("app-deleted","The Firebase app was deleted.")}function U_(t){return new j_("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function q_(t,e){return new j_("invalid-format","String does not match format '"+t+"': "+e)}function W_(t){throw new j_("internal-error","Internal error: "+t)}var H_={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},z_=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function K_(t,e){switch(t){case H_.RAW:return new z_(G_(e));case H_.BASE64:case H_.BASE64URL:return new z_(Y_(t,e));case H_.DATA_URL:return new z_((n=new Q_(e)).base64?Y_(H_.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(Qv){throw q_(H_.DATA_URL,"Malformed data URL.")}return G_(e)}(n.rest),function(t){return new Q_(t).contentType}(e))}var n;throw M_()}function G_(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function Y_(t,e){switch(t){case H_.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw q_(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case H_.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw q_(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(e)}catch(Qv){throw q_(t,"Invalid character found")}for(var a=new Uint8Array(s.length),c=0;c<s.length;c++)a[c]=s.charCodeAt(c);return a}var Q_=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw q_(H_.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r=e[1]||null;null!=r&&(this.base64=(n=r).length>=";base64".length&&";base64"===n.substring(n.length-";base64".length),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}}(),$_={STATE_CHANGED:"state_changed"},X_={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function J_(t){switch(t){case"running":case"pausing":case"canceling":return X_.RUNNING;case"paused":return X_.PAUSED;case"success":return X_.SUCCESS;case"canceled":return X_.CANCELED;case"error":default:return X_.ERROR}}var Z_=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),tw=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Z_.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=Z_.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=Z_.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw W_("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw W_("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw W_("cannot .getStatus() before sending");try{return this.xhr_.status}catch(Qv){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw W_("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),ew=function(){function t(){}return t.prototype.createConnection=function(){return new tw},t}(),nw=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e,n){var r;try{r=t.makeFromUrl(e,n)}catch(Qv){return new t(e,"")}if(""===r.path)return r;throw new j_("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e,n){var r=null,i=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function o(t){t.path_=decodeURIComponent(t.path)}for(var s=n.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://"+("firebasestorage.googleapis.com"===n?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<a.length;c++){var u=a[c],l=u.regex.exec(e);if(l){var h=l[u.indices.path];h||(h=""),r=new t(l[u.indices.bucket],h),u.postModify(r);break}}if(null==r)throw function(t){return new j_("invalid-url","Invalid URL '"+t+"'.")}(e);return r},t}(),rw=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}();function iw(t){return"string"==typeof t||t instanceof String}function ow(t){return sw()&&t instanceof Blob}function sw(){return"undefined"!=typeof Blob}function aw(t,e,n,r){if(r<e)throw V_("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw V_("Invalid value for '"+t+"'. Expected "+n+" or less.")}function cw(t,e){var n=e.match(/^(\w+):\/\/.+/),r=e;return null==(null==n?void 0:n[1])&&(r="https://"+e),r+"/v0"+t}function uw(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}var lw=function(){function t(t,e,n,r,i,o,s,a,c,u,l){var h=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=u,this.timeout_=c,this.pool_=l,this.promise_=new Promise((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,s=n.connection;if(n.wasSuccessCode)try{var a=t.callback_(s,s.getResponseText());void 0!==a?i(a):i()}catch(Qv){o(Qv)}else null!==s?((r=M_()).serverResponse=s.getResponseText(),o(t.errorCallback_?t.errorCallback_(s,r):r)):o(r=n.canceled?t.appDelete_?B_():L_():new j_("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new hw(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,o=null,s=!1,a=0;function c(){return 2===a}var u=!1;function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];u||(u=!0,n.apply(null,t))}function h(e){o=setTimeout((function(){o=null,function(e,n){if(n)e(!1,new hw(!1,null,!0));else{var r=t.pool_.createConnection();t.pendingConnection_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(){null!==t.progressCallback_&&r.removeUploadProgressListener(i),t.pendingConnection_=null;var n=r.getErrorCode()===Z_.NO_ERROR,o=r.getStatus();if(n&&!t.isRetryStatusCode_(o)){var s=-1!==t.successCodes_.indexOf(o);e(!0,new hw(s,r))}else{var a=r.getErrorCode()===Z_.ABORT;e(!1,new hw(!1,null,a))}}))}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(d,c())}),e)}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!u)if(t)l.call.apply(l,Object(Ri.__spreadArray)([null,t],e));else{var r,o=c()||s;o?l.call.apply(l,Object(Ri.__spreadArray)([null,t],e)):(i<64&&(i*=2),1===a?(a=2,r=0):r=1e3*(i+Math.random()),h(r))}}var f=!1;function p(t){f||(f=!0,u||(null!==o?(t||(a=2),clearTimeout(o),h(0)):t||(a=1)))}return h(0),setTimeout((function(){s=!0,p(!0)}),r),p}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),hw=function(){return function(t,e,n){this.wasSuccessCode=t,this.connection=e,this.canceled=!!n}}();function dw(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function fw(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=dw();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(sw())return new Blob(t);throw new j_("unsupported-environment","This browser doesn't seem to support creating Blobs")}var pw=function(){function t(t,e){var n=0,r="";ow(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(ow(this.data_)){var r=(o=e,s=n,(i=this.data_).webkitSlice?i.webkitSlice(o,s):i.mozSlice?i.mozSlice(o,s):i.slice?i.slice(o,s):null);return null===r?null:new t(r)}var i,o,s;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(sw()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t(fw.apply(null,r))}var i=e.map((function(t){return iw(t)?K_(H_.RAW,t).data:t.data_})),o=0;i.forEach((function(t){o+=t.byteLength}));var s=new Uint8Array(o),a=0;return i.forEach((function(t){for(var e=0;e<t.length;e++)s[a++]=t[e]})),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}();function mw(t){var e,n;try{e=JSON.parse(t)}catch(Qv){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function gw(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function bw(t,e){return e}var vw=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||bw}}(),yw=null;function _w(){if(yw)return yw;var t=[];t.push(new vw("bucket")),t.push(new vw("generation")),t.push(new vw("metageneration")),t.push(new vw("name","fullPath",!0));var e=new vw("name");e.xform=function(t,e){return function(t){return!iw(t)||t.length<2?t:gw(t)}(e)},t.push(e);var n=new vw("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new vw("timeCreated")),t.push(new vw("updated")),t.push(new vw("md5Hash",null,!0)),t.push(new vw("cacheControl",null,!0)),t.push(new vw("contentDisposition",null,!0)),t.push(new vw("contentEncoding",null,!0)),t.push(new vw("contentLanguage",null,!0)),t.push(new vw("contentType",null,!0)),t.push(new vw("metadata","customMetadata",!0)),yw=t}function ww(t,e,n){var r=mw(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,e[s.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new nw(t.bucket,t.fullPath);return e._makeStorageReference(n)}})}(r,t),r}(t,r,n)}function Sw(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var Cw=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function xw(t){if(!t)throw M_()}function Ow(t,e){return function(n,r){var i=ww(t,r,e);return xw(null!==i),i}}function Ew(t){return function(e,n){var r;return(r=401===e.getStatus()?e.getResponseText().includes("Firebase App Check token is invalid")?new j_("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new j_("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new j_("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new j_("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,r}}function kw(t){var e=Ew(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new j_("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function Tw(t,e,n){var r=cw(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,o=new Cw(r,"GET",Ow(t,n),i);return o.errorHandler=kw(e),o}function Iw(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var Rw=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function Aw(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(Qv){xw(!1)}return xw(!!n&&-1!==(e||["active"]).indexOf(n)),n}var Pw=function(){return function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}}}();function Dw(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}var jw=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=_w(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition("error"))},this._metadataErrorHandler=function(t){r._request=void 0,t._codeEquals("canceled")?r.completeTransitions_():(r._error=t,r._transition("error"))},this._promise=new Promise((function(t,e){r._resolve=t,r._reject=e,r._start()})),this._promise.then(null,(function(){}))}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=n[0],i=n[1];switch(e._state){case"running":t(r,i);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}}))},t.prototype._createResumable=function(){var t=this;this._resolveToken((function(e,n){var r=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s=Iw(e,r,i),a={name:s.fullPath},c=cw(o,t.host),u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},l=Sw(s,n),h=new Cw(c,"POST",(function(t){var e;Aw(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(Qv){xw(!1)}return xw(iw(e)),e}),t.maxUploadRetryTime);return h.urlParams=a,h.headers=u,h.body=l,h.errorHandler=Ew(e),h}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then((function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()}),t._errorHandler)}))},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken((function(n,r){var i=function(t,e,n,r){var i=new Cw(n,"POST",(function(t){var e=Aw(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(Qv){xw(!1)}n||xw(!1);var i=Number(n);return xw(!isNaN(i)),new Rw(i,r.size(),"final"===e)}),t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=Ew(e),i}(t._ref.storage,t._ref._location,e,t._blob),o=t._ref.storage._makeRequest(i,n,r);t._request=o,o.getPromise().then((function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()}),t._errorHandler)}))},t.prototype._continueUpload=function(){var t=this,e=262144*this._chunkMultiplier,n=new Rw(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,o){var s;try{s=function(t,e,n,r,i,o,s,a){var c=new Rw(0,0);if(s?(c.current=s.current,c.total=s.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw new j_("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var u=c.total-c.current,l=u;i>0&&(l=Math.min(l,i));var h=c.current,d={"X-Goog-Upload-Command":l===u?"upload, finalize":"upload","X-Goog-Upload-Offset":""+c.current},f=r.slice(h,h+l);if(null===f)throw F_();var p=new Cw(n,"POST",(function(t,n){var i,s=Aw(t,["active","final"]),a=c.current+l,u=r.size();return i="final"===s?Ow(e,o)(t,n):null,new Rw(a,u,"final"===s,i)}),e.maxUploadRetryTime);return p.headers=d,p.body=f.uploadData(),p.progressCallback=a||null,p.errorHandler=Ew(t),p}(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(Qv){return t._error=Qv,void t._transition("error")}var a=t._ref.storage._makeRequest(s,i,o);t._request=a,a.getPromise().then((function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()}),t._errorHandler)}))},t.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken((function(e,n){var r=Tw(t._ref.storage,t._ref._location,t._mappings),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._transition("success")}),t._metadataErrorHandler)}))},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken((function(e,n){var r=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+a;var c=Iw(e,r,i),u=Sw(c,n),l=pw.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+u+"\r\n--"+a+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===l)throw F_();var h={name:c.fullPath},d=cw(o,t.host),f=t.maxUploadRetryTime,p=new Cw(d,"POST",Ow(t,n),f);return p.urlParams=h,p.headers=s,p.body=l.uploadData(),p.errorHandler=Ew(e),p}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")}),t._errorHandler)}))},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=L_(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=J_(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new Pw(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach((function(e){t._notifyObserver(e)}))},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(J_(this._state)){case X_.SUCCESS:Dw(this._resolve.bind(null,this.snapshot))();break;case X_.CANCELED:case X_.ERROR:Dw(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(J_(this._state)){case X_.RUNNING:case X_.PAUSED:t.next&&Dw(t.next.bind(t,this.snapshot))();break;case X_.SUCCESS:t.complete&&Dw(t.complete.bind(t))();break;case X_.CANCELED:case X_.ERROR:t.error&&Dw(t.error.bind(t,this._error))();break;default:t.error&&Dw(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),Nw=function(){function t(t,e){this._service=t,this._location=e instanceof nw?e:nw.makeFromUrl(e,t.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new nw(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return gw(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new nw(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw U_(t)},t}();function Mw(t,e){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(Ri.__generator)(this,(function(i){switch(i.label){case 0:return null!=e&&"number"==typeof e.maxResults&&aw("options.maxResults",1,1e3,e.maxResults),r=function(t,e,n,r,i){var o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var s=cw(e.bucketOnlyServerUrl(),t.host),a=t.maxOperationRetryTime,c=new Cw(s,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=mw(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var s=o[i].replace(/\/$/,""),a=t._makeStorageReference(new nw(e,s));r.prefixes.push(a)}if(n.items)for(var c=0,u=n.items;c<u.length;c++)a=t._makeStorageReference(new nw(e,u[c].name)),r.items.push(a);return r}(t,e,r)}(t,e,r);return xw(null!==i),i}}(t,e.bucket),a);return c.urlParams=o,c.errorHandler=Ew(e),c}(t.storage,t._location,"/",(n=e||{}).pageToken,n.maxResults),[4,t.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}}))}))}function Lw(t,e){var n=function(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new nw(t._location.bucket,n);return new Nw(t.storage,r)}function Fw(t){return/^[A-Za-z]+:\/\//.test(t)}function Vw(t,e){var n=null==e?void 0:e.storageBucket;return null==n?null:nw.makeFromBucketSpec(n,t)}var Bw=function(){function t(t,e,n,r,i,o){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host="firebasestorage.googleapis.com",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?nw.makeFromBucketSpec(i,this._host):Vw(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._bucket=null!=this._url?nw.makeFromBucketSpec(this._url,t):Vw(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){aw("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){aw("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var t,e;return Object(Ri.__generator)(this,(function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}}))}))},t.prototype._getAppCheckToken=function(){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var t;return Object(Ri.__generator)(this,(function(e){switch(e.label){case 0:return(t=this._appCheckProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:return[2,e.sent().token];case 2:return[2,null]}}))}))},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach((function(t){return t.cancel()})),this._requests.clear(),Promise.resolve()},t.prototype._makeStorageReference=function(t){return new Nw(this,t)},t.prototype._makeRequest=function(t,e,n){var r=this;if(this._deleted)return new rw(B_());var i=function(t,e,n,r,i,o){var s=uw(t.urlParams),a=t.url+s,c=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(c,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(c,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(c,o),function(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(c,r),new lw(a,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}(t,this._appId,e,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then((function(){return r._requests.delete(i)}),(function(){return r._requests.delete(i)})),i},t.prototype.makeRequestWithTokens=function(t){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var e;return Object(Ri.__generator)(this,(function(n){switch(n.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return e=n.sent(),[2,this._makeRequest(t,e[0],e[1])]}}))}))},t}();function Uw(t,e){return function(t,e){if(e&&Fw(e)){if(t instanceof Bw)return new Nw(t,e);throw V_("To use ref(service, url), the first argument must be a Storage instance.")}return function t(e,n){if(e instanceof Bw){var r=e;if(null==r._bucket)throw new j_("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var i=new Nw(r,r._bucket);return null!=n?t(i,n):i}if(void 0!==n){if(n.includes(".."))throw V_('`path` param cannot contain ".."');return Lw(e,n)}return e}(t,e)}(t=Object(Ai.getModularInstance)(t),e)}var qw=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),Ww=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new qw(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then((function(e){if(t)return t(new qw(e,n,n._ref))}),e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"==typeof e?function(t){return e(new qw(t,i,i._ref))}:{next:e.next?function(t){return e.next(new qw(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),Hw=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map((function(e){return new zw(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map((function(e){return new zw(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),zw=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(function(t,e){return Lw(t,e)}(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new Ww(function(t,e,n){return function(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new jw(t,new pw(e),n)}(t=Object(Ai.getModularInstance)(t),e,n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){void 0===e&&(e=H_.RAW),this._throwIfRoot("putString");var r=K_(e,t),i=Object(Ri.__assign)({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new Ww(new jw(this._delegate,new pw(r.data,!0),i),this)},t.prototype.listAll=function(){var t,e=this;return(t=this._delegate,function(t){var e={prefixes:[],items:[]};return function t(e,n,r){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var i,o,s;return Object(Ri.__generator)(this,(function(a){switch(a.label){case 0:return[4,Mw(e,{pageToken:r})];case 1:return i=a.sent(),(o=n.prefixes).push.apply(o,i.prefixes),(s=n.items).push.apply(s,i.items),null==i.nextPageToken?[3,3]:[4,t(e,n,i.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}(t,e).then((function(){return e}))}(t=Object(Ai.getModularInstance)(t))).then((function(t){return new Hw(t,e.storage)}))},t.prototype.list=function(t){var e=this;return function(t,e){return Mw(t=Object(Ai.getModularInstance)(t),e)}(this._delegate,t||void 0).then((function(t){return new Hw(t,e.storage)}))},t.prototype.getMetadata=function(){return t=this._delegate,function(t){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var e;return Object(Ri.__generator)(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("getMetadata"),e=Tw(t.storage,t._location,_w()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}}))}))}(t=Object(Ai.getModularInstance)(t));var t},t.prototype.updateMetadata=function(t){return function(t,e){return function(t,e){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var n;return Object(Ri.__generator)(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("updateMetadata"),n=function(t,e,n,r){var i=cw(e.fullServerUrl(),t.host),o=Sw(n,r),s=t.maxOperationRetryTime,a=new Cw(i,"PATCH",Ow(t,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=kw(e),a}(t.storage,t._location,e,_w()),[4,t.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}}))}))}(t=Object(Ai.getModularInstance)(t),e)}(this._delegate,t)},t.prototype.getDownloadURL=function(){return t=this._delegate,function(t){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var e;return Object(Ri.__generator)(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("getDownloadURL"),e=function(t,e,n){var r=cw(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,o=new Cw(r,"GET",function(t,e){return function(n,r){var i=ww(t,r,e);return xw(null!==i),function(t,e,n){var r=mw(e);if(null===r)return null;if(!iw(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map((function(e){var r=t.fullPath;return cw("/b/"+o(t.bucket)+"/o/"+o(r),n)+uw({alt:"media",token:e})}))[0]}(i,r,t.host)}}(t,n),i);return o.errorHandler=kw(e),o}(t.storage,t._location,_w()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise().then((function(t){if(null===t)throw new j_("no-download-url","The given file does not have any download URLs.");return t}))]}}))}))}(t=Object(Ai.getModularInstance)(t));var t},t.prototype.delete=function(){return this._throwIfRoot("delete"),t=this._delegate,function(t){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var e;return Object(Ri.__generator)(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("deleteObject"),e=function(t,e){var n=cw(e.fullServerUrl(),t.host),r=new Cw(n,"DELETE",(function(t,e){}),t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=kw(e),r}(t.storage,t._location),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}}))}))}(t=Object(Ai.getModularInstance)(t));var t},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw U_(t)},t}(),Kw=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(Fw(t))throw V_("ref() expected a child path but got a URL, use refFromURL instead.");return new zw(Uw(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!Fw(t))throw V_("refFromURL() expected a full URL but got a child path, use ref() instead.");try{nw.makeFromUrl(t,this._delegate.host)}catch(Qv){throw V_("refFromUrl() expected a valid full URL but got an invalid one.")}return new zw(Uw(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t.prototype.useEmulator=function(t,e){!function(t,e,n){t.host="http://"+e+":"+n}(this._delegate,t,e)},t}();function Gw(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new Kw(r,new Bw(r,i,o,new ew,n,Ii.default.SDK_VERSION))}!function(t){var e={TaskState:X_,TaskEvent:$_,StringFormat:H_,Storage:Bw,Reference:zw};t.INTERNAL.registerComponent(new Zv.Component("storage",Gw,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage","0.5.6")}(Ii.default);var Yw,Qw,$w,Xw=((Yw={})["trace started"]="Trace {$traceName} was started before.",Yw["trace stopped"]="Trace {$traceName} is not running.",Yw["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",Yw["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",Yw["no window"]="Window is not available.",Yw["no app id"]="App id is not available.",Yw["no project id"]="Project id is not available.",Yw["no api key"]="Api key is not available.",Yw["invalid cc log"]="Attempted to queue invalid cc event",Yw["FB not default"]="Performance can only start when Firebase app instance is the default one.",Yw["RC response not ok"]="RC response is not ok",Yw["invalid attribute name"]="Attribute name {$attributeName} is invalid.",Yw["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",Yw["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",Yw["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",Yw),Jw=new Ai.ErrorFactory("performance","Performance",Xw),Zw=new Pi.Logger("Performance");Zw.logLevel=Pi.LogLevel.INFO;var tS,eS=function(){function t(t){if(this.window=t,!t)throw Jw.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(t){this.performance&&this.performance.mark&&this.performance.mark(t)},t.prototype.measure=function(t,e,n){this.performance&&this.performance.measure&&this.performance.measure(t,e,n)},t.prototype.getEntriesByType=function(t){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(t):[]},t.prototype.getEntriesByName=function(t){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(t):[]},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!Object(Ai.isIndexedDBAvailable)()||(Zw.info("IndexedDB is not supported by current browswer"),!1):(Zw.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},t.prototype.setupObserver=function(t,e){this.PerformanceObserver&&new this.PerformanceObserver((function(t){for(var n=0,r=t.getEntries();n<r.length;n++)e(r[n])})).observe({entryTypes:[t]})},t.getInstance=function(){return void 0===Qw&&(Qw=new t($w)),Qw},t}();function nS(t,e){var n=t.length-e.length;if(n<0||n>1)throw Jw.create("invalid String merger input");for(var r=[],i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}var rS,iS=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=nS("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=nS("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw Jw.create("no app id");return t},t.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw Jw.create("no project id");return t},t.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw Jw.create("no api key");return t},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return void 0===tS&&(tS=new t),tS},t}();function oS(){return rS}var sS=function(t){return t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN",t}({}),aS=["firebase_","google_","ga_"],cS=new RegExp("^[a-zA-Z]\\w*$");function uS(){var t=eS.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function lS(){switch(eS.getInstance().document.visibilityState){case"visible":return sS.VISIBLE;case"hidden":return sS.HIDDEN;default:return sS.UNKNOWN}}function hS(){var t=eS.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function dS(t){if(!t)return t;var e=iS.getInstance(),n=t.entries||{};return e.loggingEnabled=void 0===n.fpr_enabled||"true"===String(n.fpr_enabled),n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=fS(e.tracesSamplingRate),e.logNetworkAfterSampling=fS(e.networkRequestsSamplingRate),t}function fS(t){return Math.random()<=t}var pS,mS=1;function gS(){return mS=2,pS=pS||function(){var t=eS.getInstance().document;return new Promise((function(e){if(t&&"complete"!==t.readyState){var n=function(){"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()}))}().then((function(){return(t=iS.getInstance().installationsService.getId()).then((function(t){rS=t})),t;var t})).then((function(t){return function(t){var e=function(){var t=eS.getInstance().localStorage;if(t){var e=t.getItem("@firebase/performance/configexpire");if(e&&Number(e)>Date.now()){var n=t.getItem("@firebase/performance/config");if(n)try{return JSON.parse(n)}catch(r){return}}}}();return e?(dS(e),Promise.resolve()):function(t){return(e=iS.getInstance().installationsService.getToken(),e.then((function(t){})),e).then((function(e){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+iS.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+iS.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:iS.getInstance().getAppId(),app_version:"0.4.16",sdk_version:"0.0.1"})});return fetch(r).then((function(t){if(t.ok)return t.json();throw Jw.create("RC response not ok")}))})).catch((function(){Zw.info("Could not fetch config, will use default configs")}));var e}(t).then(dS).then((function(t){return function(t){var e=eS.getInstance().localStorage;t&&e&&(e.setItem("@firebase/performance/config",JSON.stringify(t)),e.setItem("@firebase/performance/configexpire",String(Date.now()+60*iS.getInstance().configTimeToLive*60*1e3)))}(t)}),(function(){}))}(t)})).then((function(){return bS()}),(function(){return bS()}))}function bS(){mS=3}var vS,yS=3,_S=[],wS=!1;function SS(t){if(!t.eventTime||!t.message)throw Jw.create("invalid cc log");_S=Object(Ri.__spreadArray)(Object(Ri.__spreadArray)([],_S),[t])}function CS(t,e){var n;vS||(n=ES,vS=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=n.apply(void 0,t);SS({message:r,eventTime:Date.now()})}),vS(t,e)}function xS(t){var e=iS.getInstance();!e.instrumentationEnabled&&t.isAuto||(e.dataCollectionEnabled||t.isAuto)&&eS.getInstance().requiredApisAvailable()&&(t.isAuto&&lS()!==sS.VISIBLE||(3===mS?OS(t):gS().then((function(){return OS(t)}),(function(){return OS(t)}))))}function OS(t){if(oS()){var e=iS.getInstance();e.loggingEnabled&&e.logTraceAfterSampling&&setTimeout((function(){return CS(t,1)}),0)}}function ES(t,e){return 0===e?(r={url:(n=t).url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},i={application_info:kS(),network_request_metric:r},JSON.stringify(i)):function(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};0!==Object.keys(t.counters).length&&(e.counters=t.counters);var n=t.getAttributes();0!==Object.keys(n).length&&(e.custom_attributes=n);var r={application_info:kS(),trace_metric:e};return JSON.stringify(r)}(t);var n,r,i}function kS(){return{google_app_id:iS.getInstance().getAppId(),app_instance_id:oS(),web_app_info:{sdk_version:"0.4.16",page_url:eS.getInstance().getUrl(),service_worker_status:uS(),visibility_state:lS(),effective_connection_type:hS()},application_process_state:0}}var TS=["_fp","_fcp","_fid"],IS=function(){function t(t,e,n){void 0===e&&(e=!1),this.name=t,this.isAuto=e,this.state=1,this.customAttributes={},this.counters={},this.api=eS.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(1!==this.state)throw Jw.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(2!==this.state)throw Jw.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),xS(this)},t.prototype.record=function(t,e,n){if(t<=0)throw Jw.create("nonpositive trace startTime",{traceName:this.name});if(e<=0)throw Jw.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*e),this.startTimeUs=Math.floor(1e3*t),n&&n.attributes&&(this.customAttributes=Object(Ri.__assign)({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}xS(this)},t.prototype.incrementMetric=function(t,e){void 0===e&&(e=1),this.putMetric(t,void 0===this.counters[t]?e:this.counters[t]+e)},t.prototype.putMetric=function(t,e){if(o=this.name,0===(i=t).length||i.length>100||!(o&&o.startsWith("_wt_")&&TS.indexOf(i)>-1)&&i.startsWith("_"))throw Jw.create("invalid custom metric name",{customMetricName:t});var n,r,i,o;this.counters[t]=(n=e,(r=Math.floor(n))<n&&Zw.info("Metric value should be an Integer, setting the value as : "+r+"."),r)},t.prototype.getMetric=function(t){return this.counters[t]||0},t.prototype.putAttribute=function(t,e){var n,r=!(0===(n=t).length||n.length>40||aS.some((function(t){return n.startsWith(t)}))||!n.match(cS)),i=function(t){return 0!==t.length&&t.length<=100}(e);if(r&&i)this.customAttributes[t]=e;else{if(!r)throw Jw.create("invalid attribute name",{attributeName:t});if(!i)throw Jw.create("invalid attribute value",{attributeValue:e})}},t.prototype.getAttribute=function(t){return this.customAttributes[t]},t.prototype.removeAttribute=function(t){void 0!==this.customAttributes[t]&&delete this.customAttributes[t]},t.prototype.getAttributes=function(){return Object(Ri.__assign)({},this.customAttributes)},t.prototype.setStartTime=function(t){this.startTimeUs=t},t.prototype.setDuration=function(t){this.durationUs=t},t.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),e=t&&t[0];e&&(this.durationUs=Math.floor(1e3*e.duration),this.startTimeUs=Math.floor(1e3*(e.startTime+this.api.getTimeOrigin())))},t.createOobTrace=function(e,n,r){var i=eS.getInstance().getUrl();if(i){var o=new t("_wt_"+i,!0),s=Math.floor(1e3*eS.getInstance().getTimeOrigin());if(o.setStartTime(s),e&&e[0]&&(o.setDuration(Math.floor(1e3*e[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*e[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*e[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*e[0].loadEventEnd))),n){var a=n.find((function(t){return"first-paint"===t.name}));a&&a.startTime&&o.putMetric("_fp",Math.floor(1e3*a.startTime));var c=n.find((function(t){return"first-contentful-paint"===t.name}));c&&c.startTime&&o.putMetric("_fcp",Math.floor(1e3*c.startTime)),r&&o.putMetric("_fid",Math.floor(1e3*r))}xS(o)}},t.createUserTimingTrace=function(e){xS(new t(e,!1,e))},t}();function RS(t){var e=t;if(e&&void 0!==e.responseStart){var n=eS.getInstance().getTimeOrigin(),r=Math.floor(1e3*(e.startTime+n)),i=e.responseStart?Math.floor(1e3*(e.responseStart-e.startTime)):void 0,o=Math.floor(1e3*(e.responseEnd-e.startTime));!function(t){var e=iS.getInstance();if(e.instrumentationEnabled){var n=t.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&e.loggingEnabled&&e.logNetworkAfterSampling&&setTimeout((function(){return CS(t,0)}),0)}}({url:e.name&&e.name.split("?")[0],responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}function AS(){oS()&&(setTimeout((function(){return function(){var t=eS.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var r=setTimeout((function(){IS.createOobTrace(e,n),r=void 0}),5e3);t.onFirstInputDelay((function(t){r&&(clearTimeout(r),IS.createOobTrace(e,n,t))}))}else IS.createOobTrace(e,n)}()}),0),setTimeout((function(){return function(){for(var t=eS.getInstance(),e=0,n=t.getEntriesByType("resource");e<n.length;e++)RS(n[e]);t.setupObserver("resource",RS)}()}),0),setTimeout((function(){return function(){for(var t=eS.getInstance(),e=0,n=t.getEntriesByType("measure");e<n.length;e++)PS(n[e]);t.setupObserver("measure",PS)}()}),0))}function PS(t){var e=t.name;"FB-PERF-TRACE-MEASURE"!==e.substring(0,"FB-PERF-TRACE-MEASURE".length)&&IS.createUserTimingTrace(e)}var DS=function(){function t(t){this.app=t,eS.getInstance().requiredApisAvailable()&&Object(Ai.validateIndexedDBOpenable)().then((function(t){t&&(wS||(function t(e){setTimeout((function(){var e,n;if(0!==yS)return _S.length?(n=(e=_S.splice(0,1e3)).map((function(t){return{source_extension_json_proto3:t.message,event_time_ms:String(t.eventTime)}})),void function(e,n){return function(t){var e=iS.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}(e).then((function(t){return t.ok||Zw.info("Call to Firebase backend failed."),t.json()})).then((function(e){var r=Number(e.nextRequestWaitMillis),i=1e4;isNaN(r)||(i=Math.max(r,i));var o=e.logResponseDetails;Array.isArray(o)&&o.length>0&&"RETRY_REQUEST_LATER"===o[0].responseAction&&(_S=Object(Ri.__spreadArray)(Object(Ri.__spreadArray)([],n),_S),Zw.info("Retry transport request later.")),yS=3,t(i)}))}({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:iS.getInstance().logSource,log_event:n},e).catch((function(){_S=Object(Ri.__spreadArray)(Object(Ri.__spreadArray)([],e),_S),yS--,Zw.info("Tries left: "+yS+"."),t(1e4)}))):t(1e4)}),e)}(5500),wS=!0),gS().then(AS,AS))})).catch((function(t){Zw.info("Environment doesn't support IndexedDB: "+t)}))}return t.prototype.trace=function(t){return new IS(t)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return iS.getInstance().instrumentationEnabled},set:function(t){iS.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return iS.getInstance().dataCollectionEnabled},set:function(t){iS.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),t}();!function(t){t.INTERNAL.registerComponent(new Zv.Component("performance",(function(t){return function(t,e){if("[DEFAULT]"!==t.name)throw Jw.create("FB not default");if("undefined"==typeof window)throw Jw.create("no window");return function(t){$w=t}(window),iS.getInstance().firebaseAppInstance=t,iS.getInstance().installationsService=e,new DS(t)}(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())}),"PUBLIC")),t.registerVersion("@firebase/performance","0.4.16")}(Ii.default);var jS,NS="https://www.googletagmanager.com/gtag/js",MS=function(t){return t.EVENT="event",t.SET="set",t.CONFIG="config",t}({}),LS=function(t){return t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results",t}({}),FS=new Pi.Logger("@firebase/analytics");function VS(t,e,n,r,i,o){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var s,a,c,u;return Object(Ri.__generator)(this,(function(l){switch(l.label){case 0:s=r[i],l.label=1;case 1:return l.trys.push([1,7,,8]),s?[4,e[s]]:[3,3];case 2:return l.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return a=l.sent(),(c=a.find((function(t){return t.measurementId===i})))?[4,e[c.appId]]:[3,6];case 5:l.sent(),l.label=6;case 6:return[3,8];case 7:return u=l.sent(),FS.error(u),[3,8];case 8:return t(MS.CONFIG,i,o),[2]}}))}))}function BS(t,e,n,r,i){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var o,s,a,c,u,l,h;return Object(Ri.__generator)(this,(function(d){switch(d.label){case 0:return d.trys.push([0,4,,5]),o=[],i&&i.send_to?(s=i.send_to,Array.isArray(s)||(s=[s]),[4,Promise.all(n)]):[3,2];case 1:for(a=d.sent(),c=function(t){var n=a.find((function(e){return e.measurementId===t})),r=n&&e[n.appId];if(!r)return o=[],"break";o.push(r)},u=0,l=s;u<l.length&&"break"!==c(l[u]);u++);d.label=2;case 2:return 0===o.length&&(o=Object.values(e)),[4,Promise.all(o)];case 3:return d.sent(),t(MS.EVENT,r,i||{}),[3,5];case 4:return h=d.sent(),FS.error(h),[3,5];case 5:return[2]}}))}))}var US=((jS={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",jS["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",jS["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",jS["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",jS["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",jS["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",jS["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",jS["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',jS["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',jS),qS=new Ai.ErrorFactory("analytics","Analytics",US),WS=new(function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e=1e3),this.throttleMetadata=t,this.intervalMillis=e}return t.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},t.prototype.setThrottleMetadata=function(t,e){this.throttleMetadata[t]=e},t.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},t}());function HS(t){var e;return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,s,a;return Object(Ri.__generator)(this,(function(c){switch(c.label){case 0:return n=t.appId,r={method:"GET",headers:(u=t.apiKey,new Headers({Accept:"application/json","x-goog-api-key":u}))},i="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(i,r)];case 1:if(200===(o=c.sent()).status||304===o.status)return[3,6];s="",c.label=2;case 2:return c.trys.push([2,4,,5]),[4,o.json()];case 3:return a=c.sent(),(null===(e=a.error)||void 0===e?void 0:e.message)&&(s=a.error.message),[3,5];case 4:return c.sent(),[3,5];case 5:throw qS.create("config-fetch-failed",{httpStatus:o.status,responseMessage:s});case 6:return[2,o.json()]}var u}))}))}function zS(t,e,n,r){var i=e.throttleEndTimeMillis,o=e.backoffCount;return void 0===r&&(r=WS),Object(Ri.__awaiter)(this,void 0,void 0,(function(){var e,s,a,c,u,l,h;return Object(Ri.__generator)(this,(function(d){switch(d.label){case 0:e=t.appId,s=t.measurementId,d.label=1;case 1:return d.trys.push([1,3,,4]),[4,KS(n,i)];case 2:return d.sent(),[3,4];case 3:if(a=d.sent(),s)return FS.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+a.message+"]"),[2,{appId:e,measurementId:s}];throw a;case 4:return d.trys.push([4,6,,7]),[4,HS(t)];case 5:return c=d.sent(),r.deleteThrottleMetadata(e),[2,c];case 6:if(!function(t){if(!(t instanceof Ai.FirebaseError&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(u=d.sent())){if(r.deleteThrottleMetadata(e),s)return FS.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+u.message+"]"),[2,{appId:e,measurementId:s}];throw u}return l=503===Number(u.customData.httpStatus)?Object(Ai.calculateBackoffMillis)(o,r.intervalMillis,30):Object(Ai.calculateBackoffMillis)(o,r.intervalMillis),h={throttleEndTimeMillis:Date.now()+l,backoffCount:o+1},r.setThrottleMetadata(e,h),FS.debug("Calling attemptFetch again in "+l+" millis"),[2,zS(t,h,n,r)];case 7:return[2]}}))}))}function KS(t,e){return new Promise((function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener((function(){clearTimeout(o),r(qS.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}var GS,YS,QS=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}(),$S={},XS=[],JS={},ZS="dataLayer",tC="gtag",eC=!1;function nC(t){if(eC)throw qS.create("already-initialized");t.dataLayerName&&(ZS=t.dataLayerName),t.gtagName&&(tC=t.gtagName)}function rC(){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){return Object(Ri.__generator)(this,(function(t){switch(t.label){case 0:if(Object(Ai.isBrowserExtension)())return[2,!1];if(!Object(Ai.areCookiesEnabled)())return[2,!1];if(!Object(Ai.isIndexedDBAvailable)())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,Object(Ai.validateIndexedDBOpenable)()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,!1];case 4:return[2]}}))}))}!function(t){t.INTERNAL.registerComponent(new Zv.Component("analytics",(function(t){return function(t,e){!function(){var t=[];if(Object(Ai.isBrowserExtension)()&&t.push("This is a browser extension environment."),Object(Ai.areCookiesEnabled)()||t.push("Cookies are not available."),t.length>0){var e=t.map((function(t,e){return"("+(e+1)+") "+t})).join(" "),n=qS.create("invalid-analytics-context",{errorInfo:e});FS.warn(n.message)}}();var n,r,i=t.options.appId;if(!i)throw qS.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw qS.create("no-api-key");FS.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=$S[i])throw qS.create("already-exists",{id:i});if(!eC){n=ZS,r=[],Array.isArray(window[n])?r=window[n]:window[n]=r;var o=function(t,e,n,r,i){var o=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function(t,e,n,r){return function(i,o,s){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var a;return Object(Ri.__generator)(this,(function(c){switch(c.label){case 0:return c.trys.push([0,6,,7]),i!==MS.EVENT?[3,2]:[4,BS(t,e,n,o,s)];case 1:return c.sent(),[3,5];case 2:return i!==MS.CONFIG?[3,4]:[4,VS(t,e,n,r,o,s)];case 3:return c.sent(),[3,5];case 4:t(MS.SET,o),c.label=5;case 5:return[3,7];case 6:return a=c.sent(),FS.error(a),[3,7];case 7:return[2]}}))}))}}(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}($S,XS,JS,ZS,tC);YS=o.wrappedGtag,GS=o.gtagCore,eC=!0}return $S[i]=function(t,e,n,r,i,o){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var s,a,c,u,l,h,d;return Object(Ri.__generator)(this,(function(f){switch(f.label){case 0:return(s=function(t,e,n){return void 0===e&&(e=WS),Object(Ri.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,s,a,c=this;return Object(Ri.__generator)(this,(function(u){if(i=(n=t.options).apiKey,o=n.measurementId,!(r=n.appId))throw qS.create("no-app-id");if(!i){if(o)return[2,{measurementId:o,appId:r}];throw qS.create("no-api-key")}return s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new QS,setTimeout((function(){return Object(Ri.__awaiter)(c,void 0,void 0,(function(){return Object(Ri.__generator)(this,(function(t){return a.abort(),[2]}))}))}),6e4),[2,zS({appId:r,apiKey:i,measurementId:o},s,a,e)]}))}))}(t)).then((function(e){n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&FS.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+") does not match the measurement ID fetched from the server ("+e.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(t){return FS.error(t)})),e.push(s),a=function(){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var t;return Object(Ri.__generator)(this,(function(e){switch(e.label){case 0:return Object(Ai.isIndexedDBAvailable)()?[3,1]:(FS.warn(qS.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,Object(Ai.validateIndexedDBOpenable)()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),FS.warn(qS.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(t){return t?r.getId():void 0})),[4,Promise.all([s,a])];case 1:return c=f.sent(),u=c[0],l=c[1],function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(NS))return r}return null}()||function(t,e){var n=document.createElement("script");n.src=NS+"?l="+t+"&id="+e,n.async=!0,document.head.appendChild(n)}(o,u.measurementId),i("js",new Date),(d={}).origin="firebase",d.update=!0,h=d,null!=l&&(h.firebase_id=l),i(MS.CONFIG,u.measurementId,h),[2,u.measurementId]}}))}))}(t,XS,JS,e,GS,ZS),{app:t,logEvent:function(t,e,n){(function(t,e,n,r,i){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var o,s;return Object(Ri.__generator)(this,(function(a){switch(a.label){case 0:return i&&i.global?(t(MS.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:o=a.sent(),s=Object(Ri.__assign)(Object(Ri.__assign)({},r),{send_to:o}),t(MS.EVENT,n,s),a.label=3;case 3:return[2]}}))}))})(YS,$S[i],t,e,n).catch((function(t){return FS.error(t)}))},setCurrentScreen:function(t,e){(function(t,e,n,r){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var i;return Object(Ri.__generator)(this,(function(o){switch(o.label){case 0:return r&&r.global?(t(MS.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(MS.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))})(YS,$S[i],t,e).catch((function(t){return FS.error(t)}))},setUserId:function(t,e){(function(t,e,n,r){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var i;return Object(Ri.__generator)(this,(function(o){switch(o.label){case 0:return r&&r.global?(t(MS.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(MS.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))})(YS,$S[i],t,e).catch((function(t){return FS.error(t)}))},setUserProperties:function(t,e){(function(t,e,n,r){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var i,o,s,a,c;return Object(Ri.__generator)(this,(function(u){switch(u.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,s=Object.keys(n);o<s.length;o++)i["user_properties."+(a=s[o])]=n[a];return t(MS.SET,i),[2,Promise.resolve()];case 1:return[4,e];case 2:c=u.sent(),t(MS.CONFIG,c,{update:!0,user_properties:n}),u.label=3;case 3:return[2]}}))}))})(YS,$S[i],t,e).catch((function(t){return FS.error(t)}))},setAnalyticsCollectionEnabled:function(t){(function(t,e){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var n;return Object(Ri.__generator)(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}}))}))})($S[i],t).catch((function(t){return FS.error(t)}))},INTERNAL:{delete:function(){return delete $S[i],Promise.resolve()}}}}(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:nC,EventName:LS,isSupported:rC})),t.INTERNAL.registerComponent(new Zv.Component("analytics-internal",(function(t){try{return{logEvent:t.getProvider("analytics").getImmediate().logEvent}}catch(Qv){throw qS.create("interop-component-reg-failed",{reason:Qv})}}),"PRIVATE")),t.registerVersion("@firebase/analytics","0.6.14")}(Ii.default);var iC,oC=function(){function t(t,e,n,r){this.client=t,this.storage=e,this.storageCache=n,this.logger=r}return t.prototype.isCachedDataFresh=function(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-e,r=n<=t;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+t+". Is cache hit: "+r+"."),r},t.prototype.fetch=function(t){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i,o;return Object(Ri.__generator)(this,(function(s){switch(s.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return e=s.sent(),n=e[0],(r=e[1])&&this.isCachedDataFresh(t.cacheMaxAgeMillis,n)?[2,r]:(t.eTag=r&&r.eTag,[4,this.client.fetch(t)]);case 2:return i=s.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return s.sent(),[2,i]}}))}))},t}(),sC=((iC={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",iC["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",iC["registration-api-key"]="Undefined API key. Check Firebase app initialization.",iC["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",iC["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",iC["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",iC["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",iC["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",iC["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",iC["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',iC["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',iC["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",iC["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",iC),aC=new Ai.ErrorFactory("remoteconfig","Remote Config",sC),cC=function(){function t(t,e,n,r,i,o){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return t.prototype.fetch=function(t){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i,o,s,a,c,u,l,h,d,f,p,m,g;return Object(Ri.__generator)(this,(function(b){switch(b.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:e=b.sent(),n=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",r=n+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,i={sdk_version:this.sdkVersion,app_instance_id:e[0],app_instance_id_token:e[1],app_id:this.appId,language_code:(void 0===v&&(v=navigator),v.languages&&v.languages[0]||v.language)},o={method:"POST",headers:{"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},body:JSON.stringify(i)},s=fetch(r,o),a=new Promise((function(e,n){t.signal.addEventListener((function(){var t=new Error("The operation was aborted.");t.name="AbortError",n(t)}))})),b.label=2;case 2:return b.trys.push([2,5,,6]),[4,Promise.race([s,a])];case 3:return b.sent(),[4,s];case 4:return c=b.sent(),[3,6];case 5:throw u=b.sent(),l="fetch-client-network","AbortError"===u.name&&(l="fetch-timeout"),aC.create(l,{originalErrorMessage:u.message});case 6:if(h=c.status,d=c.headers.get("ETag")||void 0,200!==c.status)return[3,11];m=void 0,b.label=7;case 7:return b.trys.push([7,9,,10]),[4,c.json()];case 8:return m=b.sent(),[3,10];case 9:throw g=b.sent(),aC.create("fetch-client-parse",{originalErrorMessage:g.message});case 10:f=m.entries,p=m.state,b.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===p?h=500:"NO_CHANGE"===p?h=304:"NO_TEMPLATE"!==p&&"EMPTY_CONFIG"!==p||(f={}),304!==h&&200!==h)throw aC.create("fetch-status",{httpStatus:h});return[2,{status:h,eTag:d,config:f}]}var v}))}))},t}(),uC=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}(),lC=["1","true","t","yes","y","on"],hC=function(){function t(t,e){void 0===e&&(e=""),this._source=t,this._value=e}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return"static"!==this._source&&lC.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if("static"===this._source)return 0;var t=Number(this._value);return isNaN(t)&&(t=0),t},t.prototype.getSource=function(){return this._source},t}(),dC=function(){function t(t,e,n,r,i){this.app=t,this._client=e,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return t.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=Pi.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=Pi.LogLevel.SILENT;break;default:this._logger.logLevel=Pi.LogLevel.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),t.prototype.activate=function(){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var t,e,n;return Object(Ri.__generator)(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=r.sent(),n=t[1],(e=t[0])&&e.config&&e.eTag&&e.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(e.config),this._storage.setActiveConfigEtag(e.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}}))}))},t.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){t._isInitializationComplete=!0}))),this._initializePromise},t.prototype.fetch=function(){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var t,e,n,r=this;return Object(Ri.__generator)(this,(function(i){switch(i.label){case 0:t=new uC,setTimeout((function(){return Object(Ri.__awaiter)(r,void 0,void 0,(function(){return Object(Ri.__generator)(this,(function(e){return t.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return e=i.sent(),n=function(t,e){return t instanceof Ai.FirebaseError&&-1!==t.code.indexOf("fetch-throttle")}(e)?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),e;case 6:return[2]}}))}))},t.prototype.fetchAndActivate=function(){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){return Object(Ri.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}}))}))},t.prototype.getAll=function(){var t,e,n=this;return(t=this._storageCache.getActiveConfig(),e=this.defaultConfig,void 0===t&&(t={}),void 0===e&&(e={}),Object.keys(Object(Ri.__assign)(Object(Ri.__assign)({},t),e))).reduce((function(t,e){return t[e]=n.getValue(e),t}),{})},t.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},t.prototype.getNumber=function(t){return this.getValue(t).asNumber()},t.prototype.getString=function(t){return this.getValue(t).asString()},t.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var e=this._storageCache.getActiveConfig();return e&&void 0!==e[t]?new hC("remote",e[t]):this.defaultConfig&&void 0!==this.defaultConfig[t]?new hC("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new hC("static"))},t}();function fC(t,e){var n=t.target.error||void 0;return aC.create(e,{originalErrorMessage:n&&n.message})}var pC=function(){function t(t,e,n,r){void 0===r&&(r=new Promise((function(t,e){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(t){e(fC(t,"storage-open"))},n.onsuccess=function(e){t(e.target.result)},n.onupgradeneeded=function(t){var e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore("app_namespace_store",{keyPath:"compositeKey"})}}}))),this.appId=t,this.appName=e,this.namespace=n,this.openDbPromise=r}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(t){return this.set("active_config",t)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(t){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var e,n=this;return Object(Ri.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise((function(r,i){var o=e.transaction(["app_namespace_store"],"readonly").objectStore("app_namespace_store"),s=n.createCompositeKey(t);try{var a=o.get(s);a.onerror=function(t){i(fC(t,"storage-get"))},a.onsuccess=function(t){var e=t.target.result;r(e?e.value:void 0)}}catch(Qv){i(aC.create("storage-get",{originalErrorMessage:Qv&&Qv.message}))}}))]}}))}))},t.prototype.set=function(t,e){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var n,r=this;return Object(Ri.__generator)(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise((function(i,o){var s=n.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),a=r.createCompositeKey(t);try{var c=s.put({compositeKey:a,value:e});c.onerror=function(t){o(fC(t,"storage-set"))},c.onsuccess=function(){i()}}catch(Qv){o(aC.create("storage-set",{originalErrorMessage:Qv&&Qv.message}))}}))]}}))}))},t.prototype.delete=function(t){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var e,n=this;return Object(Ri.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise((function(r,i){var o=e.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),s=n.createCompositeKey(t);try{var a=o.delete(s);a.onerror=function(t){i(fC(t,"storage-delete"))},a.onsuccess=function(){r()}}catch(Qv){i(aC.create("storage-delete",{originalErrorMessage:Qv&&Qv.message}))}}))]}}))}))},t.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},t}(),mC=function(){function t(t){this.storage=t}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var t,e,n,r,i,o;return Object(Ri.__generator)(this,(function(s){switch(s.label){case 0:return t=this.storage.getLastFetchStatus(),e=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,t];case 1:return(r=s.sent())&&(this.lastFetchStatus=r),[4,e];case 2:return(i=s.sent())&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return(o=s.sent())&&(this.activeConfig=o),[2]}}))}))},t.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},t.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},t}();function gC(t,e){return new Promise((function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener((function(){clearTimeout(o),r(aC.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}var bC,vC=function(){function t(t,e){this.client=t,this.storage=e}return t.prototype.fetch=function(t){return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var e;return Object(Ri.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return e=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,e)]}}))}))},t.prototype.attemptFetch=function(t,e){var n=e.throttleEndTimeMillis,r=e.backoffCount;return Object(Ri.__awaiter)(this,void 0,void 0,(function(){var e,i,o;return Object(Ri.__generator)(this,(function(s){switch(s.label){case 0:return[4,gC(t.signal,n)];case 1:s.sent(),s.label=2;case 2:return s.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return e=s.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return s.sent(),[2,e];case 5:if(!function(t){if(!(t instanceof Ai.FirebaseError&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(i=s.sent()))throw i;return o={throttleEndTimeMillis:Date.now()+Object(Ai.calculateBackoffMillis)(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(o)];case 6:return s.sent(),[2,this.attemptFetch(t,o)];case 7:return[2]}}))}))},t}();(bC=Ii.default).INTERNAL.registerComponent(new Zv.Component("remoteConfig",(function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("installations").getImmediate();if("undefined"==typeof window)throw aC.create("registration-window");var o=r.options,s=o.projectId,a=o.apiKey,c=o.appId;if(!s)throw aC.create("registration-project-id");if(!a)throw aC.create("registration-api-key");if(!c)throw aC.create("registration-app-id");var u=new pC(c,r.name,n=n||"firebase"),l=new mC(u),h=new Pi.Logger("@firebase/remote-config");h.logLevel=Pi.LogLevel.ERROR;var d=new cC(i,bC.SDK_VERSION,n,s,a,c),f=new vC(d,u),p=new oC(f,u,l,h),m=new dC(r,p,l,u,h);return m.ensureInitialized(),m}),"PUBLIC").setMultipleInstances(!0)),bC.registerVersion("@firebase/remote-config","0.1.41"),n("X8/r"),Ii.default.registerVersion("firebase","8.7.1","app"),Ii.default.SDK_VERSION="8.7.1",console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),Ii.default.registerVersion("firebase","8.7.1");var yC=n("D0XW");function _C(){return t=>t.lift(new wC)}class wC{call(t,e){return e.subscribe(new SC(t))}}class SC extends re.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}function CC(t,e){return n=>n.lift(new xC(t,e))}class xC{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new OC(t,this.compare,this.keySelector))}}class OC extends re.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var EC=n("pxpQ"),kC=n("jmUF"),TC=n("Jgta"),IC=n("VRyK"),RC=n("qgXg"),AC=n("Ylt2");class PC extends Ft.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift(),super.next(t)}nextTimeWindow(t){this._events.push(new DC(this._getNow(),t)),this._trimBufferThenGetEvents(),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new Vt.a;if(this.isStopped||this.hasError?o=Be.a.EMPTY:(this.observers.push(t),o=new AC.a(this,t)),r&&t.add(t=new EC.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||RC.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class DC{constructor(t,e){this.time=t,this.value=e}}function jC(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,c=!1;return function(u){s++,i&&!a||(a=!1,i=new PC(t,e,r),o=u.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){c=!0,o=void 0,i.complete()}}));const l=i.subscribe(this);this.add(()=>{s--,l.unsubscribe(),o&&!c&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}function NC(t,e){return e?Ae(()=>t,e):Ae(()=>t)}var MC=n("tf+s");const LC=new r.r("angularfire2.auth.use-emulator"),FC=new r.r("angularfire2.auth.settings"),VC=new r.r("angularfire2.auth.tenant-id"),BC=new r.r("angularfire2.auth.langugage-code"),UC=new r.r("angularfire2.auth.use-device-language"),qC=new r.r("angularfire.auth.persistence");let WC=(()=>{class t{constructor(t,e,r,i,o,s,a,c,u,l){const h=new kC.d(i),d=Object(kC.h)(h),f=new Ft.a,p=Object(Mt.a)(void 0).pipe(Object(EC.b)(h.outsideAngular),Ae(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(te.a)(()=>Object(kC.g)(t,i,e)),Object(te.a)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return Object(kC.f)(t.name+".auth","AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());if(e&&r.useEmulator("http://"+e.join(":")),a&&(r.tenantId=a),r.languageCode=c,u&&r.useDeviceLanguage(),n)for(const[t,e]of Object.entries(n))r.settings[t]=e;return l&&r.setPersistence(l),r},[e,a,c,u,n,l])})),jC({bufferSize:1,refCount:!1}));if(et(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(Mt.a)(null);else{p.pipe(Ee()).subscribe();const t=p.pipe(Ae(t=>t.getRedirectResult().then(t=>t,()=>null)),d,jC({bufferSize:1,refCount:!1})),e=t=>new Ut.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(Ae(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(Ae(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(NC(n),Object(MC.a)(h.outsideAngular),Object(EC.b)(h.insideAngular)),this.user=t.pipe(NC(r),Object(MC.a)(h.outsideAngular),Object(EC.b)(h.insideAngular)),this.idToken=this.user.pipe(Ae(t=>t?Object(Lt.a)(t.getIdToken()):Object(Mt.a)(null))),this.idTokenResult=this.user.pipe(Ae(t=>t?Object(Lt.a)(t.getIdTokenResult()):Object(Mt.a)(null))),this.credential=Object(IC.a)(t,f,this.authState.pipe(ie(t=>!t))).pipe(Object(te.a)(t=>(null==t?void 0:t.user)?t:null),Object(MC.a)(h.outsideAngular),Object(EC.b)(h.insideAngular))}return Object(kC.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>f.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(kC.c),r.Wb(kC.b,8),r.Wb(r.C),r.Wb(r.A),r.Wb(LC,8),r.Wb(FC,8),r.Wb(VC,8),r.Wb(BC,8),r.Wb(UC,8),r.Wb(qC,8))},t.\u0275prov=r.Ib({factory:function(){return new t(r.Wb(kC.c),r.Wb(kC.b,8),r.Wb(r.C),r.Wb(r.A),r.Wb(LC,8),r.Wb(FC,8),r.Wb(VC,8),r.Wb(BC,8),r.Wb(UC,8),r.Wb(qC,8))},token:t,providedIn:"any"}),t})(),HC=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[WC]}),t})();function zC(t,e){return function(t,e=yC.a){return new Ut.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function KC(t,e){return zC(t,e).pipe(Object(te.a)(t=>({payload:t,type:"query"})))}function GC(t,e){return KC(t,e).pipe(Ne(void 0),_C(),Object(te.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function YC(t,e,n){return GC(t,n).pipe(Me((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return QC(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return QC(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return QC(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),CC(),Object(te.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function QC(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function $C(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class XC{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=GC(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(te.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Ne(void 0),_C(),ie(([t,e])=>e.length>0||!t),Object(te.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Me((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=$C(t);return YC(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return KC(this.query,this.afs.schedulers.outsideAngular).pipe(Object(te.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Lt.a)(this.query.get(t)).pipe(Object(EC.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new JC(this.ref.doc(t),this.afs)}}class JC{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=ix(n,e);return new XC(r,i,this.afs)}snapshotChanges(){return zC(this.ref,this.afs.schedulers.outsideAngular).pipe(Ne(void 0),_C(),Object(te.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(te.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(Lt.a)(this.ref.get(t)).pipe(Object(EC.b)(this.afs.schedulers.insideAngular))}}class ZC{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?GC(this.query,this.afs.schedulers.outsideAngular).pipe(Object(te.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),ie(t=>t.length>0),this.afs.keepUnstableUntilFirst):GC(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Me((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=$C(t);return YC(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return KC(this.query,this.afs.schedulers.outsideAngular).pipe(Object(te.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Lt.a)(this.query.get(t)).pipe(Object(EC.b)(this.afs.schedulers.insideAngular))}}const tx=new r.r("angularfire2.enableFirestorePersistence"),ex=new r.r("angularfire2.firestore.persistenceSettings"),nx=new r.r("angularfire2.firestore.settings"),rx=new r.r("angularfire2.firestore.use-emulator");function ix(t,e=(t=>t)){return{query:e(t),ref:t}}let ox=(()=>{class t{constructor(t,e,n,r,i,o,s,a,c){this.schedulers=new kC.d(o),this.keepUnstableUntilFirst=Object(kC.h)(this.schedulers);const u=Object(kC.g)(t,o,e);!TC.a.auth&&c&&Object(kC.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(kC.f)(u.name+".firestore","AngularFirestore",u,()=>{const t=o.runOutsideAngular(()=>u.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!et(i)){const e=()=>{try{return Object(Lt.a)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(Qv){return"undefined"!=typeof console&&console.warn(Qv),Object(Mt.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(Mt.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=ix(n,e),o=this.schedulers.ngZone.run(()=>r);return new XC(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new ZC(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new JC(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(kC.c),r.Wb(kC.b,8),r.Wb(tx,8),r.Wb(nx,8),r.Wb(r.C),r.Wb(r.A),r.Wb(ex,8),r.Wb(rx,8),r.Wb(LC,8))},t.\u0275prov=r.Ib({factory:function(){return new t(r.Wb(kC.c),r.Wb(kC.b,8),r.Wb(tx,8),r.Wb(nx,8),r.Wb(r.C),r.Wb(r.A),r.Wb(ex,8),r.Wb(rx,8),r.Wb(LC,8))},token:t,providedIn:"any"}),t})(),sx=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:tx,useValue:!0},{provide:ex,useValue:e}]}}}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[ox]}),t})();var ax=Ii.default.auth;let cx=(()=>{class t{constructor(t,e,n,r){this.afs=t,this.afAuth=e,this.router=n,this.ngZone=r,this.userState=new Bt(null),this.afAuth.authState.subscribe(t=>{this.userState.next(t),this.ngZone.run(t?()=>{this.router.navigate(["dashboard"])}:()=>{this.router.navigate(["sign-in"])})})}GoogleAuth(){return this.AuthLogin(new ax.GoogleAuthProvider)}AuthLogin(t){return this.afAuth.signInWithPopup(t)}SignOut(){return this.afAuth.signOut().then(()=>{this.router.navigate(["sign-in"])})}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(ox),r.Wb(WC),r.Wb(ai),r.Wb(r.A))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class ux{}function lx(t,e){return{type:7,name:t,definitions:e,options:{}}}function hx(t,e=null){return{type:4,styles:e,timings:t}}function dx(t,e=null){return{type:3,steps:t,options:e}}function fx(t,e=null){return{type:2,steps:t,options:e}}function px(t){return{type:6,styles:t,offset:null}}function mx(t,e,n){return{type:0,name:t,styles:e,options:n}}function gx(t){return{type:5,steps:t}}function bx(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function vx(t=null){return{type:9,options:t}}function yx(t,e,n=null){return{type:11,selector:t,animation:e,options:n}}function _x(t){Promise.resolve(null).then(t)}class wx{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){_x(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Sx{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?_x(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function Cx(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function xx(t){switch(t.length){case 0:return new wx;case 1:return t[0];default:return new Sx(t)}}function Ox(t,e,n,r,i={},o={}){const s=[],a=[];let c=-1,u=null;if(r.forEach(t=>{const n=t.offset,r=n==c,l=r&&u||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,s),a){case"!":a=i[n];break;case"*":a=o[n];break;default:a=e.normalizeStyleValue(n,r,a,s)}l[r]=a}),r||a.push(l),u=l,c=n}),s.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${s.join(t)}`)}return a}function Ex(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&kx(n,"start",t)));break;case"done":t.onDone(()=>r(n&&kx(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&kx(n,"destroy",t)))}}function kx(t,e,n){const r=n.totalTime,i=Tx(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),o=t._data;return null!=o&&(i._data=o),i}function Tx(t,e,n,r,i="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function Ix(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function Rx(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let Ax=(t,e)=>!1,Px=(t,e)=>!1,Dx=(t,e,n)=>[];const jx=Cx();(jx||"undefined"!=typeof Element)&&(Ax=(t,e)=>t.contains(e),Px=(()=>{if(jx||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):Px}})(),Dx=(t,e,n)=>{let r=[];if(n)r.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&r.push(n)}return r});let Nx=null,Mx=!1;function Lx(t){Nx||(Nx=("undefined"!=typeof document?document.body:null)||{},Mx=!!Nx.style&&"WebkitAppearance"in Nx.style);let e=!0;return Nx.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Nx.style,!e&&Mx)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Nx.style),e}const Fx=Px,Vx=Ax,Bx=Dx;function Ux(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let qx=(()=>{class t{validateStyleProperty(t){return Lx(t)}matchesElement(t,e){return Fx(t,e)}containsElement(t,e){return Vx(t,e)}query(t,e,n){return Bx(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,o=[],s){return new wx(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),Wx=(()=>{class t{}return t.NOOP=new qx,t})();function Hx(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:zx(parseFloat(e[1]),e[2])}function zx(t,e){switch(e){case"s":return 1e3*t;default:return t}}function Kx(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,o="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=zx(parseFloat(n[1]),n[2]);const s=n[3];null!=s&&(i=zx(parseFloat(s),n[4]));const a=n[5];a&&(o=a)}else r=t;if(!n){let n=!1,o=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(o,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:o}}(t,e,n)}function Gx(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function Yx(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else Gx(t,n);return n}function Qx(t,e,n){return n?e+":"+n+";":""}function $x(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=Qx(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=Qx(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function Xx(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=oO(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),Cx()&&$x(t))}function Jx(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=oO(e);t.style[n]=""}),Cx()&&$x(t))}function Zx(t){return Array.isArray(t)?1==t.length?t[0]:fx(t):t}const tO=new RegExp("{{\\s*(.+?)\\s*}}","g");function eO(t){let e=[];if("string"==typeof t){let n;for(;n=tO.exec(t);)e.push(n[1]);tO.lastIndex=0}return e}function nO(t,e,n){const r=t.toString(),i=r.replace(tO,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()});return i==r?t:i}function rO(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const iO=/-+([a-z0-9])/g;function oO(t){return t.replace(iO,(...t)=>t[1].toUpperCase())}function sO(t,e){return 0===t||0===e}function aO(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let o=e[0],s=[];if(r.forEach(t=>{o.hasOwnProperty(t)||s.push(t),o[t]=n[t]}),s.length)for(var i=1;i<e.length;i++){let n=e[i];s.forEach((function(e){n[e]=uO(t,e)}))}}return e}function cO(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function uO(t,e){return window.getComputedStyle(t)[e]}function lO(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],o=r[2],s=r[3];e.push(fO(i,s)),"<"!=o[0]||"*"==i&&"*"==s||e.push(fO(s,i))}(t,n,e)):n.push(t),n}const hO=new Set(["true","1"]),dO=new Set(["false","0"]);function fO(t,e){const n=hO.has(t)||dO.has(t),r=hO.has(e)||dO.has(e);return(i,o)=>{let s="*"==t||t==i,a="*"==e||e==o;return!s&&n&&"boolean"==typeof i&&(s=i?hO.has(t):dO.has(t)),!a&&r&&"boolean"==typeof o&&(a=o?hO.has(e):dO.has(e)),s&&a}}const pO=new RegExp("s*:selfs*,?","g");function mO(t,e,n){return new gO(t).build(e,n)}class gO{constructor(t){this._driver=t}build(t,e){const n=new bO(e);return this._resetContextStyleTimingState(n),cO(this,Zx(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,o.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:o,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,o=r||{};if(n.styles.forEach(t=>{if(vO(t)){const e=t;Object.keys(e).forEach(t=>{eO(e[t]).forEach(t=>{o.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=rO(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=cO(this,Zx(t.animation),e);return{type:1,matchers:lO(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:yO(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>cO(this,t,e)),options:yO(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=cO(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:yO(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return _O(Kx(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=_O(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||Kx(r,e),_O(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:px({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,o=!1;if(!i){o=!0;const t={};n.easing&&(t.easing=n.easing),i=px(t)}e.currentTime+=n.duration+n.delay;const s=this.visitStyle(i,e);s.isEmptyStep=o,r=s}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?"*"==t?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(vO(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const o=e.collectedStyles[e.currentQuerySelector],s=o[n];let a=!0;s&&(i!=r&&i>=s.startTime&&r<=s.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${s.startTime}ms" and "${s.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=s.startTime),a&&(o[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=eO(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let o=!1,s=!1,a=0;const c=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let c=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(vO(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(vO(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),u=0;return null!=c&&(r++,u=n.offset=c),s=s||u<0||u>1,o=o||u<a,a=u,i.push(u),n});s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&e.errors.push("Please ensure that all keyframe offsets are in order");const u=t.steps.length;let l=0;r>0&&r<u?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(u-1));const h=u-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return c.forEach((t,r)=>{const o=l>0?r==h?1:l*r:i[r],s=o*p;e.currentTime=d+f.delay+s,f.duration=s,this._validateStyleAst(t,e),t.offset=o,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:cO(this,Zx(t.animation),e),options:yO(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:yO(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:yO(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,o]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(pO,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,".ng-animating"),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,Ix(e.collectedStyles,e.currentQuerySelector,{});const s=cO(this,Zx(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:s,originalSelector:t.selector,options:yO(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:Kx(t.timings,e.errors,!0);return{type:12,animation:cO(this,Zx(t.animation),e),timings:n,options:null}}}class bO{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function vO(t){return!Array.isArray(t)&&"object"==typeof t}function yO(t){var e;return t?(t=Gx(t)).params&&(t.params=(e=t.params)?Gx(e):null):t={},t}function _O(t,e,n){return{duration:t,delay:e,easing:n}}function wO(t,e,n,r,i,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class SO{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const CO=new RegExp(":enter","g"),xO=new RegExp(":leave","g");function OO(t,e,n,r,i,o={},s={},a,c,u=[]){return(new EO).buildKeyframes(t,e,n,r,i,o,s,a,c,u)}class EO{buildKeyframes(t,e,n,r,i,o,s,a,c,u=[]){c=c||new SO;const l=new TO(t,e,c,r,i,u,[]);l.options=a,l.currentTimeline.setStyles([o],null,l.errors,a),cO(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(s).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([s],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[wO(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?Hx(n.duration):null,o=null!=n.delay?Hx(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,o);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),cO(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=kO);const t=Hx(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>cO(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?Hx(t.options.delay):0;t.steps.forEach(o=>{const s=e.createSubContext(t.options);i&&s.delayNextStep(i),cO(this,o,s),r=Math.max(r,s.currentTimeline.currentTime),n.push(s.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return Kx(e.params?nO(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach(t=>{o.forwardTime((t.offset||0)*i),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?Hx(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=kO);let o=n;const s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=s.length;let a=null;s.forEach((n,r)=>{e.currentQueryIndex=r;const s=e.createSubContext(t.options,n);i&&s.delayNextStep(i),n===e.element&&(a=s.currentTimeline),cO(this,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,s.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,o=Math.abs(i.duration),s=o*(e.currentQueryTotal-1);let a=o*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=s-a;break;case"full":a=n.currentStaggerTime}const c=e.currentTimeline;a&&c.delayNextStep(a);const u=c.currentTime;cO(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-u+(r.startTime-n.currentTimeline.startTime)}}const kO={};class TO{constructor(t,e,n,r,i,o,s,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=o,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=kO,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new IO(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=Hx(n.duration)),null!=n.delay&&(r.delay=Hx(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=nO(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new TO(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=kO,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new RO(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,o){let s=[];if(r&&s.push(this.element),t.length>0){t=(t=t.replace(CO,"."+this._enterClassName)).replace(xO,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),s.push(...e)}return i||0!=s.length||o.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),s}}class IO{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new IO(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||"*",this._currentKeyframe[t]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},o=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]="*"})):Yx(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(o).forEach(t=>{const e=nO(o[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:"*"),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,o)=>{const s=Yx(i,!0);Object.keys(s).forEach(n=>{const r=s[n];"!"==r?t.add(n):"*"==r&&e.add(n)}),n||(s.offset=o/this.duration),r.push(s)});const i=t.size?rO(t.values()):[],o=e.size?rO(e.values()):[];if(n){const t=r[0],e=Gx(t);t.offset=0,e.offset=1,r=[t,e]}return wO(this.element,r,i,o,this.duration,this.startTime,this.easing,!1)}}class RO extends IO{constructor(t,e,n,r,i,o,s=!1){super(t,e,o.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=s,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],o=n+e,s=e/o,a=Yx(t[0],!1);a.offset=0,i.push(a);const c=Yx(t[0],!1);c.offset=AO(s),i.push(c);const u=t.length-1;for(let r=1;r<=u;r++){let s=Yx(t[r],!1);s.offset=AO((e+s.offset*n)/o),i.push(s)}n=o,e=0,r="",t=i}return wO(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function AO(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class PO{}class DO extends PO{normalizePropertyName(t,e){return oO(t)}normalizeStyleValue(t,e,n,r){let i="";const o=n.toString().trim();if(jO[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return o+i}}const jO=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function NO(t,e,n,r,i,o,s,a,c,u,l,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:u,postStyleProps:l,totalTime:h,errors:d}}const MO={};class LO{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],o=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):o}build(t,e,n,r,i,o,s,a,c,u){const l=[],h=this.ast.options&&this.ast.options.params||MO,d=this.buildStyles(n,s&&s.params||MO,l),f=a&&a.params||MO,p=this.buildStyles(r,f,l),m=new Set,g=new Map,b=new Map,v="void"===r,y={params:Object.assign(Object.assign({},h),f)},_=u?[]:OO(t,e,this.ast.animation,i,o,d,p,y,c,l);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),l.length)return NO(e,this._triggerName,n,r,v,d,p,[],[],g,b,w,l);_.forEach(t=>{const n=t.element,r=Ix(g,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=Ix(b,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&m.add(n)});const S=rO(m.values());return NO(e,this._triggerName,n,r,v,d,p,_,S,g,b,w)}}class FO{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=Gx(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let o=i[t];o.length>1&&(o=nO(o,r,e)),n[t]=o})}}),n}}class VO{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new FO(t.style,t.options&&t.options.params||{})}),BO(this.states,"true","1"),BO(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new LO(t,e,this.states))}),this.fallbackTransition=new LO(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function BO(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const UO=new SO;class qO{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=mO(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=Ox(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let o;const s=new Map;if(i?(o=OO(this._driver,e,i,"ng-enter","ng-leave",{},{},n,UO,r),o.forEach(t=>{const e=Ix(s,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),o=[]),r.length)throw new Error("Unable to create the animation due to the following errors: "+r.join("\n"));s.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,"*")})});const a=xx(o.map(t=>{const e=s.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}listen(t,e,n,r){const i=Tx(e,"","","");return Ex(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const WO=[],HO={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},zO={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class KO{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=Gx(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const GO=new KO("void");class YO{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,eE(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const o=Ix(this._elementListeners,t,[]),s={name:e,phase:n,callback:r};o.push(s);const a=Ix(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(eE(t,"ng-trigger"),eE(t,"ng-trigger-"+e),a[e]=GO),()=>{this._engine.afterFlush(()=>{const t=o.indexOf(s);t>=0&&o.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),o=new $O(this.id,e,t);let s=this._engine.statesByElement.get(t);s||(eE(t,"ng-trigger"),eE(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,s={}));let a=s[e];const c=new KO(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&c.absorbOptions(a.options),s[e]=c,a||(a=GO),"void"!==c.value&&a.value===c.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,c.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(c.value,c.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{Jx(t,n),Xx(t,r)})}return}const u=Ix(this._engine.playersByElement,t,[]);u.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,c.value,t,c.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:c,player:o,isFallbackTransition:h}),h||(eE(t,"ng-animate-queued"),o.onStart(()=>{nE(t,"ng-animate-queued")})),o.onDone(()=>{let e=this.players.indexOf(o);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(o);t>=0&&n.splice(t,1)}}),this.players.push(o),u.push(o),o}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,".ng-trigger",!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const o=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,"void",r);n&&o.push(n)}}),o.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&xx(o).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,o=this._engine.statesByElement.get(t)[r]||GO,s=new KO("void"),a=new $O(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:o,toState:s,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==HO||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){eE(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,o=this._elementListeners.get(i);o&&o.forEach(e=>{if(e.name==n.triggerName){const r=Tx(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,Ex(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class QO{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new YO(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(XO(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!XO(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),eE(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),nE(t,"ng-animate-disabled"))}removeNode(t,e,n,r){if(XO(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return XO(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,".ng-trigger",!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,".ng-animating",!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return xx(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=HO,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)eE(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?xx(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}_flushAnimations(t,e){const n=new SO,r=[],i=new Map,o=[],s=new Map,a=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(t=>{u.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)u.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=tE(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n="ng-enter"+p++;f.set(e,n),t.forEach(t=>eE(t,n))});const m=[],g=new Set,b=new Set;for(let R=0;R<this.collectedLeaveElements.length;R++){const t=this.collectedLeaveElements[R],e=t.__ng_removed;e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>g.add(t)):b.add(t))}const v=new Map,y=tE(h,Array.from(g));y.forEach((t,e)=>{const n="ng-leave"+p++;v.set(e,n),t.forEach(t=>eE(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>nE(t,n))}),y.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>nE(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let R=this._namespaceList.length-1;R>=0;R--)this._namespaceList[R].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const u=!l||!this.driver.containsElement(l,i),h=v.get(i),d=f.get(i),p=this._buildInstruction(t,n,d,h,u);if(p.errors&&p.errors.length)w.push(p);else{if(u)return e.onStart(()=>Jx(i,p.fromStyles)),e.onDestroy(()=>Xx(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>Jx(i,p.fromStyles)),e.onDestroy(()=>Xx(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),o.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>Ix(s,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=c.get(e);r||c.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const S=new Map,C=new Map;o.forEach(t=>{const e=t.element;n.has(e)&&(C.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,S))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{Ix(S,e,[]).push(t),t.destroy()})});const x=m.filter(t=>iE(t,a,c)),O=new Map;ZO(O,this.driver,b,c,"*").forEach(t=>{iE(t,a,c)&&x.push(t)});const E=new Map;d.forEach((t,e)=>{ZO(E,this.driver,new Set(t),a,"!")}),x.forEach(t=>{const e=O.get(t),n=E.get(t);O.set(t,Object.assign(Object.assign({},e),n))});const k=[],T=[],I={};o.forEach(t=>{const{element:e,player:o,instruction:s}=t;if(n.has(e)){if(u.has(e))return o.onDestroy(()=>Xx(e,s.toStyles)),o.disabled=!0,o.overrideTotalTime(s.totalTime),void r.push(o);let t=I;if(C.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=C.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>C.set(e,t))}const n=this._buildAnimation(o.namespaceId,s,S,i,E,O);if(o.setRealPlayer(n),t===I)k.push(o);else{const e=this.playersByElement.get(t);e&&e.length&&(o.parentPlayer=xx(e)),r.push(o)}}else Jx(e,s.fromStyles),o.onDestroy(()=>Xx(e,s.toStyles)),T.push(o),u.has(e)&&r.push(o)}),T.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=xx(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let R=0;R<m.length;R++){const t=m[R],e=t.__ng_removed;if(nE(t,"ng-leave"),e&&e.hasAnimation)continue;let n=[];if(s.size){let e=s.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,".ng-animating",!0);for(let t=0;t<r.length;t++){let e=s.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?rE(this,t,r):this.processLeaveNode(t)}return m.length=0,k.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),k}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let o=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(o=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||"void"==i;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&o.push(e)})}}return(n||r)&&(o=o.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),o}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,o=e.isRemovalTransition?void 0:e.triggerName;for(const s of e.timelines){const t=s.element,a=t!==r,c=Ix(n,t,[]);this._getPreviousPlayers(t,a,i,o,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),c.push(t)})}Jx(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,o){const s=e.triggerName,a=e.element,c=[],u=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;u.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new wx(e.duration,e.delay);const f=h!==a,p=function(t){const e=[];return function t(e,n){for(let r=0;r<e.length;r++){const i=e[r];i instanceof Sx?t(i.players,n):n.push(i)}}(t,e),e}((n.get(h)||WO).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=i.get(h),g=o.get(h),b=Ox(0,this._normalizer,0,e.keyframes,m,g),v=this._buildPlayer(e,b,p);if(e.subTimeline&&r&&l.add(h),f){const e=new $O(t,s,h);e.setRealPlayer(v),c.push(e)}return v});c.forEach(t=>{Ix(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),u.forEach(t=>eE(t,"ng-animating"));const d=xx(h);return d.onDestroy(()=>{u.forEach(t=>nE(t,"ng-animating")),Xx(a,e.toStyles)}),l.forEach(t=>{Ix(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new wx(t.duration,t.delay)}}class $O{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new wx,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>Ex(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Ix(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function XO(t){return t&&1===t.nodeType}function JO(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function ZO(t,e,n,r,i){const o=[];n.forEach(t=>o.push(JO(t)));const s=[];r.forEach((n,r)=>{const o={};n.forEach(t=>{const n=o[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=zO,s.push(r))}),t.set(r,o)});let a=0;return n.forEach(t=>JO(t,o[a++])),s}function tE(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let o=i.get(e);if(o)return o;const s=e.parentNode;return o=n.has(s)?s:r.has(s)?1:t(s),i.set(e,o),o}(t);1!==e&&n.get(e).push(t)}),n}function eE(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function nE(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function rE(t,e,n){xx(n).onDone(()=>t.processLeaveNode(e))}function iE(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class oE{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new QO(t,e,n),this._timelineEngine=new qO(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const o=t+"-"+r;let s=this._triggerCache[o];if(!s){const t=[],e=mO(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);s=function(t,e){return new VO(t,e)}(r,e),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(e,r,s)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=Rx(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=Rx(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function sE(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=cE(e[0]),e.length>1&&(r=cE(e[e.length-1]))):e&&(n=cE(e)),n||r?new aE(t,n,r):null}let aE=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Xx(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Xx(this._element,this._initialStyles),this._endStyles&&(Xx(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Jx(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Jx(this._element,this._endStyles),this._endStyles=null),Xx(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function cE(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];uE(i)&&(e=e||{},e[i]=t[i])}return e}function uE(t){return"display"===t||"position"===t}class lE{constructor(t,e,n,r,i,o,s){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=o,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=gE(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),mE(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),pE(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){hE(this._element,this._name,"paused")}resume(){hE(this._element,this._name,"running")}setPosition(t){const e=dE(this._element,this._name);this._position=t*this._duration,mE(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),pE(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=gE(t,"").split(","),r=fE(n,e);r>=0&&(n.splice(r,1),mE(t,"",n.join(",")))}(this._element,this._name))}}function hE(t,e,n){mE(t,"PlayState",n,dE(t,e))}function dE(t,e){const n=gE(t,"");return n.indexOf(",")>0?fE(n.split(","),e):fE([n],e)}function fE(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function pE(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function mE(t,e,n,r){const i="animation"+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function gE(t,e){return t.style["animation"+e]}class bE{constructor(t,e,n,r,i,o,s,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=s,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new lE(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:uO(this.element,n))})}this.currentSnapshot=t}}class vE extends wx{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=Ux(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class yE{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return Lx(t)}matchesElement(t,e){return Fx(t,e)}containsElement(t,e){return Vx(t,e)}query(t,e,n){return Bx(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>Ux(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=i+"}\n"}),r+="}\n";const o=document.createElement("style");return o.innerHTML=r,o}animate(t,e,n,r,i,o=[],s){s&&this._notifyFaultyScrubber();const a=o.filter(t=>t instanceof bE),c={};sO(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const u=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=aO(t,e,c));if(0==n)return new vE(t,u);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const d=sE(t,e),f=new bE(t,e,l,n,r,i,u,d);return f.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),f}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class _E{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:uO(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class wE{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(SE().toString()),this._cssKeyframesDriver=new yE}validateStyleProperty(t){return Lx(t)}matchesElement(t,e){return Fx(t,e)}containsElement(t,e){return Vx(t,e)}query(t,e,n){return Bx(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,o=[],s){if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,o);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const c={},u=o.filter(t=>t instanceof _E);sO(n,r)&&u.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const l=sE(t,e=aO(t,e=e.map(t=>Yx(t,!1)),c));return new _E(t,e,a,l)}}function SE(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let CE=(()=>{class t extends ux{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.S.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?fx(t):t;return EE(this._renderer,null,e,"register",[n]),new xE(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(r.G),r.Wb(a))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();class xE extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new OE(this._id,t,e||{},this._renderer)}}class OE{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return EE(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function EE(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}let kE=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new TE("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const o=e=>{Array.isArray(e)?e.forEach(o):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(o),new IE(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(r.G),r.Wb(oE),r.Wb(r.A))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();class TE{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class IE extends TE{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),o="";return"@"!=i.charAt(0)&&([i,o]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,o,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let RE=(()=>{class t extends oE{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(a),r.Wb(Wx),r.Wb(PO))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const AE=new r.r("AnimationModuleType"),PE=[{provide:Wx,useFactory:function(){return"function"==typeof SE()?new wE:new yE}},{provide:AE,useValue:"BrowserAnimations"},{provide:ux,useClass:CE},{provide:PO,useFactory:function(){return new DO}},{provide:oE,useClass:RE},{provide:r.G,useFactory:function(t,e,n){return new kE(t,e,n)},deps:[_t,oE,r.A]}];let DE,jE=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:PE,imports:[Nt]}),t})();try{DE="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(sU){DE=!1}let NE,ME=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?tt(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!DE)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(r.C))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Wb)(r.C))},token:t,providedIn:"root"}),t})(),LE=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)}}),t})();const FE=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function VE(){if(NE)return NE;if("object"!=typeof document||!document)return NE=new Set(FE),NE;let t=document.createElement("input");return NE=new Set(FE.filter(e=>(t.setAttribute("type",e),t.type===e))),NE}let BE,UE;function qE(t){return function(){if(null==BE&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>BE=!0}))}finally{BE=BE||!1}return BE}()?t:!!t.capture}function WE(t){if(function(){if(null==UE){const t="undefined"!=typeof document?document.head:null;UE=!(!t||!t.createShadowRoot&&!t.attachShadow)}return UE}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function HE(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}function zE(t,e=yC.a){return n=>n.lift(new KE(t,e))}class KE{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new GE(t,this.dueTime,this.scheduler))}}class GE extends re.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(YE,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function YE(t){t.debouncedNext()}function QE(t){return null!=t&&""+t!="false"}function $E(t,e=0){return XE(t)?Number(t):e}function XE(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function JE(t){return Array.isArray(t)?t:[t]}function ZE(t){return null==t?"":"string"==typeof t?t:t+"px"}function tk(t){return t instanceof r.l?t.nativeElement:t}let ek=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),nk=(()=>{class t{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=tk(t);return new Ut.a(t=>{const n=this._observeElement(e).subscribe(t);return()=>{n.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new Ft.a,n=this._mutationObserverFactory.create(t=>e.next(t));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:n}=this._observedElements.get(t);e&&e.disconnect(),n.complete(),this._observedElements.delete(t)}}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(ek))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Wb)(ek))},token:t,providedIn:"root"}),t})(),rk=(()=>{class t{constructor(t,e,n){this._contentObserver=t,this._elementRef=e,this._ngZone=n,this.event=new r.o,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=QE(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=$E(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(zE(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription&&this._currentSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(nk),r.Mb(r.l),r.Mb(r.A))},t.\u0275dir=r.Hb({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),ik=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[ek]}),t})();class ok{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Ft.a,this._typeaheadSubscription=Be.a.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new Ft.a,this.change=new Ft.a,t instanceof r.E&&t.changes.subscribe(t=>{if(this._activeItem){const e=t.toArray().indexOf(this._activeItem);e>-1&&e!==this._activeItemIndex&&(this._activeItemIndex=e)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Object(Te.a)(t=>this._pressedLetters.push(t)),zE(t),ie(()=>this._pressedLetters.length>0),Object(te.a)(()=>this._pressedLetters.join(""))).subscribe(t=>{const e=this._getItemsArray();for(let n=1;n<e.length+1;n++){const r=(this._activeItemIndex+n)%e.length,i=e[r];if(!this._skipPredicateFn(i)&&0===i.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(r);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(e=>!t[e]||this._allowedModifierKeys.indexOf(e)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&n){this.setNextItemActive();break}return;case 38:if(this._vertical&&n){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&n){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&n){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&n){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&n){this.setLastItemActive();break}return;default:return void((n||HE(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t),r=e[n];this._activeItem=null==r?null:r,this._activeItemIndex=n}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let n=1;n<=e.length;n++){const r=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof r.E?this._items.toArray():this._items}}class sk extends ok{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class ak extends ok{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let ck=(()=>{class t{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const e=function(t){try{return t.frameElement}catch(sU){return null}}((n=t).ownerDocument&&n.ownerDocument.defaultView||window);var n;if(e){if(-1===lk(e))return!1;if(!this.isVisible(e))return!1}let r=t.nodeName.toLowerCase(),i=lk(t);return t.hasAttribute("contenteditable")?-1!==i:"iframe"!==r&&"object"!==r&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){let e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==i:"video"===r?-1!==i&&(null!==i||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,e){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){let e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||uk(t))}(t)&&!this.isDisabled(t)&&((null==e?void 0:e.ignoreVisibility)||this.isVisible(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(ME))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Wb)(ME))},token:t,providedIn:"root"}),t})();function uk(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function lk(t){if(!uk(t))return null;const e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class hk{constructor(t,e,n,r,i=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,i||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement()))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let n=0;n<e.length;n++)e[n].hasAttribute("cdk-focus-"+t)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]):e[n].hasAttribute("cdk-focus-region-"+t)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");return t?(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),t.focus(),!0):this.focusFirstTabbableElement()}focusFirstTabbableElement(){const t=this._getRegionBoundary("start");return t&&t.focus(),!!t}focusLastTabbableElement(){const t=this._getRegionBoundary("end");return t&&t.focus(),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=0;n<e.length;n++){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(t)return t}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=e.length-1;n>=0;n--){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(t)return t}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Ce(1)).subscribe(t)}}let dk=(()=>{class t{constructor(t,e,n){this._checker=t,this._ngZone=e,this._document=n}create(t,e=!1){return new hk(t,this._checker,this._ngZone,this._document,e)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(ck),r.Wb(r.A),r.Wb(a))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Wb)(ck),Object(r.Wb)(r.A),Object(r.Wb)(a))},token:t,providedIn:"root"}),t})();"undefined"!=typeof Element&&Element;const fk=new r.r("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),pk=new r.r("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let mk=(()=>{class t{constructor(t,e,n,r){this._ngZone=e,this._defaultOptions=r,this._document=n,this._liveElement=t||this._createLiveElement()}announce(t,...e){const n=this._defaultOptions;let r,i;return 1===e.length&&"number"==typeof e[0]?i=e[0]:[r,i]=e,this.clear(),clearTimeout(this._previousTimeout),r||(r=n&&n.politeness?n.politeness:"polite"),null==i&&n&&(i=n.duration),this._liveElement.setAttribute("aria-live",r),this._ngZone.runOutsideAngular(()=>new Promise(e=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,e(),"number"==typeof i&&(this._previousTimeout=setTimeout(()=>this.clear(),i))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const t=this._document.getElementsByClassName("cdk-live-announcer-element"),e=this._document.createElement("div");for(let n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n]);return e.classList.add("cdk-live-announcer-element"),e.classList.add("cdk-visually-hidden"),e.setAttribute("aria-atomic","true"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),e}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(fk,8),r.Wb(r.A),r.Wb(a),r.Wb(pk,8))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Wb)(fk,8),Object(r.Wb)(r.A),Object(r.Wb)(a),Object(r.Wb)(pk,8))},token:t,providedIn:"root"}),t})();function gk(t){return 0===t.buttons}const bk=new r.r("cdk-focus-monitor-default-options"),vk=qE({passive:!0,capture:!0});let yk=(()=>{class t{constructor(t,e,n,r){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=t=>{if(!this._lastTouchTarget){const e=gk(t)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(e)}},this._documentTouchstartListener=t=>{null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=_k(t),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650)},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=t=>{const e=_k(t),n="focus"===t.type?this._onFocus:this._onBlur;for(let r=e;r;r=r.parentElement)n.call(this,t,r)},this._document=n,this._detectionMode=(null==r?void 0:r.detectionMode)||0}monitor(t,e=!1){const n=tk(t);if(!this._platform.isBrowser||1!==n.nodeType)return Object(Mt.a)(null);const r=WE(n)||this._getDocument(),i=this._elementInfo.get(n);if(i)return e&&(i.checkChildren=!0),i.subject;const o={checkChildren:e,subject:new Ft.a,rootNode:r};return this._elementInfo.set(n,o),this._registerGlobalListeners(o),o.subject}stopMonitoring(t){const e=tk(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}focusVia(t,e,n){const r=tk(t);this._setOriginForCurrentEventQueue(e),"function"==typeof r.focus&&r.focus(n)}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_getFocusOrigin(t){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"}_setClasses(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(t){const e=_k(t);return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);if(!n||!n.checkChildren&&e!==_k(t))return;const r=this._getFocusOrigin(t);this._setClasses(e,r),this._emitOrigin(n.subject,r),this._lastFocusOrigin=r}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const e=t.rootNode,n=this._rootNodeFocusListenerCount.get(e)||0;n||this._ngZone.runOutsideAngular(()=>{e.addEventListener("focus",this._rootNodeFocusAndBlurListener,vk),e.addEventListener("blur",this._rootNodeFocusAndBlurListener,vk)}),this._rootNodeFocusListenerCount.set(e,n+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const t=this._getDocument(),e=this._getWindow();t.addEventListener("keydown",this._documentKeydownListener,vk),t.addEventListener("mousedown",this._documentMousedownListener,vk),t.addEventListener("touchstart",this._documentTouchstartListener,vk),e.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(t){const e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){const t=this._rootNodeFocusListenerCount.get(e);t>1?this._rootNodeFocusListenerCount.set(e,t-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,vk),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,vk),this._rootNodeFocusListenerCount.delete(e))}if(!--this._monitoredElementCount){const t=this._getDocument(),e=this._getWindow();t.removeEventListener("keydown",this._documentKeydownListener,vk),t.removeEventListener("mousedown",this._documentMousedownListener,vk),t.removeEventListener("touchstart",this._documentTouchstartListener,vk),e.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(r.A),r.Wb(ME),r.Wb(a,8),r.Wb(bk,8))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Wb)(r.A),Object(r.Wb)(ME),Object(r.Wb)(a,8),Object(r.Wb)(bk,8))},token:t,providedIn:"root"}),t})();function _k(t){return t.composedPath?t.composedPath()[0]:t.target}let wk=(()=>{class t{constructor(t,e){this._elementRef=t,this._focusMonitor=e,this.cdkFocusChange=new r.o}ngAfterViewInit(){const t=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(t,1===t.nodeType&&t.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(t=>this.cdkFocusChange.emit(t))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(yk))},t.\u0275dir=r.Hb({type:t,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),t})(),Sk=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove("cdk-high-contrast-active"),t.remove("cdk-high-contrast-black-on-white"),t.remove("cdk-high-contrast-white-on-black");const e=this.getHighContrastMode();1===e?(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-black-on-white")):2===e&&(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-white-on-black"))}}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(ME),r.Wb(a))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Wb)(ME),Object(r.Wb)(a))},token:t,providedIn:"root"}),t})(),Ck=(()=>{class t{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)(r.Wb(Sk))},imports:[[LE,ik]]}),t})();const xk=new r.r("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(r.W)(a)}});let Ok=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new r.o,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(xk,8))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Wb)(xk,8))},token:t,providedIn:"root"}),t})(),Ek=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)}}),t})();const kk=new r.Q("10.2.7");function Tk(t,e){if(1&t&&r.Nb(0,"mat-pseudo-checkbox",3),2&t){const t=r.cc();r.ic("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}const Ik=["*"];let Rk=(()=>{class t{}return t.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",t.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",t.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",t.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",t})(),Ak=(()=>{class t{}return t.COMPLEX="375ms",t.ENTERING="225ms",t.EXITING="195ms",t})();const Pk=new r.Q("10.2.7"),Dk=new r.r("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let jk,Nk=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getDocument(){const t=this._document||document;return"object"==typeof t&&t?t:null}_getWindow(){const t=this._getDocument(),e=(null==t?void 0:t.defaultView)||window;return"object"==typeof e&&e?e:null}_checksAreEnabled(){return Object(r.X)()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){const t=this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype),e=this._getDocument();t&&e&&!e.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){const t=!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme,e=this._getDocument();if(t||!e||!e.body||"function"!=typeof getComputedStyle)return;const n=e.createElement("div");n.classList.add("mat-theme-loaded-marker"),e.body.appendChild(n);const r=getComputedStyle(n);r&&"none"!==r.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),e.body.removeChild(n)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&Pk.full!==kk.full&&console.warn("The Angular Material version ("+Pk.full+") does not match the Angular CDK version ("+kk.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)(r.Wb(Sk),r.Wb(Dk,8),r.Wb(a,8))},imports:[[Ek],Ek]}),t})();function Mk(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=QE(t)}}}function Lk(t,e){return class extends t{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const e=t||this.defaultColor;e!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-"+this._color),e&&this._elementRef.nativeElement.classList.add("mat-"+e),this._color=e)}}}function Fk(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=QE(t)}}}function Vk(t,e=0){return class extends t{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?$E(t):this.defaultTabIndex}}}function Bk(t){return class extends t{constructor(...t){super(...t),this.errorState=!1,this.stateChanges=new Ft.a}updateErrorState(){const t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}}function Uk(t){return class extends t{constructor(...t){super(...t),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new Ut.a(t=>{this._isInitialized?this._notifySubscriber(t):this._pendingSubscribers.push(t)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(t){t.next(),t.complete()}}}try{jk="undefined"!=typeof Intl}catch(sU){jk=!1}let qk=(()=>{class t{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:function(){return new t},token:t,providedIn:"root"}),t})();class Wk{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Hk={enterDuration:450,exitDuration:400},zk=qE({passive:!0}),Kk=["mousedown","touchstart"],Gk=["mouseup","mouseleave","touchend","touchcancel"];class Yk{constructor(t,e,n,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=tk(n))}fadeInRipple(t,e,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=Object.assign(Object.assign({},Hk),n.animation);n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const o=n.radius||function(t,e,n){const r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(t,e,r),s=t-r.left,a=e-r.top,c=i.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=s-o+"px",u.style.top=a-o+"px",u.style.height=2*o+"px",u.style.width=2*o+"px",null!=n.color&&(u.style.backgroundColor=n.color),u.style.transitionDuration=c+"ms",this._containerElement.appendChild(u),window.getComputedStyle(u).getPropertyValue("opacity"),u.style.transform="scale(1)";const l=new Wk(this,u,n);return l.state=0,this._activeRipples.add(l),n.persistent||(this._mostRecentTransientRipple=l),this._runTimeoutOutsideZone(()=>{const t=l===this._mostRecentTransientRipple;l.state=1,n.persistent||t&&this._isPointerDown||l.fadeOut()},c),l}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,r=Object.assign(Object.assign({},Hk),t.config.animation);n.style.transitionDuration=r.exitDuration+"ms",n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,n.parentNode.removeChild(n)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}setupTriggerEvents(t){const e=tk(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(Kk))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Gk),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=gk(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(t=>{this._triggerElement.addEventListener(t,this,zk)})})}_removeTriggerEvents(){this._triggerElement&&(Kk.forEach(t=>{this._triggerElement.removeEventListener(t,this,zk)}),this._pointerUpEventsRegistered&&Gk.forEach(t=>{this._triggerElement.removeEventListener(t,this,zk)}))}}const Qk=new r.r("mat-ripple-global-options");let $k=(()=>{class t{constructor(t,e,n,r,i){this._elementRef=t,this._animationMode=i,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new Yk(this,e,t,n)}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(r.A),r.Mb(ME),r.Mb(Qk,8),r.Mb(AE,8))},t.\u0275dir=r.Hb({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&r.Eb("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),Xk=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[Nk,LE],Nk]}),t})(),Jk=(()=>{class t{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(AE,8))},t.\u0275cmp=r.Gb({type:t,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,e){2&t&&r.Eb("mat-pseudo-checkbox-indeterminate","indeterminate"===e.state)("mat-pseudo-checkbox-checked","checked"===e.state)("mat-pseudo-checkbox-disabled",e.disabled)("_mat-animation-noopable","NoopAnimations"===e._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,e){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),t})(),Zk=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)}}),t})();class tT{}const eT=Mk(tT);let nT=0,rT=(()=>{class t extends eT{constructor(){super(...arguments),this._labelId="mat-optgroup-label-"+nT++}}return t.\u0275fac=function(e){return iT(e||t)},t.\u0275dir=r.Hb({type:t,inputs:{label:"label"},features:[r.yb]}),t})();const iT=r.Ub(rT),oT=new r.r("MatOptgroup");let sT=0;class aT{constructor(t,e=!1){this.source=t,this.isUserInput=e}}const cT=new r.r("MAT_OPTION_PARENT_COMPONENT");let uT=(()=>{class t{constructor(t,e,n,i){this._element=t,this._changeDetectorRef=e,this._parent=n,this.group=i,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+sT++,this.onSelectionChange=new r.o,this._stateChanges=new Ft.a}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=QE(t)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,e){const n=this._getHostElement();"function"==typeof n.focus&&n.focus(e)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){13!==t.keyCode&&32!==t.keyCode||HE(t)||(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new aT(this,t))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(r.h),r.Mb(void 0),r.Mb(rT))},t.\u0275dir=r.Hb({type:t,inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"}}),t})(),lT=(()=>{class t extends uT{constructor(t,e,n,r){super(t,e,n,r)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(r.h),r.Mb(cT,8),r.Mb(oT,8))},t.\u0275cmp=r.Gb({type:t,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,e){1&t&&r.ac("click",(function(){return e._selectViaInteraction()}))("keydown",(function(t){return e._handleKeydown(t)})),2&t&&(r.Vb("id",e.id),r.Cb("tabindex",e._getTabIndex())("aria-selected",e._getAriaSelected())("aria-disabled",e.disabled.toString()),r.Eb("mat-selected",e.selected)("mat-option-multiple",e.multiple)("mat-active",e.active)("mat-option-disabled",e.disabled))},exportAs:["matOption"],features:[r.yb],ngContentSelectors:Ik,decls:4,vars:3,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"]],template:function(t,e){1&t&&(r.hc(),r.wc(0,Tk,1,2,"mat-pseudo-checkbox",0),r.Sb(1,"span",1),r.gc(2),r.Rb(),r.Nb(3,"div",2)),2&t&&(r.ic("ngIf",e.multiple),r.Bb(3),r.ic("matRippleTrigger",e._getHostElement())("matRippleDisabled",e.disabled||e.disableRipple))},directives:[V,$k,Jk],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.cdk-high-contrast-active .mat-option .mat-option-ripple{opacity:.5}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),t})();function hT(t,e,n){if(n.length){let r=e.toArray(),i=n.toArray(),o=0;for(let e=0;e<t+1;e++)r[e].group&&r[e].group===i[o]&&o++;return o}return 0}function dT(t,e,n,r){return t<n?t:t+e>n+r?Math.max(0,t-r+e):n}let fT=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[Xk,Z,Zk]]}),t})();const pT=new r.r("mat-label-global-options"),mT=["*",[["mat-card-footer"]]],gT=["*","mat-card-footer"];let bT=(()=>{class t{constructor(t){this._animationMode=t}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(AE,8))},t.\u0275cmp=r.Gb({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,e){2&t&&r.Eb("_mat-animation-noopable","NoopAnimations"===e._animationMode)},exportAs:["matCard"],ngContentSelectors:gT,decls:2,vars:0,template:function(t,e){1&t&&(r.hc(mT),r.gc(0),r.gc(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions .mat-button:first-child,.mat-card-actions .mat-raised-button:first-child,.mat-card-actions .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),t})(),vT=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[Nk],Nk]}),t})();const yT=["mat-button",""],_T=["*"],wT=".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n",ST=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class CT{constructor(t){this._elementRef=t}}const xT=Lk(Mk(Fk(CT)));let OT=(()=>{class t extends xT{constructor(t,e,n){super(t),this._focusMonitor=e,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const r of ST)this._hasHostAttributes(r)&&this._getHostElement().classList.add(r);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",e){this._focusMonitor.focusVia(this._getHostElement(),t,e)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(yk),r.Mb(AE,8))},t.\u0275cmp=r.Gb({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){var n;1&t&&r.Bc($k,!0),2&t&&r.mc(n=r.bc())&&(e.ripple=n.first)},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,e){2&t&&(r.Cb("disabled",e.disabled||null),r.Eb("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-button-disabled",e.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[r.yb],attrs:yT,ngContentSelectors:_T,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(r.hc(),r.Sb(0,"span",0),r.gc(1),r.Rb(),r.Nb(2,"span",1),r.Nb(3,"span",2)),2&t&&(r.Bb(2),r.Eb("mat-button-ripple-round",e.isRoundButton||e.isIconButton),r.ic("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[$k],styles:[wT],encapsulation:2,changeDetection:0}),t})(),ET=(()=>{class t extends OT{constructor(t,e,n){super(e,t,n)}_haltDisabledEvents(t){this.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(yk),r.Mb(r.l),r.Mb(AE,8))},t.\u0275cmp=r.Gb({type:t,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:7,hostBindings:function(t,e){1&t&&r.ac("click",(function(t){return e._haltDisabledEvents(t)})),2&t&&(r.Cb("tabindex",e.disabled?-1:e.tabIndex||0)("disabled",e.disabled||null)("aria-disabled",e.disabled.toString()),r.Eb("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-button-disabled",e.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[r.yb],attrs:yT,ngContentSelectors:_T,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(r.hc(),r.Sb(0,"span",0),r.gc(1),r.Rb(),r.Nb(2,"span",1),r.Nb(3,"span",2)),2&t&&(r.Bb(2),r.Eb("mat-button-ripple-round",e.isRoundButton||e.isIconButton),r.ic("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[$k],styles:[wT],encapsulation:2,changeDetection:0}),t})(),kT=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[Xk,Nk],Nk]}),t})(),TT=(()=>{class t{constructor(t){this.ngAuthService=t}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(cx))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-sign-in"]],decls:14,vars:0,consts:[[1,"login-wrapper"],[2,"width","300px","text-align","center"],["src","assets/axie.png"],["href","#/terms"],["href","#/privacy"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(r.Sb(0,"div",0),r.Sb(1,"mat-card",1),r.Nb(2,"img",2),r.Sb(3,"p"),r.xc(4," Axie Pad is a fan site for managers who have given out scholarships and want a method to track and store some useful information of scholars. "),r.Rb(),r.Sb(5,"p"),r.xc(6," By continuing you agree to the "),r.Sb(7,"a",3),r.xc(8,"terms of conditions"),r.Rb(),r.xc(9," and "),r.Sb(10,"a",4),r.xc(11,"privacy policy"),r.Rb(),r.Rb(),r.Sb(12,"button",5),r.ac("click",(function(){return e.ngAuthService.GoogleAuth()})),r.xc(13,"Login with Google"),r.Rb(),r.Rb(),r.Rb())},directives:[bT,OT],styles:[".login-wrapper[_ngcontent-%COMP%]{height:80vh;display:flex;justify-content:center;align-items:center}"]}),t})();var IT=function(t){return t[t.ronin=0]="ronin",t[t.eth=1]="eth",t}({}),RT=n("1yQU"),AT=n.n(RT),PT=n("LvDl"),DT=n("n6bG");function jT(t,e,n,r){return Object(DT.a)(n)&&(r=n,n=void 0),r?jT(t,e,n).pipe(Object(te.a)(t=>Object(Ht.a)(t)?r(...t):r(t))):new Ut.a(r=>{!function t(e,n,r,i,o){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,r,o),s=()=>t.removeEventListener(n,r,o)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,r),s=()=>t.off(n,r)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,r),s=()=>t.removeListener(n,r)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let s=0,a=e.length;s<a;s++)t(e[s],n,r,i,o)}i.add(s)}(t,e,(function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),r,n)})}n("3N8a"),n("IjjT");var NT=n("7Hc7");class MT{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new LT(t,this.durationSelector))}}class LT extends zt.a{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const r=Object(Kt.a)(this,n);!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))}notifyNext(t,e,n,r){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var FT=n("Y7HM");function VT(t=0,e,n){let r=-1;return Object(FT.a)(e)?r=Number(e)<1?1:Number(e):Object(Wt.a)(e)&&(n=e),Object(Wt.a)(n)||(n=yC.a),new Ut.a(e=>{const i=Object(FT.a)(t)?t:+t-n.now();return n.schedule(BT,i,{index:0,period:r,subscriber:e})})}function BT(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function UT(t,e=yC.a){return n=()=>VT(t,e),function(t){return t.lift(new MT(n))};var n}function qT(t){return e=>e.lift(new WT(t))}class WT{constructor(t){this.notifier=t}call(t,e){const n=new HT(t),r=Object(Kt.a)(n,this.notifier);return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class HT extends zt.a{constructor(t){super(t),this.seenValue=!1}notifyNext(t,e,n,r,i){this.seenValue=!0,this.complete()}notifyComplete(){}}function zT(t){return t&&"function"==typeof t.connect}class KT{applyChanges(t,e,n,r,i){t.forEachOperation((t,r,o)=>{let s,a;if(null==t.previousIndex){const i=n(t,r,o);s=e.createEmbeddedView(i.templateRef,i.context,i.index),a=1}else null==o?(e.remove(r),a=3):(s=e.get(r),e.move(s,o),a=2);i&&i({context:null==s?void 0:s.context,operation:a,record:t})})}detach(){}}class GT{constructor(t=!1,e,n=!0){this._multiple=t,this._emitChanges=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Ft.a,e&&e.length&&(t?e.forEach(t=>this._markSelected(t)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}}const YT=new r.r("_ViewRepeater");let QT=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new Ft.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Ut.a(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(UT(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Object(Mt.a)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(ie(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,r)=>{this._scrollableContainsElement(r,t)&&e.push(r)}),e}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollableContainsElement(t,e){let n=e.nativeElement,r=t.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>jT(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(r.A),r.Wb(ME),r.Wb(a,8))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Wb)(r.A),Object(r.Wb)(ME),Object(r.Wb)(a,8))},token:t,providedIn:"root"}),t})(),$T=(()=>{class t{constructor(t,e,n){this._platform=t,this._change=new Ft.a,this._changeListener=t=>{this._change.next(t)},this._document=n,e.runOutsideAngular(()=>{if(t.isBrowser){const t=this._getWindow();t.addEventListener("resize",this._changeListener),t.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._getDocument(),e=this._getWindow(),n=t.documentElement,r=n.getBoundingClientRect();return{top:-r.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-r.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(UT(t)):this._change}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(ME),r.Wb(r.A),r.Wb(a,8))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Wb)(ME),Object(r.Wb)(r.A),Object(r.Wb)(a,8))},token:t,providedIn:"root"}),t})(),XT=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)}}),t})(),JT=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[Ek,LE,XT],Ek,XT]}),t})();class ZT{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class tI extends ZT{constructor(t,e,n,r){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r}}class eI extends ZT{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class nI extends ZT{constructor(t){super(),this.element=t instanceof r.l?t.nativeElement:t}}class rI{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof tI?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof eI?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof nI?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class iI extends rI{constructor(t,e,n,r,i){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=i}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),n.detectChanges(),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let oI=(()=>{class t extends eI{constructor(t,e){super(t,e)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.M),r.Mb(r.R))},t.\u0275dir=r.Hb({type:t,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[r.yb]}),t})(),sI=(()=>{class t extends rI{constructor(t,e,n){super(),this._componentFactoryResolver=t,this._viewContainerRef=e,this._isInitialized=!1,this.attached=new r.o,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");t.setAttachedHost(this),e.parentNode.insertBefore(n,e),this._getRootNode().appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=n}get portal(){return this._attachedPortal}set portal(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),r=e.createComponent(n,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(t){t.setAttachedHost(this);const e=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=e,this.attached.emit(e),e}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.j),r.Mb(r.R),r.Mb(a))},t.\u0275dir=r.Hb({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[r.yb]}),t})(),aI=(()=>{class t extends sI{}return t.\u0275fac=function(e){return cI(e||t)},t.\u0275dir=r.Hb({type:t,selectors:[["","cdkPortalHost",""],["","portalHost",""]],inputs:{portal:["cdkPortalHost","portal"]},exportAs:["cdkPortalHost"],features:[r.Ab([{provide:sI,useExisting:t}]),r.yb]}),t})();const cI=r.Ub(aI);let uI=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)}}),t})();class lI{constructor(t,e){this.predicate=t,this.inclusive=e}call(t,e){return e.subscribe(new hI(t,this.predicate,this.inclusive))}}class hI extends re.a{constructor(t,e,n){super(t),this.predicate=e,this.inclusive=n,this.index=0}_next(t){const e=this.destination;let n;try{n=this.predicate(t,this.index++)}catch(r){return void e.error(r)}this.nextOrComplete(t,n)}nextOrComplete(t,e){const n=this.destination;Boolean(e)?n.next(t):(this.inclusive&&n.next(t),n.complete())}}class dI{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=ZE(-this._previousScrollPosition.left),t.style.top=ZE(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,r=e.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),e.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e.scrollBehavior=r,n.scrollBehavior=i}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}class fI{constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class pI{enable(){}disable(){}attach(){}}function mI(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function gI(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class bI{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();mI(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let vI=(()=>{class t{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new pI,this.close=t=>new fI(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new dI(this._viewportRuler,this._document),this.reposition=t=>new bI(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=r}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(QT),r.Wb($T),r.Wb(r.A),r.Wb(a))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Wb)(QT),Object(r.Wb)($T),Object(r.Wb)(r.A),Object(r.Wb)(a))},token:t,providedIn:"root"}),t})();class yI{constructor(t){if(this.scrollStrategy=new pI,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class _I{constructor(t,e,n,r,i){this.offsetX=n,this.offsetY=r,this.panelClass=i,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class wI{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let SI=(()=>{class t{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this.detach()}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(a))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Wb)(a))},token:t,providedIn:"root"}),t})(),CI=(()=>{class t extends SI{constructor(t){super(t),this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEvents.observers.length>0){e[n]._keydownEvents.next(t);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(a))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Wb)(a))},token:t,providedIn:"root"}),t})(),xI=(()=>{class t extends SI{constructor(t,e){super(t),this._platform=e,this._cursorStyleIsSet=!1,this._clickListener=t=>{const e=t.composedPath?t.composedPath()[0]:t.target,n=this._attachedOverlays.slice();for(let r=n.length-1;r>-1;r--){const i=n[r];if(!(i._outsidePointerEvents.observers.length<1)&&i.hasAttached()){if(i.overlayElement.contains(e))break;i._outsidePointerEvents.next(t)}}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("click",this._clickListener,!0),this._document.body.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=this._document.body.style.cursor,this._document.body.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("click",this._clickListener,!0),this._document.body.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(a),r.Wb(ME))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Wb)(a),Object(r.Wb)(ME))},token:t,providedIn:"root"}),t})();const OI=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let EI=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._platform?this._platform.isBrowser:"undefined"!=typeof window;if(t||OI){const t=this._document.querySelectorAll('.cdk-overlay-container[platform="server"], .cdk-overlay-container[platform="test"]');for(let e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e])}const e=this._document.createElement("div");e.classList.add("cdk-overlay-container"),OI?e.setAttribute("platform","test"):t||e.setAttribute("platform","server"),this._document.body.appendChild(e),this._containerElement=e}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(a),r.Wb(ME))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Wb)(a),Object(r.Wb)(ME))},token:t,providedIn:"root"}),t})();class kI{constructor(t,e,n,r,i,o,s,a,c){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=i,this._keyboardDispatcher=o,this._document=s,this._location=a,this._outsideClickDispatcher=c,this._backdropElement=null,this._backdropClick=new Ft.a,this._attachments=new Ft.a,this._detachments=new Ft.a,this._locationChanges=Be.a.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEvents=new Ft.a,this._outsidePointerEvents=new Ft.a,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Ce(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher&&this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher&&this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher&&this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=ZE(this._config.width),t.height=ZE(this._config.height),t.minWidth=ZE(this._config.minWidth),t.minHeight=ZE(this._config.minHeight),t.maxWidth=ZE(this._config.maxWidth),t.maxHeight=ZE(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"auto":"none"}_attachBackdrop(){this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const r=t.classList;JE(e).forEach(t=>{t&&(n?r.add(t):r.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(qT(Object(IC.a)(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const TI=/([A-Za-z%]+)$/;class II{constructor(t,e,n,r,i){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=i,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ft.a,this._resizeSubscription=Be.a.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=[];let i;for(let o of this._preferredPositions){let s=this._getOriginPoint(t,o),a=this._getOverlayPoint(s,e,o),c=this._getOverlayFit(a,e,n,o);if(c.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(o,s);this._canFitWithFlexibleDimensions(c,a,n)?r.push({position:o,origin:s,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(s,o)}):(!i||i.overlayFit.visibleArea<c.visibleArea)&&(i={overlayFit:c,overlayPoint:a,originPoint:s,position:o,overlayRect:e})}if(r.length){let t=null,e=-1;for(const n of r){const r=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);r>e&&(e=r,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(i.position,i.originPoint);this._applyPosition(i.position,i.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&RI(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,r;if("center"==e.originX)n=t.left+t.width/2;else{const r=this._isRtl()?t.right:t.left,i=this._isRtl()?t.left:t.right;n="start"==e.originX?r:i}return r="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:n,y:r}}_getOverlayPoint(t,e,n){let r,i;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,i="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+r,y:t.y+i}}_getOverlayFit(t,e,n,r){let{x:i,y:o}=t,s=this._getOffset(r,"x"),a=this._getOffset(r,"y");s&&(i+=s),a&&(o+=a);let c=0-o,u=o+e.height-n.height,l=this._subtractOverflows(e.width,0-i,i+e.width-n.width),h=this._subtractOverflows(e.height,c,u),d=l*h;return{visibleArea:d,isCompletelyWithinViewport:e.width*e.height===d,fitsInViewportVertically:h===e.height,fitsInViewportHorizontally:l==e.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const r=n.bottom-e.y,i=n.right-e.x,o=AI(this._overlayRef.getConfig().minHeight),s=AI(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportHorizontally||null!=s&&s<=i;return(t.fitsInViewportVertically||null!=o&&o<=r)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=this._viewportRect,i=Math.max(t.x+e.width-r.width,0),o=Math.max(t.y+e.height-r.height,0),s=Math.max(r.top-n.top-t.y,0),a=Math.max(r.left-n.left-t.x,0);let c=0,u=0;return c=e.width<=r.width?a||-i:t.x<this._viewportMargin?r.left-n.left-t.x:0,u=e.height<=r.height?s||-o:t.y<this._viewportMargin?r.top-n.top-t.y:0,this._previousPushAmount={x:c,y:u},{x:t.x+c,y:t.y+u}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new wI(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let i=0;i<e.length;i++)e[i].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,r=this._isRtl();let i,o,s,a,c,u;if("top"===e.overlayY)o=t.y,i=n.height-o+this._viewportMargin;else if("bottom"===e.overlayY)s=n.height-t.y+2*this._viewportMargin,i=n.height-s+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),r=this._lastBoundingBoxSize.height;i=2*e,o=t.y-e,i>r&&!this._isInitialRender&&!this._growAfterOpen&&(o=t.y-r/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)u=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)c=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),r=this._lastBoundingBoxSize.width;a=2*e,c=t.x-e,a>r&&!this._isInitialRender&&!this._growAfterOpen&&(c=t.x-r/2)}return{top:o,left:c,bottom:s,right:u,width:a,height:i}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,i=this._overlayRef.getConfig().maxWidth;r.height=ZE(n.height),r.top=ZE(n.top),r.bottom=ZE(n.bottom),r.width=ZE(n.width),r.left=ZE(n.left),r.right=ZE(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(r.maxHeight=ZE(t)),i&&(r.maxWidth=ZE(i))}this._lastBoundingBoxSize=n,RI(this._boundingBox.style,r)}_resetBoundingBoxStyles(){RI(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){RI(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},r=this._hasExactPosition(),i=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){const r=this._viewportRuler.getViewportScrollPosition();RI(n,this._getExactOverlayY(e,t,r)),RI(n,this._getExactOverlayX(e,t,r))}else n.position="static";let s="",a=this._getOffset(e,"x"),c=this._getOffset(e,"y");a&&(s+=`translateX(${a}px) `),c&&(s+=`translateY(${c}px)`),n.transform=s.trim(),o.maxHeight&&(r?n.maxHeight=ZE(o.maxHeight):i&&(n.maxHeight="")),o.maxWidth&&(r?n.maxWidth=ZE(o.maxWidth):i&&(n.maxWidth="")),RI(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:"",bottom:""},i=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));let o=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return i.y-=o,"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)+"px":r.top=ZE(i.y),r}_getExactOverlayX(t,e,n){let r,i={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),r=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===r?i.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":i.left=ZE(o.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:gI(t,n),isOriginOutsideView:mI(t,n),isOverlayClipped:gI(e,n),isOverlayOutsideView:mI(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&JE(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof r.l)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function RI(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function AI(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split(TI);return n&&"px"!==n?null:parseFloat(e)}return t||null}class PI{constructor(t,e,n,r,i,o,s){this._preferredPositions=[],this._positionStrategy=new II(n,r,i,o,s).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,r){const i=new _I(t,e,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}class DI{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:i,maxWidth:o,maxHeight:s}=n,a=!("100%"!==r&&"100vw"!==r||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==i&&"100vh"!==i||s&&"100%"!==s&&"100vh"!==s);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove("cdk-global-overlay-wrapper"),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let jI=(()=>{class t{constructor(t,e,n,r){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=r}global(){return new DI}connectedTo(t,e,n){return new PI(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new II(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb($T),r.Wb(a),r.Wb(ME),r.Wb(EI))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Wb)($T),Object(r.Wb)(a),Object(r.Wb)(ME),Object(r.Wb)(EI))},token:t,providedIn:"root"}),t})(),NI=0,MI=(()=>{class t{constructor(t,e,n,r,i,o,s,a,c,u,l){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=r,this._keyboardDispatcher=i,this._injector=o,this._ngZone=s,this._document=a,this._directionality=c,this._location=u,this._outsideClickDispatcher=l}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),r=this._createPortalOutlet(n),i=new yI(t);return i.direction=i.direction||this._directionality.value,new kI(r,e,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id="cdk-overlay-"+NI++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(r.g)),new iI(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(vI),r.Wb(EI),r.Wb(r.j),r.Wb(jI),r.Wb(CI),r.Wb(r.s),r.Wb(r.A),r.Wb(a),r.Wb(Ok),r.Wb(S),r.Wb(xI))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const LI=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],FI=new r.r("cdk-connected-overlay-scroll-strategy");let VI=(()=>{class t{constructor(t){this.elementRef=t}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),t})(),BI=(()=>{class t{constructor(t,e,n,i,o){this._overlay=t,this._dir=o,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Be.a.EMPTY,this._attachSubscription=Be.a.EMPTY,this._detachSubscription=Be.a.EMPTY,this._positionSubscription=Be.a.EMPTY,this.viewportMargin=0,this.open=!1,this.backdropClick=new r.o,this.positionChange=new r.o,this.attach=new r.o,this.detach=new r.o,this.overlayKeydown=new r.o,this.overlayOutsideClick=new r.o,this._templatePortal=new eI(e,n),this._scrollStrategyFactory=i,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=QE(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=QE(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=QE(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=QE(t)}get push(){return this._push}set push(t){this._push=QE(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){this.positions&&this.positions.length||(this.positions=LI);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(t=>{this.overlayKeydown.next(t),27!==t.keyCode||HE(t)||(t.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(t=>{this.overlayOutsideClick.next(t)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),e=new yI({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(e.width=this.width),(this.height||0===this.height)&&(e.height=this.height),(this.minWidth||0===this.minWidth)&&(e.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(e.minHeight=this.minHeight),this.backdropClass&&(e.backdropClass=this.backdropClass),this.panelClass&&(e.panelClass=this.panelClass),e}_updatePositionStrategy(t){const e=this.positions.map(t=>({originX:t.originX,originY:t.originY,overlayX:t.overlayX,overlayY:t.overlayY,offsetX:t.offsetX||this.offsetX,offsetY:t.offsetY||this.offsetY,panelClass:t.panelClass||void 0}));return t.setOrigin(this.origin.elementRef).withPositions(e).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(t),t}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(t,e=!1){return n=>n.lift(new lI(t,e))}(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(MI),r.Mb(r.M),r.Mb(r.R),r.Mb(FI),r.Mb(Ok,8))},t.\u0275dir=r.Hb({type:t,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[r.zb]}),t})();const UI={provide:FI,deps:[MI],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let qI=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[MI,UI],imports:[[Ek,uI,JT],JT]}),t})();function WI(t,e){}class HI{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const zI={dialogContainer:lx("dialogContainer",[mx("void, exit",px({opacity:0,transform:"scale(0.7)"})),mx("enter",px({transform:"none"})),bx("* => enter",hx("150ms cubic-bezier(0, 0, 0.2, 1)",px({transform:"none",opacity:1}))),bx("* => void, * => exit",hx("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",px({opacity:0})))])};let KI=(()=>{class t extends rI{constructor(t,e,n,i,o,s){super(),this._elementRef=t,this._focusTrapFactory=e,this._changeDetectorRef=n,this._config=o,this._focusMonitor=s,this._animationStateChanged=new r.o,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=t=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(t)),this._ariaLabelledBy=o.ariaLabelledBy||null,this._document=i}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const e=this._document.activeElement,n=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==n&&!n.contains(e)||(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement)}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,e=this._document.activeElement;return t===e||t.contains(e)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(dk),r.Mb(r.h),r.Mb(a,8),r.Mb(HI),r.Mb(yk))},t.\u0275dir=r.Hb({type:t,viewQuery:function(t,e){var n;1&t&&r.sc(sI,!0),2&t&&r.mc(n=r.bc())&&(e._portalOutlet=n.first)},features:[r.yb]}),t})(),GI=(()=>{class t extends KI{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:e}){"enter"===t?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:e}))}_onAnimationStart({toState:t,totalTime:e}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:e}):"exit"!==t&&"void"!==t||this._animationStateChanged.next({state:"closing",totalTime:e})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return YI(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,e){1&t&&r.uc("@dialogContainer.start",(function(t){return e._onAnimationStart(t)}))("@dialogContainer.done",(function(t){return e._onAnimationDone(t)})),2&t&&(r.Vb("id",e._id),r.Cb("role",e._config.role)("aria-labelledby",e._config.ariaLabel?null:e._ariaLabelledBy)("aria-label",e._config.ariaLabel)("aria-describedby",e._config.ariaDescribedBy||null),r.vc("@dialogContainer",e._state))},features:[r.yb],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&r.wc(0,WI,0,0,"ng-template",0)},directives:[sI],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[zI.dialogContainer]}}),t})();const YI=r.Ub(GI);let QI=0;class $I{constructor(t,e,n="mat-dialog-"+QI++){this._overlayRef=t,this._containerInstance=e,this.id=n,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new Ft.a,this._afterClosed=new Ft.a,this._beforeClosed=new Ft.a,this._state=0,e._id=n,e._animationStateChanged.pipe(ie(t=>"opened"===t.state),Ce(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(ie(t=>"closed"===t.state),Ce(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(ie(t=>27===t.keyCode&&!this.disableClose&&!HE(t))).subscribe(t=>{t.preventDefault(),XI(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():XI(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(ie(t=>"closing"===t.state),Ce(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._getPositionStrategy().width(t).height(e),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function XI(t,e,n){return void 0!==t._containerInstance&&(t._containerInstance._closeInteractionType=e),t.close(n)}const JI=new r.r("MatDialogData"),ZI=new r.r("mat-dialog-default-options"),tR=new r.r("mat-dialog-scroll-strategy"),eR={provide:tR,deps:[MI],useFactory:function(t){return()=>t.scrollStrategies.block()}};let nR=(()=>{class t{constructor(t,e,n,r,i,o,s,a,c){this._overlay=t,this._injector=e,this._defaultOptions=n,this._parentDialog=r,this._overlayContainer=i,this._dialogRefConstructor=s,this._dialogContainerType=a,this._dialogDataToken=c,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ft.a,this._afterOpenedAtThisLevel=new Ft.a,this._ariaHiddenElements=new Map,this.afterAllClosed=Zt(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ne(void 0))),this._scrollStrategy=o}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,e){(e=function(t,e){return Object.assign(Object.assign({},e),t)}(e,this._defaultOptions||new HI)).id&&this.getDialogById(e.id);const n=this._createOverlay(e),r=this._attachDialogContainer(n,e),i=this._attachDialogContent(t,r,n,e);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(i),i.afterClosed().subscribe(()=>this._removeOpenDialog(i)),this.afterOpened.next(i),r._initializeWithAttachedContent(),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(e=>e.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const e=this._getOverlayConfig(t);return this._overlay.create(e)}_getOverlayConfig(t){const e=new yI({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(e.backdropClass=t.backdropClass),e}_attachDialogContainer(t,e){const n=r.s.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:HI,useValue:e}]}),i=new tI(this._dialogContainerType,e.viewContainerRef,n,e.componentFactoryResolver);return t.attach(i).instance}_attachDialogContent(t,e,n,i){const o=new this._dialogRefConstructor(n,e,i.id);if(t instanceof r.M)e.attachTemplatePortal(new eI(t,null,{$implicit:i.data,dialogRef:o}));else{const n=this._createInjector(i,o,e),r=e.attachComponentPortal(new tI(t,i.viewContainerRef,n));o.componentInstance=r.instance}return o.updateSize(i.width,i.height).updatePosition(i.position),o}_createInjector(t,e,n){const i=t&&t.viewContainerRef&&t.viewContainerRef.injector,o=[{provide:this._dialogContainerType,useValue:n},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:e}];return!t.direction||i&&i.get(Ok,null)||o.push({provide:Ok,useValue:{value:t.direction,change:Object(Mt.a)()}}),r.s.create({parent:i||this._injector,providers:o})}_removeOpenDialog(t){const e=this.openDialogs.indexOf(t);e>-1&&(this.openDialogs.splice(e,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const e=t.parentElement.children;for(let n=e.length-1;n>-1;n--){let r=e[n];r===t||"SCRIPT"===r.nodeName||"STYLE"===r.nodeName||r.hasAttribute("aria-live")||(this._ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let e=t.length;for(;e--;)t[e].close()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(MI),r.Mb(r.s),r.Mb(void 0),r.Mb(void 0),r.Mb(EI),r.Mb(void 0),r.Mb(r.O),r.Mb(r.O),r.Mb(r.r))},t.\u0275dir=r.Hb({type:t}),t})(),rR=(()=>{class t extends nR{constructor(t,e,n,r,i,o,s){super(t,e,r,o,s,i,$I,GI,JI)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(MI),r.Wb(r.s),r.Wb(S,8),r.Wb(ZI,8),r.Wb(tR),r.Wb(t,12),r.Wb(EI))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),iR=0,oR=(()=>{class t{constructor(t,e,n){this.dialogRef=t,this._elementRef=e,this._dialog=n,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=uR(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){const e=t._matDialogClose||t._matDialogCloseResult;e&&(this.dialogResult=e.currentValue)}_onButtonClick(t){XI(this.dialogRef,0===t.screenX&&0===t.screenY?"keyboard":"mouse",this.dialogResult)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb($I,8),r.Mb(r.l),r.Mb(rR))},t.\u0275dir=r.Hb({type:t,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.ac("click",(function(t){return e._onButtonClick(t)})),2&t&&r.Cb("aria-label",e.ariaLabel||null)("type",e.type)},inputs:{type:"type",dialogResult:["mat-dialog-close","dialogResult"],ariaLabel:["aria-label","ariaLabel"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[r.zb]}),t})(),sR=(()=>{class t{constructor(t,e,n){this._dialogRef=t,this._elementRef=e,this._dialog=n,this.id="mat-dialog-title-"+iR++}ngOnInit(){this._dialogRef||(this._dialogRef=uR(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const t=this._dialogRef._containerInstance;t&&!t._ariaLabelledBy&&(t._ariaLabelledBy=this.id)})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb($I,8),r.Mb(r.l),r.Mb(rR))},t.\u0275dir=r.Hb({type:t,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(t,e){2&t&&r.Vb("id",e.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),t})(),aR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Hb({type:t,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),t})(),cR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Hb({type:t,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),t})();function uR(t,e){let n=t.nativeElement.parentElement;for(;n&&!n.classList.contains("mat-dialog-container");)n=n.parentElement;return n?e.find(t=>t.id===n.id):null}let lR=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[rR,eR],imports:[[qI,uI,Nk],Nk]}),t})(),hR=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e}onNoClick(){this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb($I),r.Mb(JI))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-delete-dialog"]],decls:7,vars:1,consts:[["mat-dialog-title",""],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(t,e){1&t&&(r.Sb(0,"h1",0),r.xc(1,"Are your sure?"),r.Rb(),r.Sb(2,"div",1),r.Sb(3,"button",2),r.ac("click",(function(){return e.onNoClick()})),r.xc(4,"Cancel"),r.Rb(),r.Sb(5,"button",3),r.xc(6,"Delete"),r.Rb(),r.Rb()),2&t&&(r.Bb(5),r.ic("mat-dialog-close",!0))},directives:[sR,cR,OT,oR],styles:[""]}),t})();var dR=n("XoHu");function fR(...t){if(1===t.length){const e=t[0];if(Object(Ht.a)(e))return pR(e,null);if(Object(dR.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return pR(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return pR(t=1===t.length&&Object(Ht.a)(t[0])?t[0]:t,null).pipe(Object(te.a)(t=>e(...t)))}return pR(t,null)}function pR(t,e){return new Ut.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const c=Object(Lt.a)(t[a]);let u=!1;n.add(c.subscribe({next:t=>{u||(u=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&u||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const mR=new r.r("NgValueAccessor"),gR={provide:mR,useExisting:Object(r.V)(()=>bR),multi:!0};let bR=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.F),r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.ac("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[r.Ab([gR])]}),t})();const vR={provide:mR,useExisting:Object(r.V)(()=>_R),multi:!0},yR=new r.r("CompositionEventMode");let _R=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=s()?s().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.F),r.Mb(r.l),r.Mb(yR,8))},t.\u0275dir=r.Hb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.ac("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[r.Ab([vR])]}),t})(),wR=(()=>{class t{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Hb({type:t}),t})(),SR=(()=>{class t extends wR{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return CR(e||t)},t.\u0275dir=r.Hb({type:t,features:[r.yb]}),t})();const CR=r.Ub(SR);function xR(){throw new Error("unimplemented")}class OR extends wR{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return xR()}get asyncValidator(){return xR()}}class ER{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let kR=(()=>{class t extends ER{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(OR,2))},t.\u0275dir=r.Hb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Eb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.yb]}),t})(),TR=(()=>{class t extends ER{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(SR,2))},t.\u0275dir=r.Hb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Eb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.yb]}),t})();function IR(t){return null==t||0===t.length}function RR(t){return null!=t&&"number"==typeof t.length}const AR=new r.r("NgValidators"),PR=new r.r("NgAsyncValidators"),DR=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class jR{static min(t){return e=>{if(IR(e.value)||IR(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(IR(e.value)||IR(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return IR(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return IR(t.value)||DR.test(t.value)?null:{email:!0}}static minLength(t){return e=>IR(e.value)||!RR(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>RR(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return jR.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(IR(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(NR);return 0==e.length?null:function(t){return LR(FR(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(NR);return 0==e.length?null:function(t){return fR(FR(t,e).map(MR)).pipe(Object(te.a)(LR))}}}function NR(t){return null!=t}function MR(t){const e=Object(r.tb)(t)?Object(Lt.a)(t):t;if(!Object(r.sb)(e))throw new Error("Expected validator to return Promise or Observable.");return e}function LR(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function FR(t,e){return e.map(e=>e(t))}function VR(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}const BR={provide:mR,useExisting:Object(r.V)(()=>UR),multi:!0};let UR=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.F),r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.ac("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.Ab([BR])]}),t})();const qR={provide:mR,useExisting:Object(r.V)(()=>HR),multi:!0};let WR=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),HR=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(OR),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.F),r.Mb(r.l),r.Mb(WR),r.Mb(r.s))},t.\u0275dir=r.Hb({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.ac("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.Ab([qR])]}),t})();const zR={provide:mR,useExisting:Object(r.V)(()=>KR),multi:!0};let KR=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.F),r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.ac("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.Ab([zR])]}),t})();const GR='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',YR='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',QR='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>';class $R{static controlParentException(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+GR)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${YR}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ${QR}`)}static missingFormException(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+GR)}static groupParentException(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+YR)}static arrayParentException(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n\n      Example:\n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(t){console.warn(`\n    It looks like you're using ngModel on the same form field as ${t}.\n    Support for using the ngModel input property and ngModelChange event with\n    reactive form directives has been deprecated in Angular v6 and will be removed\n    in a future version of Angular.\n\n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===t?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}const XR={provide:mR,useExisting:Object(r.V)(()=>JR),multi:!0};let JR=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.F),r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.ac("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.Ab([XR])]}),t})();const ZR={provide:mR,useExisting:Object(r.V)(()=>tA),multi:!0};let tA=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.F),r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.ac("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.Ab([ZR])]}),t})();function eA(t,e){return[...e.path,t]}function nA(t,e){t||sA(e,"Cannot find control with"),e.valueAccessor||sA(e,"No value accessor for form control with"),t.validator=jR.compose([t.validator,e.validator]),t.asyncValidator=jR.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&rA(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&rA(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function rA(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function iA(t,e){null==t&&sA(e,"Cannot find control with"),t.validator=jR.compose([t.validator,e.validator]),t.asyncValidator=jR.composeAsync([t.asyncValidator,e.asyncValidator])}function oA(t){return sA(t,"There is no FormControl instance attached to form control element with")}function sA(t,e){let n;throw n=t.path.length>1?`path: '${t.path.join(" -> ")}'`:t.path[0]?`name: '${t.path}'`:"unspecified name attribute",new Error(`${e} ${n}`)}function aA(t){return null!=t?jR.compose(VR(t)):null}function cA(t){return null!=t?jR.composeAsync(VR(t)):null}function uA(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}const lA=[bR,KR,UR,JR,tA,HR];function hA(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function dA(t,e){if(!e)return null;Array.isArray(e)||sA(t,"Value accessor was not provided as an array for form control with");let n=void 0,r=void 0,i=void 0;return e.forEach(e=>{var o;e.constructor===_R?n=e:(o=e,lA.some(t=>o.constructor===t)?(r&&sA(t,"More than one built-in value accessor matches form control with"),r=e):(i&&sA(t,"More than one custom value accessor matches form control with"),i=e))}),i||r||n||(sA(t,"No valid value accessor for form control with"),null)}function fA(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function pA(t){const e=gA(t)?t.validators:t;return Array.isArray(e)?aA(e):e||null}function mA(t,e){const n=gA(e)?e.asyncValidators:t;return Array.isArray(n)?cA(n):n||null}function gA(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class bA{constructor(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this.validator=pA(t)}setAsyncValidators(t){this.asyncValidator=mA(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status="PENDING";const e=MR(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>this.setErrors(e,{emitEvent:t}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof yA?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof _A&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.o,this.statusChanges=new r.o}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){gA(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class vA extends bA{constructor(t=null,e,n){super(pA(e),mA(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class yA extends bA{constructor(t,e,n){super(pA(e),mA(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof vA?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class _A extends bA{constructor(t,e,n){super(pA(e),mA(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof vA?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const wA={provide:SR,useExisting:Object(r.V)(()=>CA)},SA=(()=>Promise.resolve(null))();let CA=(()=>{class t extends SR{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.o,this.form=new yA({},aA(t),cA(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){SA.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),nA(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){SA.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),fA(this._directives,t)})}addFormGroup(t){SA.then(()=>{const e=this._findContainer(t.path),n=new yA({});iA(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){SA.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){SA.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,hA(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(AR,10),r.Mb(PR,10))},t.\u0275dir=r.Hb({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.ac("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Ab([wA]),r.yb]}),t})(),xA=(()=>{class t extends SR{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return eA(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return aA(this._validators)}get asyncValidator(){return cA(this._asyncValidators)}_checkParentType(){}}return t.\u0275fac=function(e){return OA(e||t)},t.\u0275dir=r.Hb({type:t,features:[r.yb]}),t})();const OA=r.Ub(xA);class EA{static modelParentException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup's partner directive "formControlName" instead.  Example:\n\n      ${GR}\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  `)}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${YR}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${QR}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${YR}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${QR}`)}}const kA={provide:SR,useExisting:Object(r.V)(()=>TA)};let TA=(()=>{class t extends xA{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){this._parent instanceof t||this._parent instanceof CA||EA.modelGroupParentException()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(SR,5),r.Mb(AR,10),r.Mb(PR,10))},t.\u0275dir=r.Hb({type:t,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[r.Ab([kA]),r.yb]}),t})();const IA={provide:OR,useExisting:Object(r.V)(()=>AA)},RA=(()=>Promise.resolve(null))();let AA=(()=>{class t extends OR{constructor(t,e,n,i){super(),this.control=new vA,this._registered=!1,this.update=new r.o,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=dA(this,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),uA(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?eA(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return aA(this._rawValidators)}get asyncValidator(){return cA(this._rawAsyncValidators)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){nA(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof TA)&&this._parent instanceof xA?EA.formGroupNameException():this._parent instanceof TA||this._parent instanceof CA||EA.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||EA.missingNameException()}_updateValue(t){RA.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;RA.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(SR,9),r.Mb(AR,10),r.Mb(PR,10),r.Mb(mR,10))},t.\u0275dir=r.Hb({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.Ab([IA]),r.yb,r.zb]}),t})(),PA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Hb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const DA=new r.r("NgModelWithFormControlWarning"),jA={provide:OR,useExisting:Object(r.V)(()=>NA)};let NA=(()=>{class t extends OR{constructor(t,e,n,i){super(),this._ngModelWarningConfig=i,this.update=new r.o,this._ngModelWarningSent=!1,this._rawValidators=t||[],this._rawAsyncValidators=e||[],this.valueAccessor=dA(this,n)}set isDisabled(t){$R.disabledAttrWarning()}ngOnChanges(e){this._isControlChanged(e)&&(nA(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),uA(e,this.viewModel)&&(function(t,e,n,i){Object(r.X)()&&"never"!==i&&((null!==i&&"once"!==i||e._ngModelWarningSentOnce)&&("always"!==i||n._ngModelWarningSent)||($R.ngModelWarning("formControl"),e._ngModelWarningSentOnce=!0,n._ngModelWarningSent=!0))}(0,t,this,this._ngModelWarningConfig),this.form.setValue(this.model),this.viewModel=this.model)}get path(){return[]}get validator(){return aA(this._rawValidators)}get asyncValidator(){return cA(this._rawAsyncValidators)}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(AR,10),r.Mb(PR,10),r.Mb(mR,10),r.Mb(DA,8))},t.\u0275dir=r.Hb({type:t,selectors:[["","formControl",""]],inputs:{isDisabled:["disabled","isDisabled"],form:["formControl","form"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[r.Ab([jA]),r.yb,r.zb]}),t._ngModelWarningSentOnce=!1,t})();const MA={provide:SR,useExisting:Object(r.V)(()=>LA)};let LA=(()=>{class t extends SR{constructor(t,e){super(),this._validators=t,this._asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new r.o}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return nA(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){fA(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);iA(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);iA(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,hA(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){e.valueAccessor.registerOnChange(()=>oA(e)),e.valueAccessor.registerOnTouched(()=>oA(e)),e._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(t.control,t),e&&nA(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const t=aA(this._validators);this.form.validator=jR.compose([this.form.validator,t]);const e=cA(this._asyncValidators);this.form.asyncValidator=jR.composeAsync([this.form.asyncValidator,e])}_checkFormPresent(){this.form||$R.missingFormException()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(AR,10),r.Mb(PR,10))},t.\u0275dir=r.Hb({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.ac("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Ab([MA]),r.yb,r.zb]}),t})(),FA=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)}}),t})(),VA=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r=null,i=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new yA(n,{asyncValidators:i,updateOn:o,validators:r})}control(t,e,n){return new vA(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new _A(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof vA||t instanceof yA||t instanceof _A?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),BA=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[WR],imports:[FA]}),t})(),UA=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:DA,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[VA,WR],imports:[FA]}),t})();var qA=n("oB13"),WA=n("x+ZX"),HA=n("a7t3"),zA=(n("4yVj"),n("UYTu")),KA=n("Nlz5"),GA=n("kJWO");function YA(t){return new Ut.a(e=>(t().then(t=>{e.closed||(e.next(t),e.complete())},t=>{e.closed||e.error(t)}),()=>e.unsubscribe()))}class QA{constructor(t){this.zone=t,this.now=Date.now?Date.now:()=>+new Date}schedule(t,e=0,n){return this.zone.run(()=>RC.a.schedule(t,e,n))}}function $A(t){return t[GA.a]=()=>t,t}function XA(t,e){return t.pipe(Object(EC.b)(new QA(e)))}class JA{constructor(t,e,n){this.obsQuery=t;const r=XA(Object(Lt.a)($A(this.obsQuery)),e);this.valueChanges=n.useInitialLoading?r.pipe(Ne(Object.assign(Object.assign({},this.obsQuery.getCurrentResult(!1)),{error:void 0,partial:void 0,stale:!0}))):r,this.queryId=this.obsQuery.queryId}result(){return this.obsQuery.result()}getCurrentResult(){return this.obsQuery.getCurrentResult()}getLastResult(){return this.obsQuery.getLastResult()}getLastError(){return this.obsQuery.getLastError()}resetLastResults(){return this.obsQuery.resetLastResults()}refetch(t){return this.obsQuery.refetch(t)}fetchMore(t){return this.obsQuery.fetchMore(t)}subscribeToMore(t){return this.obsQuery.subscribeToMore(t)}updateQuery(t){return this.obsQuery.updateQuery(t)}stopPolling(){return this.obsQuery.stopPolling()}startPolling(t){return this.obsQuery.startPolling(t)}setOptions(t){return this.obsQuery.setOptions(t)}setVariables(t){return this.obsQuery.setVariables(t)}}const ZA=new r.r("APOLLO_FLAGS"),tP=new r.r("APOLLO_OPTIONS"),eP=new r.r("APOLLO_NAMED_OPTIONS");class nP{constructor(t,e,n){this.ngZone=t,this.flags=e,this._client=n,this.useInitialLoading=function(t,e,n){return!(!t||void 0===t[e])&&t[e]}(e,"useInitialLoading")}watchQuery(t){return new JA(this.ensureClient().watchQuery(Object.assign({},t)),this.ngZone,Object.assign({useInitialLoading:this.useInitialLoading},t))}query(t){return YA(()=>this.ensureClient().query(Object.assign({},t)))}mutate(t){return YA(()=>this.ensureClient().mutate(Object.assign({},t)))}subscribe(t,e){const n=Object(Lt.a)($A(this.ensureClient().subscribe(Object.assign({},t))));return e&&!0!==e.useZone?n:XA(n,this.ngZone)}getClient(){return this.client}setClient(t){this.client=t}get client(){return this._client}set client(t){if(this._client)throw new Error("Client has been already defined");this._client=t}ensureClient(){return this.checkInstance(),this._client}checkInstance(){if(!this._client)throw new Error("Client has not been defined yet")}}let rP=(()=>{class t extends nP{constructor(t,e,n,r){if(super(t,r),this._ngZone=t,this.map=new Map,e&&this.createDefault(e),n&&"object"==typeof n)for(let i in n)n.hasOwnProperty(i)&&this.createNamed(i,n[i])}create(t,e){iP(e)?this.createDefault(t):this.createNamed(e,t)}default(){return this}use(t){return iP(t)?this.default():this.map.get(t)}createDefault(t){if(this.getClient())throw new Error("Apollo has been already created.");return this.setClient(new KA.a(t))}createNamed(t,e){if(this.map.has(t))throw new Error(`Client ${t} has been already created`);this.map.set(t,new nP(this._ngZone,this.flags,new KA.a(e)))}removeClient(t){iP(t)?this._client=void 0:this.map.delete(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(r.A),r.Wb(tP,8),r.Wb(eP,8),r.Wb(ZA,8))},t.\u0275prov=r.Ib({factory:function(){return new t(r.Wb(r.A),r.Wb(tP,8),r.Wb(eP,8),r.Wb(ZA,8))},token:t,providedIn:"root"}),t})();function iP(t){return!t||"default"===t}class oP{}class sP{}class aP{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof aP?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new aP;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof aP?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class cP{encodeKey(t){return uP(t)}encodeValue(t){return uP(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function uP(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class lP{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new cP,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const r=t.indexOf("="),[i,o]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],s=n.get(i)||[];s.push(o),n.set(i,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new lP({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function hP(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function dP(t){return"undefined"!=typeof Blob&&t instanceof Blob}function fP(t){return"undefined"!=typeof FormData&&t instanceof FormData}class pP{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new aP),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new lP,this.urlWithParams=e}serializeBody(){return null===this.body?null:hP(this.body)||dP(this.body)||fP(this.body)||"string"==typeof this.body?this.body:this.body instanceof lP?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||fP(this.body)?null:dP(this.body)?this.body.type||null:hP(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof lP?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,c=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(c=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),c)),new pP(e,n,i,{params:c,headers:a,reportProgress:s,responseType:r,withCredentials:o})}}var mP=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class gP{constructor(t,e=200,n="OK"){this.headers=t.headers||new aP,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class bP extends gP{constructor(t={}){super(t),this.type=mP.ResponseHeader}clone(t={}){return new bP({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class vP extends gP{constructor(t={}){super(t),this.type=mP.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new vP({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class yP extends gP{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?"Http failure during parsing for "+(t.url||"(unknown url)"):`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function _P(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let wP=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof pP)r=t;else{let i=void 0;i=n.headers instanceof aP?n.headers:new aP(n.headers);let o=void 0;n.params&&(o=n.params instanceof lP?n.params:new lP({fromObject:n.params})),r=new pP(t,e,void 0!==n.body?n.body:null,{headers:i,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Object(Mt.a)(r).pipe(Ve(t=>this.handler.handle(t)));if(t instanceof pP||"events"===n.observe)return i;const o=i.pipe(ie(t=>t instanceof vP));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe(Object(te.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe(Object(te.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe(Object(te.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe(Object(te.a)(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new lP).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,_P(n,e))}post(t,e,n={}){return this.request("POST",t,_P(n,e))}put(t,e,n={}){return this.request("PUT",t,_P(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(oP))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();class SP{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const CP=new r.r("HTTP_INTERCEPTORS");let xP=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const OP=/^\)\]\}',?\n/;class EP{}let kP=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),TP=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new Ut.a(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const o=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",o=new aP(n.getAllResponseHeaders()),s=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new bP({headers:o,status:e,statusText:r,url:s}),i},s=()=>{let{headers:r,status:i,statusText:s,url:a}=o(),c=null;204!==i&&(c=void 0===n.response?n.responseText:n.response),0===i&&(i=c?200:0);let u=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof c){const t=c;c=c.replace(OP,"");try{c=""!==c?JSON.parse(c):null}catch(l){c=t,u&&(u=!1,c={error:l,text:c})}}u?(e.next(new vP({body:c,headers:r,status:i,statusText:s,url:a||void 0})),e.complete()):e.error(new yP({error:c,headers:r,status:i,statusText:s,url:a||void 0}))},a=t=>{const{url:r}=o(),i=new yP({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let c=!1;const u=r=>{c||(e.next(o()),c=!0);let i={type:mP.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},l=t=>{let n={type:mP.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",u),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),e.next({type:mP.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",s),t.reportProgress&&(n.removeEventListener("progress",u),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(EP))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const IP=new r.r("XSRF_COOKIE_NAME"),RP=new r.r("XSRF_HEADER_NAME");class AP{}let PP=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=j(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(a),r.Wb(r.C),r.Wb(IP))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),DP=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(AP),r.Wb(RP))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),jP=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(CP,[]);this.chain=t.reduceRight((t,e)=>new SP(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(sP),r.Wb(r.s))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),NP=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:DP,useClass:xP}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:IP,useValue:e.cookieName}:[],e.headerName?{provide:RP,useValue:e.headerName}:[]]}}}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[DP,{provide:CP,useExisting:DP,multi:!0},{provide:AP,useClass:PP},{provide:IP,useValue:"XSRF-TOKEN"},{provide:RP,useValue:"X-XSRF-TOKEN"}]}),t})(),MP=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[wP,{provide:oP,useClass:jP},TP,{provide:sP,useExisting:TP},kP,{provide:EP,useExisting:kP}],imports:[[NP.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();const LP=zA.a`
  query GetProfileNameByRoninAddress($roninAddress: String!) {
    publicProfileWithRoninAddress(roninAddress: $roninAddress) {
      accountId
      name
      __typename
    }
  }
`;let FP=(()=>{class t{constructor(t,e,n,r){this.service=t,this.db=e,this.apollo=n,this.http=r,this.firestoreScholars$=new Bt([]),this.scholars$=new Bt([]),this.fiatSLPPrice$=new Bt(0),this.fiatAXSPrice$=new Bt(0),this.fiatCurrency$=new Bt("usd"),this.roninAddressNames=new Map,this.scholarSubjects={},this.currentUser=new Bt(null),this.groups=[],this.service.userState.pipe(ie(t=>!!t),Ae(t=>{return e=this.ensureDocumentCreated(t),new Ut.a(Object(HA.a)(e));var e}),Ae(t=>this.db.collection("users").doc(t.uid).valueChanges())).subscribe(t=>Object(Ri.__awaiter)(this,void 0,void 0,(function*(){var e,n;const r=Object.values(null!==(e=t.scholars)&&void 0!==e?e:{});this.groups=[];const i=null!==(n=t.currency)&&void 0!==n?n:"usd";this.fiatCurrency$.next(i),this.setCurrency(i),this.firestoreScholars$.next(r),this.currentUser.next(t)}))),this.firestoreScholars$.pipe(_C(),Ae(([t,e])=>{const n=[];for(const r of e){r.group&&!this.groups.includes(r.group)&&this.groups.push(r.group);const e=r.id;let i=this.getScholarWithSLP(r);this.scholarSubjects[e]||(this.scholarSubjects[e]=new Bt(i));const o=t.find(t=>t.id===e);if(o&&o.roninAddress===r.roninAddress){const t=this.scholarSubjects[e].getValue();t.managerShare=r.managerShare,t.paidTimes=r.paidTimes,t.name=r.name,t.group=r.group,this.scholarSubjects[e].next(t)}else this.updateScholar(i);n.push(this.scholarSubjects[e].asObservable())}return Qt(n)}),function(t,e,n,r){const i=new PC(void 0,void 0,void 0);return t=>Object(qA.a)(()=>i,void 0)(t)}(),Object(WA.a)()).subscribe(t=>{this.scholars$.next(t)})}ensureDocumentCreated(t){return Object(Ri.__awaiter)(this,void 0,void 0,(function*(){const e=yield this.db.collection("users").doc(t.uid).get().toPromise();return e&&e.exists||(yield e.ref.set({scholars:{},currency:"usd"},{merge:!0})),t}))}getScholar(t){return this.scholarSubjects[t].asObservable()}currentUser$(){return this.currentUser.asObservable()}refresh(){var t;(null!==(t=this.scholars$.getValue())&&void 0!==t?t:[]).forEach(t=>{this.updateScholar(t)})}setCurrency(t){this.pollSLPPrice(t).then(t=>this.fiatSLPPrice$.next(t)),this.pollAXSPrice(t).then(t=>this.fiatAXSPrice$.next(t))}getSLPPrice(){return this.fiatSLPPrice$.asObservable()}getAXSPrice(){return this.fiatAXSPrice$.asObservable()}getScholars(){return this.scholars$.asObservable()}getTotalSLP(){return this.getScholars().pipe(Object(te.a)(t=>{let e=0,n=0;return t.forEach(t=>{var r,i;const o=null!==(i=null===(r=null==t?void 0:t.slp)||void 0===r?void 0:r.total)&&void 0!==i?i:0;e+=o,n+=o*(t.managerShare/100)}),{total:e,managerTotal:n}}))}getTotalFiat(){return Qt([this.getTotalSLP(),this.fiatSLPPrice$]).pipe(Object(te.a)(([t,e])=>({total:t.total*e,managerTotal:t.managerTotal*e})))}getInprogressFiat(){return Qt([this.getInProgressSLP(),this.fiatSLPPrice$]).pipe(Object(te.a)(([t,e])=>({total:t.total*e,managerTotal:t.managerTotal*e})))}getInProgressSLP(){return this.getScholars().pipe(Object(te.a)(t=>{let e=0,n=0;return t.forEach(t=>{var r,i;const o=null!==(i=null===(r=null==t?void 0:t.slp)||void 0===r?void 0:r.inProgress)&&void 0!==i?i:0;e+=o,n+=o*(t.managerShare/100)}),{total:e,managerTotal:n}}))}getFiatCurrency(){return this.fiatCurrency$.asObservable()}pollSLPPrice(t){return Object(Ri.__awaiter)(this,void 0,void 0,(function*(){return this.pollPrice(t,"0xcc8fa225d80b9c7d42f96e9570156c65d6caaa25")}))}pollAXSPrice(t){return Object(Ri.__awaiter)(this,void 0,void 0,(function*(){return this.pollPrice(t,"0xbb0e17ef65f82ab018d8edd776e8dd940327b28b")}))}pollPrice(t,e){return Object(Ri.__awaiter)(this,void 0,void 0,(function*(){try{const n="https://api.coingecko.com/api/v3/simple/token_price/ethereum?contract_addresses="+e+"&vs_currencies="+t;return(yield this.http.get(n).toPromise())[e][t]}catch(Qv){return 0}}))}getScholarWithSLP(t){const e={name:"unknown",draws:0,elo:0,loses:0,rank:0,wins:0};return Object.assign(Object.assign({},t),{leaderboardDetails:e,slp:{inProgress:0,claimable:0,inWallet:0,lastClaimed:0,total:0},roninName:e.name,scholarRoninName:"unknown"})}updateScholar(t){this.updateLeaderBoardDetails(t),this.updateSLP(t),this.getRoninName(t,"roninAddress","roninName")}updateSLP(t){return Object(Ri.__awaiter)(this,void 0,void 0,(function*(){if(t.roninAddress)try{const e="https://lunacia.skymavis.com/game-api/clients/"+t.roninAddress.replace("ronin:","0x")+"/items/1";this.http.get(e).toPromise().then(e=>{var n,r,i,o,s;t.slp.claimable=e.claimable_total,t.slp.total=e.total+(null!==(r=null===(n=null==e?void 0:e.blockchain_related)||void 0===n?void 0:n.checkpoint)&&void 0!==r?r:0),t.slp.inProgress=e.total,t.slp.inWallet=null!==(o=null===(i=null==e?void 0:e.blockchain_related)||void 0===i?void 0:i.balance)&&void 0!==o?o:0,t.slp.lastClaimed=null!==(s=null==e?void 0:e.last_claimed_item_at)&&void 0!==s?s:0,this.scholarSubjects[t.id].next(t)})}catch(Qv){console.log(Qv)}}))}updateLeaderBoardDetails(t){}getScholarRoninName(t){return Object(Ri.__awaiter)(this,void 0,void 0,(function*(){return this.getRoninName(t,"scholarRoninAddress","scholarRoninName")}))}getRoninName(t,e,n){var r,i;return Object(Ri.__awaiter)(this,void 0,void 0,(function*(){const o=t[e];let s="unknown";if(this.roninAddressNames.has(o))s=this.roninAddressNames.get(o);else if(0===o.length)s="";else{try{const t=yield this.apollo.query({query:LP,variables:{roninAddress:o.replace("ronin:","0x")}}).toPromise(),e=null===(i=null===(r=null==t?void 0:t.data)||void 0===r?void 0:r.publicProfileWithRoninAddress)||void 0===i?void 0:i.name;e&&(s=e)}catch(Qv){console.log(Qv)}this.roninAddressNames.set(o,s)}t[n]=s,this.scholarSubjects[t.id].next(t)}))}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(cx),r.Wb(ox),r.Wb(rP),r.Wb(wP))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const VP=["underline"],BP=["connectionContainer"],UP=["inputContainer"],qP=["label"];function WP(t,e){1&t&&(r.Qb(0),r.Sb(1,"div",14),r.Nb(2,"div",15),r.Nb(3,"div",16),r.Nb(4,"div",17),r.Rb(),r.Sb(5,"div",18),r.Nb(6,"div",15),r.Nb(7,"div",16),r.Nb(8,"div",17),r.Rb(),r.Pb())}function HP(t,e){1&t&&(r.Sb(0,"div",19),r.gc(1,1),r.Rb())}function zP(t,e){if(1&t&&(r.Qb(0),r.gc(1,2),r.Sb(2,"span"),r.xc(3),r.Rb(),r.Pb()),2&t){const t=r.cc(2);r.Bb(3),r.yc(t._control.placeholder)}}function KP(t,e){1&t&&r.gc(0,3,["*ngSwitchCase","true"])}function GP(t,e){1&t&&(r.Sb(0,"span",23),r.xc(1," *"),r.Rb())}function YP(t,e){if(1&t){const t=r.Tb();r.Sb(0,"label",20,21),r.ac("cdkObserveContent",(function(){return r.oc(t),r.cc().updateOutlineGap()})),r.wc(2,zP,4,1,"ng-container",12),r.wc(3,KP,1,0,"ng-content",12),r.wc(4,GP,2,0,"span",22),r.Rb()}if(2&t){const t=r.cc();r.Eb("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),r.ic("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),r.Cb("for",t._control.id)("aria-owns",t._control.id),r.Bb(2),r.ic("ngSwitchCase",!1),r.Bb(1),r.ic("ngSwitchCase",!0),r.Bb(1),r.ic("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function QP(t,e){1&t&&(r.Sb(0,"div",24),r.gc(1,4),r.Rb())}function $P(t,e){if(1&t&&(r.Sb(0,"div",25,26),r.Nb(2,"span",27),r.Rb()),2&t){const t=r.cc();r.Bb(2),r.Eb("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function XP(t,e){if(1&t&&(r.Sb(0,"div"),r.gc(1,5),r.Rb()),2&t){const t=r.cc();r.ic("@transitionMessages",t._subscriptAnimationState)}}function JP(t,e){if(1&t&&(r.Sb(0,"div",31),r.xc(1),r.Rb()),2&t){const t=r.cc(2);r.ic("id",t._hintLabelId),r.Bb(1),r.yc(t.hintLabel)}}function ZP(t,e){if(1&t&&(r.Sb(0,"div",28),r.wc(1,JP,2,2,"div",29),r.gc(2,6),r.Nb(3,"div",30),r.gc(4,7),r.Rb()),2&t){const t=r.cc();r.ic("@transitionMessages",t._subscriptAnimationState),r.Bb(1),r.ic("ngIf",t.hintLabel)}}const tD=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],eD=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],nD=new r.r("MatError"),rD={transitionMessages:lx("transitionMessages",[mx("enter",px({opacity:1,transform:"translateY(0%)"})),bx("void => enter",[px({opacity:0,transform:"translateY(-100%)"}),hx("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let iD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Hb({type:t}),t})();const oD=new r.r("MatHint");let sD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Hb({type:t,selectors:[["mat-label"]]}),t})(),aD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Hb({type:t,selectors:[["mat-placeholder"]]}),t})();const cD=new r.r("MatPrefix"),uD=new r.r("MatSuffix");let lD=0;class hD{constructor(t){this._elementRef=t}}const dD=Lk(hD,"primary"),fD=new r.r("MAT_FORM_FIELD_DEFAULT_OPTIONS"),pD=new r.r("MatFormField");let mD=(()=>{class t extends dD{constructor(t,e,n,r,i,o,s,a){super(t),this._elementRef=t,this._changeDetectorRef=e,this._dir=r,this._defaults=i,this._platform=o,this._ngZone=s,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Ft.a,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+lD++,this._labelId="mat-form-field-label-"+lD++,this._labelOptions=n||{},this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==a,this.appearance=i&&i.appearance?i.appearance:"legacy",this._hideRequiredMarker=!(!i||null==i.hideRequiredMarker)&&i.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=QE(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add("mat-form-field-type-"+t.controlType),t.stateChanges.pipe(Ne(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(qT(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(qT(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),Object(IC.a)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Ne(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Ne(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(qT(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const e=this._control?this._control.ngControl:null;return e&&e[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,jT(this._label.nativeElement,"transitionend").pipe(Ce(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||this._labelOptions.float||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const e=this._hintChildren?this._hintChildren.find(t=>"start"===t.align):null,n=this._hintChildren?this._hintChildren.find(t=>"end"===t.align):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&t.push(...this._errorChildren.map(t=>t.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!t||!t.children.length||!t.textContent.trim())return;if(!this._platform.isBrowser)return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let e=0,n=0;const r=this._connectionContainerRef.nativeElement,i=r.querySelectorAll(".mat-form-field-outline-start"),o=r.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const i=r.getBoundingClientRect();if(0===i.width&&0===i.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const o=this._getStartEnd(i),s=t.children,a=this._getStartEnd(s[0].getBoundingClientRect());let c=0;for(let t=0;t<s.length;t++)c+=s[t].offsetWidth;e=Math.abs(a-o)-5,n=c>0?.75*c+10:0}for(let s=0;s<i.length;s++)i[s].style.width=e+"px";for(let s=0;s<o.length;s++)o[s].style.width=n+"px";this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const e=t.getRootNode();return e&&e!==t}return document.documentElement.contains(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(r.h),r.Mb(pT,8),r.Mb(Ok,8),r.Mb(fD,8),r.Mb(ME),r.Mb(r.A),r.Mb(AE,8))},t.\u0275cmp=r.Gb({type:t,selectors:[["mat-form-field"]],contentQueries:function(t,e,n){var i;1&t&&(r.Fb(n,iD,!0),r.rc(n,iD,!0),r.Fb(n,sD,!0),r.rc(n,sD,!0),r.Fb(n,aD,!0),r.Fb(n,nD,!0),r.Fb(n,oD,!0),r.Fb(n,cD,!0),r.Fb(n,uD,!0)),2&t&&(r.mc(i=r.bc())&&(e._controlNonStatic=i.first),r.mc(i=r.bc())&&(e._controlStatic=i.first),r.mc(i=r.bc())&&(e._labelChildNonStatic=i.first),r.mc(i=r.bc())&&(e._labelChildStatic=i.first),r.mc(i=r.bc())&&(e._placeholderChild=i.first),r.mc(i=r.bc())&&(e._errorChildren=i),r.mc(i=r.bc())&&(e._hintChildren=i),r.mc(i=r.bc())&&(e._prefixChildren=i),r.mc(i=r.bc())&&(e._suffixChildren=i))},viewQuery:function(t,e){var n;1&t&&(r.Bc(VP,!0),r.sc(BP,!0),r.Bc(UP,!0),r.Bc(qP,!0)),2&t&&(r.mc(n=r.bc())&&(e.underlineRef=n.first),r.mc(n=r.bc())&&(e._connectionContainerRef=n.first),r.mc(n=r.bc())&&(e._inputContainerRef=n.first),r.mc(n=r.bc())&&(e._label=n.first))},hostAttrs:[1,"mat-form-field"],hostVars:44,hostBindings:function(t,e){2&t&&r.Eb("mat-form-field-appearance-standard","standard"==e.appearance)("mat-form-field-appearance-fill","fill"==e.appearance)("mat-form-field-appearance-outline","outline"==e.appearance)("mat-form-field-appearance-legacy","legacy"==e.appearance)("mat-form-field-invalid",e._control.errorState)("mat-form-field-can-float",e._canLabelFloat())("mat-form-field-should-float",e._shouldLabelFloat())("mat-form-field-has-label",e._hasFloatingLabel())("mat-form-field-hide-placeholder",e._hideControlPlaceholder())("mat-form-field-disabled",e._control.disabled)("mat-form-field-autofilled",e._control.autofilled)("mat-focused",e._control.focused)("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)("ng-untouched",e._shouldForward("untouched"))("ng-touched",e._shouldForward("touched"))("ng-pristine",e._shouldForward("pristine"))("ng-dirty",e._shouldForward("dirty"))("ng-valid",e._shouldForward("valid"))("ng-invalid",e._shouldForward("invalid"))("ng-pending",e._shouldForward("pending"))("_mat-animation-noopable",!e._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[r.Ab([{provide:pD,useExisting:t}]),r.yb],ngContentSelectors:eD,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,e){1&t&&(r.hc(tD),r.Sb(0,"div",0),r.Sb(1,"div",1,2),r.ac("click",(function(t){return e._control.onContainerClick&&e._control.onContainerClick(t)})),r.wc(3,WP,9,0,"ng-container",3),r.wc(4,HP,2,0,"div",4),r.Sb(5,"div",5,6),r.gc(7),r.Sb(8,"span",7),r.wc(9,YP,5,16,"label",8),r.Rb(),r.Rb(),r.wc(10,QP,2,0,"div",9),r.Rb(),r.wc(11,$P,3,4,"div",10),r.Sb(12,"div",11),r.wc(13,XP,2,1,"div",12),r.wc(14,ZP,5,2,"div",13),r.Rb(),r.Rb()),2&t&&(r.Bb(3),r.ic("ngIf","outline"==e.appearance),r.Bb(1),r.ic("ngIf",e._prefixChildren.length),r.Bb(5),r.ic("ngIf",e._hasFloatingLabel()),r.Bb(1),r.ic("ngIf",e._suffixChildren.length),r.Bb(1),r.ic("ngIf","outline"!=e.appearance),r.Bb(1),r.ic("ngSwitch",e._getDisplayedMessages()),r.Bb(1),r.ic("ngSwitchCase","error"),r.Bb(1),r.ic("ngSwitchCase","hint"))},directives:[V,W,H,rk],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:scaleX(1);transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[rD.transitionMessages]},changeDetection:0}),t})(),gD=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[Z,Nk,ik],Nk]}),t})();const bD=qE({passive:!0});let vD=(()=>{class t{constructor(t,e){this._platform=t,this._ngZone=e,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Jt.a;const e=tk(t),n=this._monitoredElements.get(e);if(n)return n.subject;const r=new Ft.a,i="cdk-text-field-autofilled",o=t=>{"cdk-text-field-autofill-start"!==t.animationName||e.classList.contains(i)?"cdk-text-field-autofill-end"===t.animationName&&e.classList.contains(i)&&(e.classList.remove(i),this._ngZone.run(()=>r.next({target:t.target,isAutofilled:!1}))):(e.classList.add(i),this._ngZone.run(()=>r.next({target:t.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{e.addEventListener("animationstart",o,bD),e.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(e,{subject:r,unlisten:()=>{e.removeEventListener("animationstart",o,bD)}}),r}stopMonitoring(t){const e=tk(t),n=this._monitoredElements.get(e);n&&(n.unlisten(),n.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}ngOnDestroy(){this._monitoredElements.forEach((t,e)=>this.stopMonitoring(e))}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(ME),r.Wb(r.A))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Wb)(ME),Object(r.Wb)(r.A))},token:t,providedIn:"root"}),t})(),yD=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[LE]]}),t})();const _D=new r.r("MAT_INPUT_VALUE_ACCESSOR"),wD=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let SD=0;class CD{constructor(t,e,n,r){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=r}}const xD=Bk(CD);let OD=(()=>{class t extends xD{constructor(t,e,n,r,i,o,s,a,c,u){super(o,r,i,n),this._elementRef=t,this._platform=e,this.ngControl=n,this._autofillMonitor=a,this._formField=u,this._uid="mat-input-"+SD++,this.focused=!1,this.stateChanges=new Ft.a,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>VE().has(t));const l=this._elementRef.nativeElement,h=l.nodeName.toLowerCase();this._inputValueAccessor=s||l,this._previousNativeValue=this.value,this.id=this.id,e.IOS&&c.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",t=>{let e=t.target;e.value||e.selectionStart||e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===h,this._isTextarea="textarea"===h,this._isNativeSelect&&(this.controlType=l.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=QE(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required}set required(t){this._required=QE(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&VE().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=QE(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t===this.focused||this.readonly&&t||(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,e;const n=(null===(e=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===e?void 0:e.call(t))?null:this.placeholder;if(n!==this._previousPlaceholder){const t=this._elementRef.nativeElement;this._previousPlaceholder=n,n?t.setAttribute("placeholder",n):t.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){wD.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(ME),r.Mb(OR,10),r.Mb(CA,8),r.Mb(LA,8),r.Mb(qk),r.Mb(_D,10),r.Mb(vD),r.Mb(r.A),r.Mb(pD,8))},t.\u0275dir=r.Hb({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(t,e){1&t&&r.ac("focus",(function(){return e._focusChanged(!0)}))("blur",(function(){return e._focusChanged(!1)}))("input",(function(){return e._onInput()})),2&t&&(r.Vb("disabled",e.disabled)("required",e.required),r.Cb("id",e.id)("data-placeholder",e.placeholder)("readonly",e.readonly&&!e._isNativeSelect||null)("aria-invalid",e.errorState)("aria-required",e.required.toString()),r.Eb("mat-input-server",e._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[r.Ab([{provide:iD,useExisting:t}]),r.yb,r.zb]}),t})(),ED=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[qk],imports:[[yD,gD],yD,gD]}),t})();var kD=n("WMd4");function TD(t,e=yC.a){var n;const r=(n=t)instanceof Date&&!isNaN(+n)?+t-e.now():Math.abs(t);return t=>t.lift(new ID(r,e))}class ID{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new RD(t,this.delay,this.scheduler))}}class RD extends re.a{constructor(t,e,n){super(t),this.delay=e,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,n=e.queue,r=t.scheduler,i=t.destination;for(;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){const e=Math.max(0,n[0].time-r.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(RD.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,n=new AD(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(kD.a.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(kD.a.createComplete()),this.unsubscribe()}}class AD{constructor(t,e){this.time=t,this.notification=e}}const PD=["panel"];function DD(t,e){if(1&t&&(r.Sb(0,"div",0,1),r.gc(2),r.Rb()),2&t){const t=r.cc();r.ic("id",t.id)("ngClass",t._classList)}}const jD=["*"];let ND=0;class MD{constructor(t,e){this.source=t,this.option=e}}class LD{}const FD=Fk(LD),VD=new r.r("mat-autocomplete-default-options",{providedIn:"root",factory:function(){return{autoActiveFirstOption:!1}}});let BD=(()=>{class t extends FD{constructor(t,e,n){super(),this._changeDetectorRef=t,this._elementRef=e,this._activeOptionChanges=Be.a.EMPTY,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new r.o,this.opened=new r.o,this.closed=new r.o,this.optionActivated=new r.o,this._classList={},this.id="mat-autocomplete-"+ND++,this._autoActiveFirstOption=!!n.autoActiveFirstOption}get isOpen(){return this._isOpen&&this.showPanel}get autoActiveFirstOption(){return this._autoActiveFirstOption}set autoActiveFirstOption(t){this._autoActiveFirstOption=QE(t)}set classList(t){this._classList=t&&t.length?t.split(" ").reduce((t,e)=>(t[e.trim()]=!0,t),{}):{},this._setVisibilityClasses(this._classList),this._elementRef.nativeElement.className=""}ngAfterContentInit(){this._keyManager=new sk(this.options).withWrap(),this._activeOptionChanges=this._keyManager.change.subscribe(t=>{this.optionActivated.emit({source:this,option:this.options.toArray()[t]||null})}),this._setVisibility()}ngOnDestroy(){this._activeOptionChanges.unsubscribe()}_setScrollTop(t){this.panel&&(this.panel.nativeElement.scrollTop=t)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}_emitSelectEvent(t){const e=new MD(this,t);this.optionSelected.emit(e)}_setVisibilityClasses(t){t[this._visibleClass]=this.showPanel,t[this._hiddenClass]=!this.showPanel}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.h),r.Mb(r.l),r.Mb(VD))},t.\u0275dir=r.Hb({type:t,viewQuery:function(t,e){var n;1&t&&(r.sc(r.M,!0),r.Bc(PD,!0)),2&t&&(r.mc(n=r.bc())&&(e.template=n.first),r.mc(n=r.bc())&&(e.panel=n.first))},inputs:{displayWith:"displayWith",autoActiveFirstOption:"autoActiveFirstOption",classList:["class","classList"],panelWidth:"panelWidth"},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},features:[r.yb]}),t})(),UD=(()=>{class t extends BD{constructor(){super(...arguments),this._visibleClass="mat-autocomplete-visible",this._hiddenClass="mat-autocomplete-hidden"}}return t.\u0275fac=function(e){return qD(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["mat-autocomplete"]],contentQueries:function(t,e,n){var i;1&t&&(r.Fb(n,oT,!0),r.Fb(n,lT,!0)),2&t&&(r.mc(i=r.bc())&&(e.optionGroups=i),r.mc(i=r.bc())&&(e.options=i))},hostAttrs:[1,"mat-autocomplete"],inputs:{disableRipple:"disableRipple"},exportAs:["matAutocomplete"],features:[r.Ab([{provide:cT,useExisting:t}]),r.yb],ngContentSelectors:jD,decls:1,vars:0,consts:[["role","listbox",1,"mat-autocomplete-panel",3,"id","ngClass"],["panel",""]],template:function(t,e){1&t&&(r.hc(),r.wc(0,DD,3,2,"ng-template"))},directives:[N],styles:[".mat-autocomplete-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;visibility:hidden;max-width:none;max-height:256px;position:relative;width:100%;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.mat-autocomplete-panel.mat-autocomplete-visible{visibility:visible}.mat-autocomplete-panel.mat-autocomplete-hidden{visibility:hidden}.mat-autocomplete-panel-above .mat-autocomplete-panel{border-radius:0;border-top-left-radius:4px;border-top-right-radius:4px}.mat-autocomplete-panel .mat-divider-horizontal{margin-top:-1px}.cdk-high-contrast-active .mat-autocomplete-panel{outline:solid 1px}\n"],encapsulation:2,changeDetection:0}),t})();const qD=r.Ub(UD),WD=new r.r("mat-autocomplete-scroll-strategy"),HD={provide:WD,deps:[MI],useFactory:function(t){return()=>t.scrollStrategies.reposition()}},zD={provide:mR,useExisting:Object(r.V)(()=>GD),multi:!0};let KD=(()=>{class t{constructor(t,e,n,r,i,o,s,a,c,u){this._element=t,this._overlay=e,this._viewContainerRef=n,this._zone=r,this._changeDetectorRef=i,this._dir=s,this._formField=a,this._document=c,this._viewportRuler=u,this._componentDestroyed=!1,this._autocompleteDisabled=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=Be.a.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new Ft.a,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._overlayAttached=!1,this.optionSelections=Zt(()=>this.autocomplete&&this.autocomplete.options?Object(IC.a)(...this.autocomplete.options.map(t=>t.onSelectionChange)):this._zone.onStable.pipe(Ce(1),Ae(()=>this.optionSelections))),this._scrollStrategy=o}get autocompleteDisabled(){return this._autocompleteDisabled}set autocompleteDisabled(t){this._autocompleteDisabled=QE(t)}ngAfterViewInit(){const t=this._getWindow();void 0!==t&&this._zone.runOutsideAngular(()=>t.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(t){t.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const t=this._getWindow();void 0!==t&&t.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._attachOverlay(),this._floatLabel()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this.autocomplete.closed.emit(),this.autocomplete._isOpen=this._overlayAttached=!1,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._componentDestroyed||this._changeDetectorRef.detectChanges())}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return Object(IC.a)(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(ie(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(ie(()=>this._overlayAttached)):Object(Mt.a)()).pipe(Object(te.a)(t=>t instanceof aT?t:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return Object(IC.a)(jT(this._document,"click"),jT(this._document,"touchend")).pipe(ie(t=>{const e=this._isInsideShadowRoot&&t.composedPath?t.composedPath()[0]:t.target,n=this._formField?this._formField._elementRef.nativeElement:null,r=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&e!==this._element.nativeElement&&(!n||!n.contains(e))&&(!r||!r.contains(e))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(e)}))}writeValue(t){Promise.resolve(null).then(()=>this._setTriggerValue(t))}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this._element.nativeElement.disabled=t}_handleKeydown(t){const e=t.keyCode;if(27!==e||HE(t)||t.preventDefault(),this.activeOption&&13===e&&this.panelOpen)this.activeOption._selectViaInteraction(),this._resetActiveItem(),t.preventDefault();else if(this.autocomplete){const n=this.autocomplete._keyManager.activeItem,r=38===e||40===e;this.panelOpen||9===e?this.autocomplete._keyManager.onKeydown(t):r&&this._canOpen()&&this.openPanel(),(r||this.autocomplete._keyManager.activeItem!==n)&&this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0)}}_handleInput(t){let e=t.target,n=e.value;"number"===e.type&&(n=""==n?null:parseFloat(n)),this._previousValue!==n&&(this._previousValue=n,this._onChange(n),this._canOpen()&&this._document.activeElement===t.target&&this.openPanel())}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_floatLabel(t=!1){this._formField&&"auto"===this._formField.floatLabel&&(t?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField.floatLabel="auto",this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){const t=this._zone.onStable.pipe(Ce(1)),e=this.autocomplete.options.changes.pipe(Object(Te.a)(()=>this._positionStrategy.reapplyLastPosition()),TD(0));return Object(IC.a)(t,e).pipe(Ae(()=>{const t=this.panelOpen;return this._resetActiveItem(),this.autocomplete._setVisibility(),this.panelOpen&&(this._overlayRef.updatePosition(),t!==this.panelOpen&&this.autocomplete.opened.emit()),this.panelClosingActions}),Ce(1)).subscribe(t=>this._setValueAndClose(t))}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_setTriggerValue(t){const e=this.autocomplete&&this.autocomplete.displayWith?this.autocomplete.displayWith(t):t,n=null!=e?e:"";this._formField?this._formField._control.value=n:this._element.nativeElement.value=n,this._previousValue=n}_setValueAndClose(t){t&&t.source&&(this._clearPreviousSelectedOption(t.source),this._setTriggerValue(t.source.value),this._onChange(t.source.value),this._element.nativeElement.focus(),this.autocomplete._emitSelectEvent(t.source)),this.closePanel()}_clearPreviousSelectedOption(t){this.autocomplete.options.forEach(e=>{e!==t&&e.selected&&e.deselect()})}_attachOverlay(){null==this._isInsideShadowRoot&&(this._isInsideShadowRoot=!!WE(this._element.nativeElement));let t=this._overlayRef;t?(this._positionStrategy.setOrigin(this._getConnectedElement()),t.updateSize({width:this._getPanelWidth()})):(this._portal=new eI(this.autocomplete.template,this._viewContainerRef),t=this._overlay.create(this._getOverlayConfig()),this._overlayRef=t,t.keydownEvents().subscribe(t=>{(27===t.keyCode&&!HE(t)||38===t.keyCode&&HE(t,"altKey"))&&(this._resetActiveItem(),this._closeKeyEventStream.next(),t.stopPropagation(),t.preventDefault())}),this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&t&&t.updateSize({width:this._getPanelWidth()})})),t&&!t.hasAttached()&&(t.attach(this._portal),this._closingActionsSubscription=this._subscribeToClosingActions());const e=this.panelOpen;this.autocomplete._setVisibility(),this.autocomplete._isOpen=this._overlayAttached=!0,this.panelOpen&&e!==this.panelOpen&&this.autocomplete.opened.emit()}_getOverlayConfig(){return new yI({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir})}_getOverlayPosition(){const t=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(t),this._positionStrategy=t,t}_setStrategyPositions(t){const e=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],n=this._aboveClass,r=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:n},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:n}];let i;i="above"===this.position?r:"below"===this.position?e:[...e,...r],t.withPositions(i)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){this.autocomplete._keyManager.setActiveItem(this.autocomplete.autoActiveFirstOption?0:-1)}_canOpen(){const t=this._element.nativeElement;return!t.readOnly&&!t.disabled&&!this._autocompleteDisabled}_getWindow(){var t;return(null===(t=this._document)||void 0===t?void 0:t.defaultView)||window}_scrollToOption(t){const e=this.autocomplete,n=hT(t,e.options,e.optionGroups);if(0===t&&1===n)e._setScrollTop(0);else{const n=e.options.toArray()[t];if(n){const t=n._getHostElement(),r=dT(t.offsetTop,t.offsetHeight,e._getScrollTop(),e.panel.nativeElement.offsetHeight);e._setScrollTop(r)}}}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(MI),r.Mb(r.R),r.Mb(r.A),r.Mb(r.h),r.Mb(WD),r.Mb(Ok,8),r.Mb(pD,9),r.Mb(a,8),r.Mb($T))},t.\u0275dir=r.Hb({type:t,inputs:{position:["matAutocompletePosition","position"],autocompleteAttribute:["autocomplete","autocompleteAttribute"],autocompleteDisabled:["matAutocompleteDisabled","autocompleteDisabled"],autocomplete:["matAutocomplete","autocomplete"],connectedTo:["matAutocompleteConnectedTo","connectedTo"]},features:[r.zb]}),t})(),GD=(()=>{class t extends KD{constructor(){super(...arguments),this._aboveClass="mat-autocomplete-panel-above"}}return t.\u0275fac=function(e){return YD(e||t)},t.\u0275dir=r.Hb({type:t,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-autocomplete-trigger"],hostVars:7,hostBindings:function(t,e){1&t&&r.ac("focusin",(function(){return e._handleFocus()}))("blur",(function(){return e._onTouched()}))("input",(function(t){return e._handleInput(t)}))("keydown",(function(t){return e._handleKeydown(t)})),2&t&&r.Cb("autocomplete",e.autocompleteAttribute)("role",e.autocompleteDisabled?null:"combobox")("aria-autocomplete",e.autocompleteDisabled?null:"list")("aria-activedescendant",e.panelOpen&&e.activeOption?e.activeOption.id:null)("aria-expanded",e.autocompleteDisabled?null:e.panelOpen.toString())("aria-owns",e.autocompleteDisabled||!e.panelOpen||null==e.autocomplete?null:e.autocomplete.id)("aria-haspopup",!e.autocompleteDisabled)},exportAs:["matAutocompleteTrigger"],features:[r.Ab([zD]),r.yb]}),t})();const YD=r.Ub(GD);let QD=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[HD],imports:[[qI,fT,Nk,Z],XT,fT,Nk]}),t})();const $D=["trigger"],XD=["panel"];function JD(t,e){if(1&t&&(r.Sb(0,"span",8),r.xc(1),r.Rb()),2&t){const t=r.cc();r.Bb(1),r.yc(t.placeholder||"\xa0")}}function ZD(t,e){if(1&t&&(r.Sb(0,"span"),r.xc(1),r.Rb()),2&t){const t=r.cc(2);r.Bb(1),r.yc(t.triggerValue||"\xa0")}}function tj(t,e){1&t&&r.gc(0,0,["*ngSwitchCase","true"])}function ej(t,e){if(1&t&&(r.Sb(0,"span",9),r.wc(1,ZD,2,1,"span",10),r.wc(2,tj,1,0,"ng-content",11),r.Rb()),2&t){const t=r.cc();r.ic("ngSwitch",!!t.customTrigger),r.Bb(2),r.ic("ngSwitchCase",!0)}}function nj(t,e){if(1&t){const t=r.Tb();r.Sb(0,"div",12),r.Sb(1,"div",13,14),r.ac("@transformPanel.done",(function(e){return r.oc(t),r.cc()._panelDoneAnimatingStream.next(e.toState)}))("keydown",(function(e){return r.oc(t),r.cc()._handleKeydown(e)})),r.gc(3,1),r.Rb(),r.Rb()}if(2&t){const t=r.cc();r.ic("@transformPanelWrap",void 0),r.Bb(1),r.Db("mat-select-panel ",t._getPanelTheme(),""),r.tc("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),r.ic("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing"),r.Cb("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const rj=[[["mat-select-trigger"]],"*"],ij=["mat-select-trigger","*"],oj={transformPanelWrap:lx("transformPanelWrap",[bx("* => void",yx("@transformPanel",[vx()],{optional:!0}))]),transformPanel:lx("transformPanel",[mx("void",px({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),mx("showing",px({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),mx("showing-multiple",px({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),bx("void => *",hx("120ms cubic-bezier(0, 0, 0.2, 1)")),bx("* => void",hx("100ms 25ms linear",px({opacity:0})))])};let sj=0;const aj=new r.r("mat-select-scroll-strategy"),cj=new r.r("MAT_SELECT_CONFIG"),uj={provide:aj,deps:[MI],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};class lj{constructor(t,e){this.source=t,this.value=e}}class hj{constructor(t,e,n,r,i){this._elementRef=t,this._defaultErrorStateMatcher=e,this._parentForm=n,this._parentFormGroup=r,this.ngControl=i}}const dj=Fk(Vk(Mk(Bk(hj)))),fj=new r.r("MatSelectTrigger");let pj=(()=>{class t extends dj{constructor(t,e,n,i,o,s,a,c,u,l,h,d,f,p){super(o,i,a,c,l),this._viewportRuler=t,this._changeDetectorRef=e,this._ngZone=n,this._dir=s,this._parentFormField=u,this.ngControl=l,this._liveAnnouncer=f,this._panelOpen=!1,this._required=!1,this._scrollTop=0,this._multiple=!1,this._compareWith=(t,e)=>t===e,this._uid="mat-select-"+sj++,this._triggerAriaLabelledBy=null,this._destroy=new Ft.a,this._triggerFontSize=0,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+sj++,this._transformOrigin="top",this._panelDoneAnimatingStream=new Ft.a,this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}],this._disableOptionCentering=!1,this._focused=!1,this.controlType="mat-select",this.ariaLabel="",this.optionSelectionChanges=Zt(()=>{const t=this.options;return t?t.changes.pipe(Ne(t),Ae(()=>Object(IC.a)(...t.map(t=>t.onSelectionChange)))):this._ngZone.onStable.pipe(Ce(1),Ae(()=>this.optionSelectionChanges))}),this.openedChange=new r.o,this._openedStream=this.openedChange.pipe(ie(t=>t),Object(te.a)(()=>{})),this._closedStream=this.openedChange.pipe(ie(t=>!t),Object(te.a)(()=>{})),this.selectionChange=new r.o,this.valueChange=new r.o,this.ngControl&&(this.ngControl.valueAccessor=this),this._scrollStrategyFactory=d,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(h)||0,this.id=this.id,p&&(null!=p.disableOptionCentering&&(this.disableOptionCentering=p.disableOptionCentering),null!=p.typeaheadDebounceInterval&&(this.typeaheadDebounceInterval=p.typeaheadDebounceInterval))}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required}set required(t){this._required=QE(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=QE(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=QE(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){t!==this._value&&(this.options&&this._setSelectionByValue(t),this._value=t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=$E(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new GT(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(CC(),qT(this._destroy)).subscribe(()=>{this.panelOpen?(this._scrollTop=0,this.openedChange.emit(!0)):(this.openedChange.emit(!1),this.overlayDir.offsetX=0,this._changeDetectorRef.markForCheck())}),this._viewportRuler.change().pipe(qT(this._destroy)).subscribe(()=>{this._panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(qT(this._destroy)).subscribe(t=>{t.added.forEach(t=>t.select()),t.removed.forEach(t=>t.deselect())}),this.options.changes.pipe(Ne(null),qT(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby();if(t!==this._triggerAriaLabelledBy){const e=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?e.setAttribute("aria-labelledby",t):e.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){!this.disabled&&this.options&&this.options.length&&!this._panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._calculateOverlayPosition(),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this._ngZone.onStable.pipe(Ce(1)).subscribe(()=>{this._triggerFontSize&&this.overlayDir.overlayRef&&this.overlayDir.overlayRef.overlayElement&&(this.overlayDir.overlayRef.overlayElement.style.fontSize=this._triggerFontSize+"px")}))}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this.value=t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(t=>t.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const e=t.keyCode,n=40===e||38===e||37===e||39===e,r=13===e||32===e,i=this._keyManager;if(!i.isTyping()&&r&&!HE(t)||(this.multiple||t.altKey)&&n)t.preventDefault(),this.open();else if(!this.multiple){const e=this.selected;i.onKeydown(t);const n=this.selected;n&&e!==n&&this._liveAnnouncer.announce(n.viewValue,1e4)}}_handleOpenKeydown(t){const e=this._keyManager,n=t.keyCode,r=40===n||38===n,i=e.isTyping();if(r&&t.altKey)t.preventDefault(),this.close();else if(i||13!==n&&32!==n||!e.activeItem||HE(t))if(!i&&this._multiple&&65===n&&t.ctrlKey){t.preventDefault();const e=this.options.some(t=>!t.disabled&&!t.selected);this.options.forEach(t=>{t.disabled||(e?t.select():t.deselect())})}else{const n=e.activeItemIndex;e.onKeydown(t),this._multiple&&r&&t.shiftKey&&e.activeItem&&e.activeItemIndex!==n&&e.activeItem._selectViaInteraction()}else t.preventDefault(),e.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this.disabled||this.panelOpen||(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this.overlayDir.positionChange.pipe(Ce(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop})}_getPanelTheme(){return this._parentFormField?"mat-"+this._parentFormField.color:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this.multiple&&t)Array.isArray(t),this._selectionModel.clear(),t.forEach(t=>this._selectValue(t)),this._sortValues();else{this._selectionModel.clear();const e=this._selectValue(t);e?this._keyManager.updateActiveItem(e):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(t){const e=this.options.find(e=>{try{return null!=e.value&&this._compareWith(e.value,t)}catch(n){return!1}});return e&&this._selectionModel.select(e),e}_initKeyManager(){this._keyManager=new sk(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(qT(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(qT(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollActiveOptionIntoView():this._panelOpen||this.multiple||!this._keyManager.activeItem||this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=Object(IC.a)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(qT(t)).subscribe(t=>{this._onSelect(t.source,t.isUserInput),t.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Object(IC.a)(...this.options.map(t=>t._stateChanges)).pipe(qT(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(t,e){const n=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(n!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),e&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),e&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),n!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((e,n)=>this.sortComparator?this.sortComparator(e,n,t):t.indexOf(e)-t.indexOf(n)),this.stateChanges.next()}}_propagateChanges(t){let e=null;e=this.multiple?this.selected.map(t=>t.value):this.selected?this.selected.value:t,this._value=e,this.valueChange.emit(e),this._onChange(e),this.selectionChange.emit(new lj(this,e)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_scrollActiveOptionIntoView(){const t=this._keyManager.activeItemIndex||0,e=hT(t,this.options,this.optionGroups),n=this._getItemHeight();this.panel.nativeElement.scrollTop=dT((t+e)*n,n,this.panel.nativeElement.scrollTop,256)}focus(t){this._elementRef.nativeElement.focus(t)}_getOptionIndex(t){return this.options.reduce((e,n,r)=>void 0!==e?e:t===n?r:void 0,void 0)}_calculateOverlayPosition(){const t=this._getItemHeight(),e=this._getItemCount(),n=Math.min(e*t,256),r=e*t-n;let i=this.empty?0:this._getOptionIndex(this._selectionModel.selected[0]);i+=hT(i,this.options,this.optionGroups);const o=n/2;this._scrollTop=this._calculateOverlayScroll(i,o,r),this._offsetY=this._calculateOverlayOffsetY(i,o,r),this._checkOverlayWithinViewport(r)}_calculateOverlayScroll(t,e,n){const r=this._getItemHeight();return Math.min(Math.max(0,r*t-e+r/2),n)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const t=this._getLabelId();return this.ariaLabelledby?t+" "+this.ariaLabelledby:t}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getLabelId(){var t;return(null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId())||""}_calculateOverlayOffsetX(){const t=this.overlayDir.overlayRef.overlayElement.getBoundingClientRect(),e=this._viewportRuler.getViewportSize(),n=this._isRtl(),r=this.multiple?56:32;let i;if(this.multiple)i=40;else{let t=this._selectionModel.selected[0]||this.options.first;i=t&&t.group?32:16}n||(i*=-1);const o=0-(t.left+i-(n?r:0)),s=t.right+i-e.width+(n?0:r);o>0?i+=o+8:s>0&&(i-=s+8),this.overlayDir.offsetX=Math.round(i),this.overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,e,n){const r=this._getItemHeight(),i=(r-this._triggerRect.height)/2,o=Math.floor(256/r);let s;return this._disableOptionCentering?0:(s=0===this._scrollTop?t*r:this._scrollTop===n?(t-(this._getItemCount()-o))*r+(r-(this._getItemCount()*r-256)%r):e-r/2,Math.round(-1*s-i))}_checkOverlayWithinViewport(t){const e=this._getItemHeight(),n=this._viewportRuler.getViewportSize(),r=this._triggerRect.top-8,i=n.height-this._triggerRect.bottom-8,o=Math.abs(this._offsetY),s=Math.min(this._getItemCount()*e,256)-o-this._triggerRect.height;s>i?this._adjustPanelUp(s,i):o>r?this._adjustPanelDown(o,r,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,e){const n=Math.round(t-e);this._scrollTop-=n,this._offsetY-=n,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,e,n){const r=Math.round(t-e);if(this._scrollTop+=r,this._offsetY+=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=n)return this._scrollTop=n,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_getOriginBasedOnOption(){const t=this._getItemHeight(),e=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-e+t/2}px 0px`}_getItemCount(){return this.options.length+this.optionGroups.length}_getItemHeight(){return 3*this._triggerFontSize}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let t=this._getLabelId()+" "+this._valueId;return this.ariaLabelledby&&(t+=" "+this.ariaLabelledby),t}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty}}return t.\u0275fac=function(e){return new(e||t)(r.Mb($T),r.Mb(r.h),r.Mb(r.A),r.Mb(qk),r.Mb(r.l),r.Mb(Ok,8),r.Mb(CA,8),r.Mb(LA,8),r.Mb(pD,8),r.Mb(OR,10),r.Xb("tabindex"),r.Mb(aj),r.Mb(mk),r.Mb(cj,8))},t.\u0275cmp=r.Gb({type:t,selectors:[["mat-select"]],contentQueries:function(t,e,n){var i;1&t&&(r.Fb(n,fj,!0),r.Fb(n,lT,!0),r.Fb(n,oT,!0)),2&t&&(r.mc(i=r.bc())&&(e.customTrigger=i.first),r.mc(i=r.bc())&&(e.options=i),r.mc(i=r.bc())&&(e.optionGroups=i))},viewQuery:function(t,e){var n;1&t&&(r.Bc($D,!0),r.Bc(XD,!0),r.Bc(BI,!0)),2&t&&(r.mc(n=r.bc())&&(e.trigger=n.first),r.mc(n=r.bc())&&(e.panel=n.first),r.mc(n=r.bc())&&(e.overlayDir=n.first))},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(t,e){1&t&&r.ac("keydown",(function(t){return e._handleKeydown(t)}))("focus",(function(){return e._onFocus()}))("blur",(function(){return e._onBlur()})),2&t&&(r.Cb("id",e.id)("tabindex",e.tabIndex)("aria-controls",e.panelOpen?e.id+"-panel":null)("aria-expanded",e.panelOpen)("aria-label",e.ariaLabel||null)("aria-required",e.required.toString())("aria-disabled",e.disabled.toString())("aria-invalid",e.errorState)("aria-describedby",e._ariaDescribedby||null)("aria-activedescendant",e._getAriaActiveDescendant()),r.Eb("mat-select-disabled",e.disabled)("mat-select-invalid",e.errorState)("mat-select-required",e.required)("mat-select-empty",e.empty)("mat-select-multiple",e.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],id:"id",disableOptionCentering:"disableOptionCentering",typeaheadDebounceInterval:"typeaheadDebounceInterval",placeholder:"placeholder",required:"required",multiple:"multiple",compareWith:"compareWith",value:"value",panelClass:"panelClass",ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",sortComparator:"sortComparator"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],features:[r.Ab([{provide:iD,useExisting:t},{provide:cT,useExisting:t}]),r.yb,r.zb],ngContentSelectors:ij,decls:9,vars:10,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder"],[1,"mat-select-value-text",3,"ngSwitch"],[4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,e){if(1&t&&(r.hc(rj),r.Sb(0,"div",0,1),r.ac("click",(function(){return e.toggle()})),r.Sb(3,"div",2),r.wc(4,JD,2,1,"span",3),r.wc(5,ej,3,2,"span",4),r.Rb(),r.Sb(6,"div",5),r.Nb(7,"div",6),r.Rb(),r.Rb(),r.wc(8,nj,4,14,"ng-template",7),r.ac("backdropClick",(function(){return e.close()}))("attach",(function(){return e._onAttached()}))("detach",(function(){return e.close()}))),2&t){const t=r.nc(1);r.Bb(3),r.ic("ngSwitch",e.empty),r.Cb("id",e._valueId),r.Bb(1),r.ic("ngSwitchCase",!0),r.Bb(1),r.ic("ngSwitchCase",!1),r.Bb(3),r.ic("cdkConnectedOverlayScrollStrategy",e._scrollStrategy)("cdkConnectedOverlayOrigin",t)("cdkConnectedOverlayOpen",e.panelOpen)("cdkConnectedOverlayPositions",e._positions)("cdkConnectedOverlayMinWidth",null==e._triggerRect?null:e._triggerRect.width)("cdkConnectedOverlayOffsetY",e._offsetY)}},directives:[VI,W,H,BI,z,N],styles:[".mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}\n"],encapsulation:2,data:{animation:[oj.transformPanelWrap,oj.transformPanel]},changeDetection:0}),t})(),mj=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[uj],imports:[[Z,qI,fT,Nk],XT,gD,fT,Nk]}),t})();function gj(t,e){if(1&t&&(r.Sb(0,"mat-option",10),r.xc(1),r.Rb()),2&t){const t=e.$implicit;r.ic("value",t),r.Bb(1),r.zc(" ",t," ")}}let bj=(()=>{class t{constructor(t,e,n){this.userService=t,this.dialogRef=e,this.data=n,this.paymentMethods=IT,this.myControl=new vA,this.options=[],this.options=this.userService.groups}ngOnInit(){this.filteredOptions=this.myControl.valueChanges.pipe(Ne(""),Object(te.a)(t=>t?this._filter(t):this.options.slice()))}onNoClick(){this.dialogRef.close()}displayFn(t){return t&&t?t:""}_filter(t){const e=t.toLowerCase();return this.options.filter(t=>t.toLowerCase().includes(e))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(FP),r.Mb($I),r.Mb(JI))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-edit-dialog"]],decls:51,vars:18,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["matInput","",3,"ngModel","ngModelChange"],["appearance","fill"],["type","text","matInput","",3,"ngModel","formControl","matAutocomplete","ngModelChange"],[3,"displayWith"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["type","number","matInput","",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],[3,"value"],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(t,e){if(1&t&&(r.Sb(0,"h1",0),r.xc(1),r.Rb(),r.Sb(2,"div",1),r.Sb(3,"mat-form-field"),r.Sb(4,"mat-label"),r.xc(5,"Name"),r.Rb(),r.Sb(6,"input",2),r.ac("ngModelChange",(function(t){return e.data.name=t})),r.Rb(),r.Rb(),r.Sb(7,"form"),r.Sb(8,"mat-form-field",3),r.Sb(9,"mat-label"),r.xc(10,"Group"),r.Rb(),r.Sb(11,"input",4),r.ac("ngModelChange",(function(t){return e.data.group=t})),r.Rb(),r.Sb(12,"mat-autocomplete",5,6),r.wc(14,gj,2,2,"mat-option",7),r.dc(15,"async"),r.Rb(),r.Rb(),r.Rb(),r.Sb(16,"mat-form-field"),r.Sb(17,"mat-label"),r.xc(18,"Account Ronin Address"),r.Rb(),r.Sb(19,"input",2),r.ac("ngModelChange",(function(t){return e.data.roninAddress=t})),r.Rb(),r.Rb(),r.Sb(20,"mat-form-field"),r.Sb(21,"mat-label"),r.xc(22,"Manager's Share"),r.Rb(),r.Sb(23,"input",8),r.ac("ngModelChange",(function(t){return e.data.managerShare=t})),r.Rb(),r.Rb(),r.Sb(24,"mat-form-field"),r.Sb(25,"mat-label"),r.xc(26,"Paid Times"),r.Rb(),r.Sb(27,"input",8),r.ac("ngModelChange",(function(t){return e.data.paidTimes=t})),r.Rb(),r.Rb(),r.Sb(28,"h2"),r.xc(29," Scholar Details "),r.Rb(),r.Sb(30,"mat-form-field",3),r.Sb(31,"mat-label"),r.xc(32,"Preferred Payment Method"),r.Rb(),r.Sb(33,"mat-select",9),r.ac("ngModelChange",(function(t){return e.data.preferredPaymentMethod=t})),r.Sb(34,"mat-option",10),r.xc(35,"Ronin Wallet"),r.Rb(),r.Sb(36,"mat-option",10),r.xc(37,"Ethereum Wallet"),r.Rb(),r.Rb(),r.Rb(),r.Sb(38,"mat-form-field"),r.Sb(39,"mat-label"),r.xc(40,"Scholar Ronin Address"),r.Rb(),r.Sb(41,"input",2),r.ac("ngModelChange",(function(t){return e.data.scholarRoninAddress=t})),r.Rb(),r.Rb(),r.Sb(42,"mat-form-field"),r.Sb(43,"mat-label"),r.xc(44,"Scholar Eth Address"),r.Rb(),r.Sb(45,"input",2),r.ac("ngModelChange",(function(t){return e.data.scholarEthAddress=t})),r.Rb(),r.Rb(),r.Rb(),r.Sb(46,"div",11),r.Sb(47,"button",12),r.ac("click",(function(){return e.onNoClick()})),r.xc(48,"Cancel"),r.Rb(),r.Sb(49,"button",13),r.xc(50,"Save"),r.Rb(),r.Rb()),2&t){const t=r.nc(13);r.Bb(1),r.yc(e.data.name),r.Bb(5),r.ic("ngModel",e.data.name),r.Bb(5),r.ic("ngModel",e.data.group)("formControl",e.myControl)("matAutocomplete",t),r.Bb(1),r.ic("displayWith",e.displayFn),r.Bb(2),r.ic("ngForOf",r.ec(15,16,e.filteredOptions)),r.Bb(5),r.ic("ngModel",e.data.roninAddress),r.Bb(4),r.ic("ngModel",e.data.managerShare),r.Bb(4),r.ic("ngModel",e.data.paidTimes),r.Bb(6),r.ic("ngModel",e.data.preferredPaymentMethod),r.Bb(1),r.ic("value",e.paymentMethods.ronin),r.Bb(2),r.ic("value",e.paymentMethods.eth),r.Bb(5),r.ic("ngModel",e.data.scholarRoninAddress),r.Bb(4),r.ic("ngModel",e.data.scholarEthAddress),r.Bb(4),r.ic("mat-dialog-close",e.data)}},directives:[sR,aR,mD,sD,OD,_R,kR,AA,PA,TR,CA,GD,NA,UD,L,UR,pj,lT,cR,OT,oR],pipes:[X],styles:["mat-form-field[_ngcontent-%COMP%]{width:350px}"]}),t})();class vj{constructor(t,e){this._document=e;const n=this._textarea=this._document.createElement("textarea"),r=n.style;r.position="fixed",r.top=r.opacity="0",r.left="-999em",n.setAttribute("aria-hidden","true"),n.value=t,this._document.body.appendChild(n)}copy(){const t=this._textarea;let e=!1;try{if(t){const n=this._document.activeElement;t.select(),t.setSelectionRange(0,t.value.length),e=this._document.execCommand("copy"),n&&n.focus()}}catch(sU){}return e}destroy(){const t=this._textarea;t&&(t.parentNode&&t.parentNode.removeChild(t),this._textarea=void 0)}}let yj=(()=>{class t{constructor(t){this._document=t}copy(t){const e=this.beginCopy(t),n=e.copy();return e.destroy(),n}beginCopy(t){return new vj(t,this._document)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(a))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Wb)(a))},token:t,providedIn:"root"}),t})();const _j=new r.r("CKD_COPY_TO_CLIPBOARD_CONFIG");let wj=(()=>{class t{constructor(t,e,n){this._clipboard=t,this._ngZone=e,this.text="",this.attempts=1,this.copied=new r.o,this._pending=new Set,n&&null!=n.attempts&&(this.attempts=n.attempts)}copy(t=this.attempts){if(t>1){let e=t;const n=this._clipboard.beginCopy(this.text);this._pending.add(n);const r=()=>{const t=n.copy();t||!--e||this._destroyed?(this._currentTimeout=null,this._pending.delete(n),n.destroy(),this.copied.emit(t)):this._currentTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(r,1))};r()}else this.copied.emit(this._clipboard.copy(this.text))}ngOnDestroy(){this._currentTimeout&&clearTimeout(this._currentTimeout),this._pending.forEach(t=>t.destroy()),this._pending.clear(),this._destroyed=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(yj),r.Mb(r.A),r.Mb(_j,8))},t.\u0275dir=r.Hb({type:t,selectors:[["","cdkCopyToClipboard",""]],hostBindings:function(t,e){1&t&&r.ac("click",(function(){return e.copy()}))},inputs:{text:["cdkCopyToClipboard","text"],attempts:["cdkCopyToClipboardAttempts","attempts"]},outputs:{copied:"cdkCopyToClipboardCopied"}}),t})(),Sj=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)}}),t})();var Cj=n("z6cu"),xj=n("w1tV");const Oj=["*"];function Ej(t){return Error(`Unable to find icon with the name "${t}"`)}function kj(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function Tj(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class Ij{constructor(t,e,n){this.url=t,this.svgText=e,this.options=n}}let Rj=(()=>{class t{constructor(t,e,n,r){this._httpClient=t,this._sanitizer=e,this._errorHandler=r,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(t,e,n){return this.addSvgIconInNamespace("",t,e,n)}addSvgIconLiteral(t,e,n){return this.addSvgIconLiteralInNamespace("",t,e,n)}addSvgIconInNamespace(t,e,n,r){return this._addSvgIconConfig(t,e,new Ij(n,null,r))}addSvgIconLiteralInNamespace(t,e,n,i){const o=this._sanitizer.sanitize(r.J.HTML,n);if(!o)throw Tj(n);return this._addSvgIconConfig(t,e,new Ij("",o,i))}addSvgIconSet(t,e){return this.addSvgIconSetInNamespace("",t,e)}addSvgIconSetLiteral(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)}addSvgIconSetInNamespace(t,e,n){return this._addSvgIconSetConfig(t,new Ij(e,null,n))}addSvgIconSetLiteralInNamespace(t,e,n){const i=this._sanitizer.sanitize(r.J.HTML,e);if(!i)throw Tj(e);return this._addSvgIconSetConfig(t,new Ij("",i,n))}registerFontClassAlias(t,e=t){return this._fontCssClassesByAlias.set(t,e),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const e=this._sanitizer.sanitize(r.J.RESOURCE_URL,t);if(!e)throw kj(t);const n=this._cachedIconsByUrl.get(e);return n?Object(Mt.a)(Aj(n)):this._loadSvgIconFromConfig(new Ij(t,null)).pipe(Object(Te.a)(t=>this._cachedIconsByUrl.set(e,t)),Object(te.a)(t=>Aj(t)))}getNamedSvgIcon(t,e=""){const n=Pj(e,t),r=this._svgIconConfigs.get(n);if(r)return this._getSvgFromConfig(r);const i=this._iconSetConfigs.get(e);return i?this._getSvgFromIconSetConfigs(t,i):Object(Cj.a)(Ej(n))}ngOnDestroy(){this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Object(Mt.a)(Aj(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(Object(te.a)(t=>Aj(t)))}_getSvgFromIconSetConfigs(t,e){const n=this._extractIconWithNameFromAnySet(t,e);return n?Object(Mt.a)(n):fR(e.filter(t=>!t.svgText).map(t=>this._loadSvgIconSetFromConfig(t).pipe(_e(e=>{const n=this._sanitizer.sanitize(r.J.RESOURCE_URL,t.url);return this._errorHandler.handleError(new Error(`Loading icon set URL: ${n} failed: ${e.message}`)),Object(Mt.a)(null)})))).pipe(Object(te.a)(()=>{const n=this._extractIconWithNameFromAnySet(t,e);if(!n)throw Ej(t);return n}))}_extractIconWithNameFromAnySet(t,e){for(let n=e.length-1;n>=0;n--){const r=e[n];if(r.svgText&&r.svgText.indexOf(t)>-1){const e=this._svgElementFromConfig(r),n=this._extractSvgIconFromSet(e,t,r.options);if(n)return n}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Object(Te.a)(e=>t.svgText=e),Object(te.a)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Object(Mt.a)(null):this._fetchIcon(t).pipe(Object(Te.a)(e=>t.svgText=e))}_extractSvgIconFromSet(t,e,n){const r=t.querySelector(`[id="${e}"]`);if(!r)return null;const i=r.cloneNode(!0);if(i.removeAttribute("id"),"svg"===i.nodeName.toLowerCase())return this._setSvgAttributes(i,n);if("symbol"===i.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(i),n);const o=this._svgElementFromString("<svg></svg>");return o.appendChild(i),this._setSvgAttributes(o,n)}_svgElementFromString(t){const e=this._document.createElement("DIV");e.innerHTML=t;const n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(t){const e=this._svgElementFromString("<svg></svg>"),n=t.attributes;for(let r=0;r<n.length;r++){const{name:t,value:i}=n[r];"id"!==t&&e.setAttribute(t,i)}for(let r=0;r<t.childNodes.length;r++)t.childNodes[r].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[r].cloneNode(!0));return e}_setSvgAttributes(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t}_fetchIcon(t){var e;const{url:n,options:i}=t,o=null!==(e=null==i?void 0:i.withCredentials)&&void 0!==e&&e;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const s=this._sanitizer.sanitize(r.J.RESOURCE_URL,n);if(!s)throw kj(n);const a=this._inProgressUrlFetches.get(s);if(a)return a;const c=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(Ue(()=>this._inProgressUrlFetches.delete(s)),Object(xj.a)());return this._inProgressUrlFetches.set(s,c),c}_addSvgIconConfig(t,e,n){return this._svgIconConfigs.set(Pj(t,e),n),this}_addSvgIconSetConfig(t,e){const n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this}_svgElementFromConfig(t){if(!t.svgElement){const e=this._svgElementFromString(t.svgText);this._setSvgAttributes(e,t.options),t.svgElement=e}return t.svgElement}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(wP,8),r.Wb(Rt),r.Wb(a,8),r.Wb(r.n))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Wb)(wP,8),Object(r.Wb)(Rt),Object(r.Wb)(a,8),Object(r.Wb)(r.n))},token:t,providedIn:"root"}),t})();function Aj(t){return t.cloneNode(!0)}function Pj(t,e){return t+":"+e}class Dj{constructor(t){this._elementRef=t}}const jj=Lk(Dj),Nj=new r.r("mat-icon-location",{providedIn:"root",factory:function(){const t=Object(r.W)(a),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),Mj=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Lj=Mj.map(t=>`[${t}]`).join(", "),Fj=/^url\(['"]?#(.*?)['"]?\)$/;let Vj=(()=>{class t extends jj{constructor(t,e,n,r,i){super(t),this._iconRegistry=e,this._location=r,this._errorHandler=i,this._inline=!1,this._currentIconFetch=Be.a.EMPTY,n||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=QE(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const e=this._cleanupFontValue(t);e!==this._fontSet&&(this._fontSet=e,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const e=this._cleanupFontValue(t);e!==this._fontIcon&&(this._fontIcon=e,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const e=t.querySelectorAll("style");for(let r=0;r<e.length;r++)e[r].textContent+=" ";const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){const n=t.childNodes[e];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||t.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const e=this._elementsWithExternalReferences;e&&e.forEach((e,n)=>{e.forEach(e=>{n.setAttribute(e.name,`url('${t}#${e.value}')`)})})}_cacheChildrenWithExternalReferences(t){const e=t.querySelectorAll(Lj),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let r=0;r<e.length;r++)Mj.forEach(t=>{const i=e[r],o=i.getAttribute(t),s=o?o.match(Fj):null;if(s){let e=n.get(i);e||(e=[],n.set(i,e)),e.push({name:t,value:s[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[e,n]=this._splitIconName(t);e&&(this._svgNamespace=e),n&&(this._svgName=n),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(n,e).pipe(Ce(1)).subscribe(t=>this._setSvgElement(t),t=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${e}:${n}! ${t.message}`))})}}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(Rj),r.Xb("aria-hidden"),r.Mb(Nj),r.Mb(r.n))},t.\u0275cmp=r.Gb({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,e){2&t&&(r.Cb("data-mat-icon-type",e._usingFontIcon()?"font":"svg")("data-mat-icon-name",e._svgName||e.fontIcon)("data-mat-icon-namespace",e._svgNamespace||e.fontSet),r.Eb("mat-icon-inline",e.inline)("mat-icon-no-color","primary"!==e.color&&"accent"!==e.color&&"warn"!==e.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[r.yb],ngContentSelectors:Oj,decls:1,vars:0,template:function(t,e){1&t&&(r.hc(),r.gc(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),t})(),Bj=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[Nk],Nk]}),t})(),Uj=(()=>{class t{transform(t,e){return t?e?"*".repeat(10):t.substring(0,10)+"..."+t.substring(t.length-5,t.length):"..."}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Lb({name:"shortenRoninAddress",type:t,pure:!0}),t})(),qj=(()=>{class t{transform(t,e){if(!t)return t;let n=t;return n.length>20&&(n=n.substring(0,19)+"..."),e?"*".repeat(10):n}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Lb({name:"shortenName",type:t,pure:!0}),t})();function Wj(t,e){if(1&t&&(r.Sb(0,"td",2),r.xc(1),r.Sb(2,"span",9),r.xc(3),r.Rb(),r.Rb()),2&t){const t=r.cc();r.Bb(1),r.zc("",t.data.slp.claimable*((100-t.data.managerShare)/100)," "),r.Bb(2),r.zc("(",100-t.data.managerShare,"%)")}}function Hj(t,e){if(1&t&&(r.Sb(0,"td",2),r.xc(1),r.Rb()),2&t){const t=r.cc();r.Bb(1),r.yc(t.data.slp.claimable)}}function zj(t,e){1&t&&(r.Sb(0,"td",2),r.xc(1,"Ronin Wallet"),r.Rb())}function Kj(t,e){1&t&&(r.Sb(0,"td",2),r.xc(1,"Ethereum Wallet"),r.Rb())}function Gj(t,e){if(1&t&&(r.Sb(0,"tr"),r.Sb(1,"td",1),r.xc(2,"Ronin Name"),r.Rb(),r.Sb(3,"td",2),r.xc(4),r.dc(5,"shortenName"),r.Rb(),r.Rb()),2&t){const t=r.cc();r.Bb(4),r.yc(r.fc(5,1,t.data.scholarRoninName,!1))}}function Yj(t,e){if(1&t){const t=r.Tb();r.Sb(0,"tr",10),r.ac("click",(function(){r.oc(t);const e=r.cc();return e.openSnackBar(e.data.scholarRoninAddress)})),r.Sb(1,"td",1),r.xc(2,"Scholar Ronin Address"),r.Rb(),r.Sb(3,"td",2),r.Sb(4,"mat-icon"),r.xc(5,"file_copy"),r.Rb(),r.xc(6),r.dc(7,"shortenRoninAddress"),r.Rb(),r.Rb()}if(2&t){const t=r.cc();r.ic("cdkCopyToClipboard",t.data.scholarRoninAddress),r.Bb(6),r.yc(r.fc(7,2,t.data.scholarRoninAddress,!1))}}function Qj(t,e){if(1&t){const t=r.Tb();r.Sb(0,"tr",10),r.ac("click",(function(){r.oc(t);const e=r.cc();return e.openSnackBar(e.data.scholarEthAddress)})),r.Sb(1,"td",1),r.xc(2,"Scholar Ethereum Address "),r.Rb(),r.Sb(3,"td",2),r.Sb(4,"mat-icon"),r.xc(5,"file_copy"),r.Rb(),r.xc(6),r.dc(7,"shortenRoninAddress"),r.Rb(),r.Rb()}if(2&t){const t=r.cc();r.ic("cdkCopyToClipboard",t.data.scholarEthAddress),r.Bb(6),r.yc(r.fc(7,2,t.data.scholarEthAddress,!1))}}let $j=(()=>{class t{constructor(t,e,n,r){this.dialogRef=t,this.scholarService=e,this.userService=n,this.data=r,this.paymentMethods=IT,r.scholarRoninName&&"unknown"!==r.scholarRoninName||this.userService.getScholarRoninName(r)}onNoClick(){this.dialogRef.close()}openSnackBar(t){this.scholarService.openSnackBar(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb($I),r.Mb(bN),r.Mb(FP),r.Mb(JI))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-pay-dialog"]],decls:37,vars:15,consts:[["mat-dialog-title",""],[1,"title-row"],[1,"item-row"],["class","item-row",4,"ngIf"],[4,"ngIf"],[3,"cdkCopyToClipboard","click",4,"ngIf"],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"],[1,"small-text"],[3,"cdkCopyToClipboard","click"]],template:function(t,e){1&t&&(r.Sb(0,"h1",0),r.xc(1),r.Rb(),r.Sb(2,"table"),r.Sb(3,"tr"),r.Sb(4,"td",1),r.xc(5,"Ronin Name"),r.Rb(),r.Sb(6,"td",2),r.xc(7),r.Rb(),r.Rb(),r.Sb(8,"tr"),r.Sb(9,"td",1),r.xc(10,"Ronin Address"),r.Rb(),r.Sb(11,"td",2),r.xc(12),r.dc(13,"shortenRoninAddress"),r.Rb(),r.Rb(),r.Sb(14,"tr"),r.Sb(15,"td",1),r.xc(16,"Total Claimable "),r.Rb(),r.Sb(17,"td",2),r.xc(18),r.Rb(),r.Rb(),r.Sb(19,"tr"),r.Sb(20,"td",1),r.xc(21,"Scholar Share (To Pay) "),r.Rb(),r.wc(22,Wj,4,2,"td",3),r.wc(23,Hj,2,1,"td",3),r.Rb(),r.Sb(24,"tr"),r.Sb(25,"td",1),r.xc(26,"Payment Method"),r.Rb(),r.wc(27,zj,2,0,"td",3),r.wc(28,Kj,2,0,"td",3),r.Rb(),r.wc(29,Gj,6,4,"tr",4),r.wc(30,Yj,8,5,"tr",5),r.wc(31,Qj,8,5,"tr",5),r.Rb(),r.Sb(32,"div",6),r.Sb(33,"button",7),r.ac("click",(function(){return e.onNoClick()})),r.xc(34,"Cancel"),r.Rb(),r.Sb(35,"button",8),r.xc(36,"Paid"),r.Rb(),r.Rb()),2&t&&(r.Bb(1),r.yc(e.data.name),r.Bb(6),r.yc(e.data.roninName),r.Bb(5),r.yc(r.fc(13,12,e.data.roninAddress,!1)),r.Bb(6),r.yc(e.data.slp.claimable),r.Bb(4),r.ic("ngIf",e.data.managerShare),r.Bb(1),r.ic("ngIf",!e.data.managerShare),r.Bb(4),r.ic("ngIf",e.data.preferredPaymentMethod===e.paymentMethods.ronin),r.Bb(1),r.ic("ngIf",e.data.preferredPaymentMethod===e.paymentMethods.eth),r.Bb(1),r.ic("ngIf",e.data.preferredPaymentMethod===e.paymentMethods.ronin),r.Bb(1),r.ic("ngIf",e.data.preferredPaymentMethod===e.paymentMethods.ronin),r.Bb(1),r.ic("ngIf",e.data.preferredPaymentMethod===e.paymentMethods.eth),r.Bb(4),r.ic("mat-dialog-close",e.data))},directives:[sR,V,cR,OT,oR,wj,Vj],pipes:[Uj,qj],styles:[".title-row[_ngcontent-%COMP%]{font-weight:700}.item-row[_ngcontent-%COMP%]{padding-left:10px}.small-text[_ngcontent-%COMP%]{font-size:10px}"]}),t})();class Xj{constructor(t){this.total=t}call(t,e){return e.subscribe(new Jj(t,this.total))}}class Jj extends re.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}const Zj=new Set;let tN,eN=(()=>{class t{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):nN}matchMedia(t){return this._platform.WEBKIT&&function(t){if(!Zj.has(t))try{tN||(tN=document.createElement("style"),tN.setAttribute("type","text/css"),document.head.appendChild(tN)),tN.sheet&&(tN.sheet.insertRule(`@media ${t} {.fx-query-test{ }}`,0),Zj.add(t))}catch(Qv){console.error(Qv)}}(t),this._matchMedia(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(ME))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Wb)(ME))},token:t,providedIn:"root"}),t})();function nN(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let rN=(()=>{class t{constructor(t,e){this._mediaMatcher=t,this._zone=e,this._queries=new Map,this._destroySubject=new Ft.a}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return iN(JE(t)).some(t=>this._registerQuery(t).mql.matches)}observe(t){let e=Qt(iN(JE(t)).map(t=>this._registerQuery(t).observable));return e=je(e.pipe(Ce(1)),e.pipe(t=>t.lift(new Xj(1)),zE(0))),e.pipe(Object(te.a)(t=>{const e={matches:!1,breakpoints:{}};return t.forEach(({matches:t,query:n})=>{e.matches=e.matches||t,e.breakpoints[n]=t}),e}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const e=this._mediaMatcher.matchMedia(t),n={observable:new Ut.a(t=>{const n=e=>this._zone.run(()=>t.next(e));return e.addListener(n),()=>{e.removeListener(n)}}).pipe(Ne(e),Object(te.a)(({matches:e})=>({query:t,matches:e})),qT(this._destroySubject)),mql:e};return this._queries.set(t,n),n}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(eN),r.Wb(r.A))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Wb)(eN),Object(r.Wb)(r.A))},token:t,providedIn:"root"}),t})();function iN(t){return t.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function oN(t,e){if(1&t){const t=r.Tb();r.Sb(0,"div",1),r.Sb(1,"button",2),r.ac("click",(function(){return r.oc(t),r.cc().action()})),r.xc(2),r.Rb(),r.Rb()}if(2&t){const t=r.cc();r.Bb(2),r.yc(t.data.action)}}function sN(t,e){}const aN=new r.r("MatSnackBarData");class cN{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const uN=Math.pow(2,31)-1;class lN{constructor(t,e){this._overlayRef=e,this._afterDismissed=new Ft.a,this._afterOpened=new Ft.a,this._onAction=new Ft.a,this._dismissedByAction=!1,this.containerInstance=t,this.onAction().subscribe(()=>this.dismiss()),t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete())}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,uN))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let hN=(()=>{class t{constructor(t,e){this.snackBarRef=t,this.data=e}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(lN),r.Mb(aN))},t.\u0275cmp=r.Gb({type:t,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(r.Sb(0,"span"),r.xc(1),r.Rb(),r.wc(2,oN,3,1,"div",0)),2&t&&(r.Bb(1),r.yc(e.data.message),r.Bb(1),r.ic("ngIf",e.hasAction))},directives:[V,OT],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),t})();const dN={snackBarState:lx("state",[mx("void, hidden",px({transform:"scale(0.8)",opacity:0})),mx("visible",px({transform:"scale(1)",opacity:1})),bx("* => visible",hx("150ms cubic-bezier(0, 0, 0.2, 1)")),bx("* => void, * => hidden",hx("75ms cubic-bezier(0.4, 0.0, 1, 1)",px({opacity:0})))])};let fN=(()=>{class t extends rI{constructor(t,e,n,r){super(),this._ngZone=t,this._elementRef=e,this._changeDetectorRef=n,this.snackBarConfig=r,this._destroyed=!1,this._onExit=new Ft.a,this._onEnter=new Ft.a,this._animationState="void",this.attachDomPortal=t=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(t)),this._role="assertive"!==r.politeness||r.announcementMessage?"off"===r.politeness?null:"status":"alert"}attachComponentPortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(t)}onAnimationEnd(t){const{fromState:e,toState:n}=t;if(("void"===n&&"void"!==e||"hidden"===n)&&this._completeExit(),"visible"===n){const t=this._onEnter;this._ngZone.run(()=>{t.next(),t.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(Ce(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const t=this._elementRef.nativeElement,e=this.snackBarConfig.panelClass;e&&(Array.isArray(e)?e.forEach(e=>t.classList.add(e)):t.classList.add(e)),"center"===this.snackBarConfig.horizontalPosition&&t.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&t.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.A),r.Mb(r.l),r.Mb(r.h),r.Mb(cN))},t.\u0275cmp=r.Gb({type:t,selectors:[["snack-bar-container"]],viewQuery:function(t,e){var n;1&t&&r.sc(sI,!0),2&t&&r.mc(n=r.bc())&&(e._portalOutlet=n.first)},hostAttrs:[1,"mat-snack-bar-container"],hostVars:2,hostBindings:function(t,e){1&t&&r.uc("@state.done",(function(t){return e.onAnimationEnd(t)})),2&t&&(r.Cb("role",e._role),r.vc("@state",e._animationState))},features:[r.yb],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&r.wc(0,sN,0,0,"ng-template",0)},directives:[sI],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[dN.snackBarState]}}),t})(),pN=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[qI,uI,Z,kT,Nk],Nk]}),t})();const mN=new r.r("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new cN}});let gN=(()=>{class t{constructor(t,e,n,r,i,o){this._overlay=t,this._live=e,this._injector=n,this._breakpointObserver=r,this._parentSnackBar=i,this._defaultConfig=o,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=hN,this.snackBarContainerComponent=fN,this.handsetCssClass="mat-snack-bar-handset"}get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}openFromComponent(t,e){return this._attach(t,e)}openFromTemplate(t,e){return this._attach(t,e)}open(t,e="",n){const r=Object.assign(Object.assign({},this._defaultConfig),n);return r.data={message:t,action:e},r.announcementMessage===t&&(r.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,r)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,e){const n=r.s.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:cN,useValue:e}]}),i=new tI(this.snackBarContainerComponent,e.viewContainerRef,n),o=t.attach(i);return o.instance.snackBarConfig=e,o.instance}_attach(t,e){const n=Object.assign(Object.assign(Object.assign({},new cN),this._defaultConfig),e),i=this._createOverlay(n),o=this._attachSnackBarContainer(i,n),s=new lN(o,i);if(t instanceof r.M){const e=new eI(t,null,{$implicit:n.data,snackBarRef:s});s.instance=o.attachTemplatePortal(e)}else{const e=this._createInjector(n,s),r=new tI(t,void 0,e),i=o.attachComponentPortal(r);s.instance=i.instance}return this._breakpointObserver.observe("(max-width: 599.99px) and (orientation: portrait)").pipe(qT(i.detachments())).subscribe(t=>{const e=i.overlayElement.classList;t.matches?e.add(this.handsetCssClass):e.remove(this.handsetCssClass)}),this._animateSnackBar(s,n),this._openedSnackBarRef=s,this._openedSnackBarRef}_animateSnackBar(t,e){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),e.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),e.duration&&e.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(e.duration)),e.announcementMessage&&this._live.announce(e.announcementMessage,e.politeness)}_createOverlay(t){const e=new yI;e.direction=t.direction;let n=this._overlay.position().global();const r="rtl"===t.direction,i="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!r||"end"===t.horizontalPosition&&r,o=!i&&"center"!==t.horizontalPosition;return i?n.left("0"):o?n.right("0"):n.centerHorizontally(),"top"===t.verticalPosition?n.top("0"):n.bottom("0"),e.positionStrategy=n,this._overlay.create(e)}_createInjector(t,e){return r.s.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:lN,useValue:e},{provide:aN,useValue:t.data}]})}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(MI),r.Wb(mk),r.Wb(r.s),r.Wb(rN),r.Wb(t,12),r.Wb(mN))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Wb)(MI),Object(r.Wb)(mk),Object(r.Wb)(r.p),Object(r.Wb)(rN),Object(r.Wb)(t,12),Object(r.Wb)(mN))},token:t,providedIn:pN}),t})(),bN=(()=>{class t{constructor(t,e,n,r){this.dialog=t,this.db=e,this.authService=n,this.snackBar=r}openPayDialog(t){this.dialog.open($j,{width:"400px",data:Object(PT.cloneDeep)(t)}).afterClosed().subscribe(t=>Object(Ri.__awaiter)(this,void 0,void 0,(function*(){var e;const n=this.authService.userState.getValue();if(n&&t){t.paidTimes=(null!==(e=null==t?void 0:t.paidTimes)&&void 0!==e?e:0)+1;const r=yield this.db.collection("users").doc(n.uid).get().toPromise();yield r.ref.update({["scholars."+t.id]:t})}})))}openDialog(t){this.dialog.open(bj,{width:"400px",data:Object(PT.cloneDeep)(t)}).afterClosed().subscribe(t=>Object(Ri.__awaiter)(this,void 0,void 0,(function*(){var e,n,r,i,o;const s=this.authService.userState.getValue();if(s&&t){t.managerShare=null!==(e=null==t?void 0:t.managerShare)&&void 0!==e?e:30,t.scholarRoninAddress=null!==(r=null===(n=null==t?void 0:t.scholarRoninAddress)||void 0===n?void 0:n.trim())&&void 0!==r?r:"",t.roninAddress=null!==(o=null===(i=null==t?void 0:t.roninAddress)||void 0===i?void 0:i.trim())&&void 0!==o?o:"";const a=yield this.db.collection("users").doc(s.uid).get().toPromise();yield a.ref.update({["scholars."+t.id]:t})}})))}openSnackBar(t){this.snackBar.open(t+" copied",void 0,{duration:5e3,verticalPosition:"top"})}deleteScholar(t){this.dialog.open(hR,{width:"200px"}).afterClosed().subscribe(e=>Object(Ri.__awaiter)(this,void 0,void 0,(function*(){const n=this.authService.userState.getValue();if(n&&e){const e=yield this.db.collection("users").doc(n.uid).get().toPromise();yield e.ref.update({["scholars."+t]:Ii.default.firestore.FieldValue.delete()})}})))}navigateToScholar(t){window.open("https://marketplace.axieinfinity.com/profile/"+t+"/axie","_blank")}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(rR),r.Wb(ox),r.Wb(cx),r.Wb(gN))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function vN(t,e){1&t&&r.gc(0)}const yN=["*"];function _N(t,e){}const wN=function(t){return{animationDuration:t}},SN=function(t,e){return{value:t,params:e}},CN=["tabBodyWrapper"],xN=["tabHeader"];function ON(t,e){}function EN(t,e){if(1&t&&r.wc(0,ON,0,0,"ng-template",9),2&t){const t=r.cc().$implicit;r.ic("cdkPortalOutlet",t.templateLabel)}}function kN(t,e){if(1&t&&r.xc(0),2&t){const t=r.cc().$implicit;r.yc(t.textLabel)}}function TN(t,e){if(1&t){const t=r.Tb();r.Sb(0,"div",6),r.ac("click",(function(){r.oc(t);const n=e.$implicit,i=e.index,o=r.cc(),s=r.nc(1);return o._handleClick(n,s,i)})),r.Sb(1,"div",7),r.wc(2,EN,1,1,"ng-template",8),r.wc(3,kN,1,1,"ng-template",8),r.Rb(),r.Rb()}if(2&t){const t=e.$implicit,n=e.index,i=r.cc();r.Eb("mat-tab-label-active",i.selectedIndex==n),r.ic("id",i._getTabLabelId(n))("disabled",t.disabled)("matRippleDisabled",t.disabled||i.disableRipple),r.Cb("tabIndex",i._getTabIndex(t,n))("aria-posinset",n+1)("aria-setsize",i._tabs.length)("aria-controls",i._getTabContentId(n))("aria-selected",i.selectedIndex==n)("aria-label",t.ariaLabel||null)("aria-labelledby",!t.ariaLabel&&t.ariaLabelledby?t.ariaLabelledby:null),r.Bb(2),r.ic("ngIf",t.templateLabel),r.Bb(1),r.ic("ngIf",!t.templateLabel)}}function IN(t,e){if(1&t){const t=r.Tb();r.Sb(0,"mat-tab-body",10),r.ac("_onCentered",(function(){return r.oc(t),r.cc()._removeTabBodyWrapperHeight()}))("_onCentering",(function(e){return r.oc(t),r.cc()._setTabBodyWrapperHeight(e)})),r.Rb()}if(2&t){const t=e.$implicit,n=e.index,i=r.cc();r.Eb("mat-tab-body-active",i.selectedIndex==n),r.ic("id",i._getTabContentId(n))("content",t.content)("position",t.position)("origin",t.origin)("animationDuration",i.animationDuration),r.Cb("aria-labelledby",i._getTabLabelId(n))}}const RN=["tabListContainer"],AN=["tabList"],PN=["nextPaginator"],DN=["previousPaginator"],jN=new r.r("MatInkBarPositioner",{providedIn:"root",factory:function(){return t=>({left:t?(t.offsetLeft||0)+"px":"0",width:t?(t.offsetWidth||0)+"px":"0"})}});let NN=(()=>{class t{constructor(t,e,n,r){this._elementRef=t,this._ngZone=e,this._inkBarPositioner=n,this._animationMode=r}alignToElement(t){this.show(),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._setStyles(t))}):this._setStyles(t)}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}_setStyles(t){const e=this._inkBarPositioner(t),n=this._elementRef.nativeElement;n.style.left=e.left,n.style.width=e.width}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(r.A),r.Mb(jN),r.Mb(AE,8))},t.\u0275dir=r.Hb({type:t,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(t,e){2&t&&r.Eb("_mat-animation-noopable","NoopAnimations"===e._animationMode)}}),t})();const MN=new r.r("MatTabContent"),LN=new r.r("MatTabLabel");let FN=(()=>{class t extends oI{}return t.\u0275fac=function(e){return VN(e||t)},t.\u0275dir=r.Hb({type:t,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[r.Ab([{provide:LN,useExisting:t}]),r.yb]}),t})();const VN=r.Ub(FN);class BN{}const UN=Mk(BN),qN=new r.r("MAT_TAB_GROUP");let WN=(()=>{class t extends UN{constructor(t,e){super(),this._viewContainerRef=t,this._closestTabGroup=e,this.textLabel="",this._contentPortal=null,this._stateChanges=new Ft.a,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(t){this._setTemplateLabelInput(t)}get content(){return this._contentPortal}ngOnChanges(t){(t.hasOwnProperty("textLabel")||t.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new eI(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(t){t&&(this._templateLabel=t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.R),r.Mb(qN,8))},t.\u0275cmp=r.Gb({type:t,selectors:[["mat-tab"]],contentQueries:function(t,e,n){var i;1&t&&(r.Fb(n,LN,!0),r.rc(n,MN,!0,r.M)),2&t&&(r.mc(i=r.bc())&&(e.templateLabel=i.first),r.mc(i=r.bc())&&(e._explicitContent=i.first))},viewQuery:function(t,e){var n;1&t&&r.sc(r.M,!0),2&t&&r.mc(n=r.bc())&&(e._implicitContent=n.first)},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"]},exportAs:["matTab"],features:[r.yb,r.zb],ngContentSelectors:yN,decls:1,vars:0,template:function(t,e){1&t&&(r.hc(),r.wc(0,vN,1,0,"ng-template"))},encapsulation:2}),t})();const HN={translateTab:lx("translateTab",[mx("center, void, left-origin-center, right-origin-center",px({transform:"none"})),mx("left",px({transform:"translate3d(-100%, 0, 0)",minHeight:"1px"})),mx("right",px({transform:"translate3d(100%, 0, 0)",minHeight:"1px"})),bx("* => left, * => right, left => center, right => center",hx("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),bx("void => left-origin-center",[px({transform:"translate3d(-100%, 0, 0)"}),hx("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),bx("void => right-origin-center",[px({transform:"translate3d(100%, 0, 0)"}),hx("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let zN=(()=>{class t extends sI{constructor(t,e,n,r){super(t,e,r),this._host=n,this._centeringSub=Be.a.EMPTY,this._leavingSub=Be.a.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Ne(this._host._isCenterPosition(this._host._position))).subscribe(t=>{t&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.j),r.Mb(r.R),r.Mb(Object(r.V)(()=>GN)),r.Mb(a))},t.\u0275dir=r.Hb({type:t,selectors:[["","matTabBodyHost",""]],features:[r.yb]}),t})(),KN=(()=>{class t{constructor(t,e,n){this._elementRef=t,this._dir=e,this._dirChangeSubscription=Be.a.EMPTY,this._translateTabComplete=new Ft.a,this._onCentering=new r.o,this._beforeCentering=new r.o,this._afterLeavingCenter=new r.o,this._onCentered=new r.o(!0),this.animationDuration="500ms",e&&(this._dirChangeSubscription=e.change.subscribe(t=>{this._computePositionAnimationState(t),n.markForCheck()})),this._translateTabComplete.pipe(CC((t,e)=>t.fromState===e.fromState&&t.toState===e.toState)).subscribe(t=>{this._isCenterPosition(t.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(t.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(t){this._positionIndex=t,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(t){const e=this._isCenterPosition(t.toState);this._beforeCentering.emit(e),e&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(t){return"center"==t||"left-origin-center"==t||"right-origin-center"==t}_computePositionAnimationState(t=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==t?"left":"right":this._positionIndex>0?"ltr"==t?"right":"left":"center"}_computePositionFromOrigin(t){const e=this._getLayoutDirection();return"ltr"==e&&t<=0||"rtl"==e&&t>0?"left-origin-center":"right-origin-center"}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(Ok,8),r.Mb(r.h))},t.\u0275dir=r.Hb({type:t,inputs:{animationDuration:"animationDuration",position:"position",_content:["content","_content"],origin:"origin"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),t})(),GN=(()=>{class t extends KN{constructor(t,e,n){super(t,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(Ok,8),r.Mb(r.h))},t.\u0275cmp=r.Gb({type:t,selectors:[["mat-tab-body"]],viewQuery:function(t,e){var n;1&t&&r.Bc(aI,!0),2&t&&r.mc(n=r.bc())&&(e._portalHost=n.first)},hostAttrs:[1,"mat-tab-body"],features:[r.yb],decls:3,vars:6,consts:[[1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(t,e){1&t&&(r.Sb(0,"div",0,1),r.ac("@translateTab.start",(function(t){return e._onTranslateTabStarted(t)}))("@translateTab.done",(function(t){return e._translateTabComplete.next(t)})),r.wc(2,_N,0,0,"ng-template",2),r.Rb()),2&t&&r.ic("@translateTab",r.lc(3,SN,e._position,r.kc(1,wN,e.animationDuration)))},directives:[zN],styles:[".mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}\n"],encapsulation:2,data:{animation:[HN.translateTab]}}),t})();const YN=new r.r("MAT_TABS_CONFIG");let QN=0;class $N{}class XN{constructor(t){this._elementRef=t}}const JN=Lk(Fk(XN),"primary");let ZN=(()=>{class t extends JN{constructor(t,e,n,i){super(t),this._changeDetectorRef=e,this._animationMode=i,this._tabs=new r.E,this._indexToSelect=0,this._tabBodyWrapperHeight=0,this._tabsSubscription=Be.a.EMPTY,this._tabLabelSubscription=Be.a.EMPTY,this._dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this.selectedIndexChange=new r.o,this.focusChange=new r.o,this.animationDone=new r.o,this.selectedTabChange=new r.o(!0),this._groupId=QN++,this.animationDuration=n&&n.animationDuration?n.animationDuration:"500ms",this.disablePagination=!(!n||null==n.disablePagination)&&n.disablePagination}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(t){this._dynamicHeight=QE(t)}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){this._indexToSelect=$E(t,null)}get animationDuration(){return this._animationDuration}set animationDuration(t){this._animationDuration=/^\d+$/.test(t)?t+"ms":t}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){const e=this._elementRef.nativeElement;e.classList.remove("mat-background-"+this.backgroundColor),t&&e.classList.add("mat-background-"+t),this._backgroundColor=t}ngAfterContentChecked(){const t=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=t){const e=null==this._selectedIndex;e||this.selectedTabChange.emit(this._createChangeEvent(t)),Promise.resolve().then(()=>{this._tabs.forEach((e,n)=>e.isActive=n===t),e||this.selectedIndexChange.emit(t)})}this._tabs.forEach((e,n)=>{e.position=n-t,null==this._selectedIndex||0!=e.position||e.origin||(e.origin=t-this._selectedIndex)}),this._selectedIndex!==t&&(this._selectedIndex=t,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{if(this._clampTabIndex(this._indexToSelect)===this._selectedIndex){const t=this._tabs.toArray();for(let e=0;e<t.length;e++)if(t[e].isActive){this._indexToSelect=this._selectedIndex=e;break}}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(Ne(this._allTabs)).subscribe(t=>{this._tabs.reset(t.filter(t=>!t._closestTabGroup||t._closestTabGroup===this)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}_focusChanged(t){this.focusChange.emit(this._createChangeEvent(t))}_createChangeEvent(t){const e=new $N;return e.index=t,this._tabs&&this._tabs.length&&(e.tab=this._tabs.toArray()[t]),e}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=Object(IC.a)(...this._tabs.map(t=>t._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(t){return Math.min(this._tabs.length-1,Math.max(t||0,0))}_getTabLabelId(t){return`mat-tab-label-${this._groupId}-${t}`}_getTabContentId(t){return`mat-tab-content-${this._groupId}-${t}`}_setTabBodyWrapperHeight(t){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const e=this._tabBodyWrapper.nativeElement;e.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(e.style.height=t+"px")}_removeTabBodyWrapperHeight(){const t=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=t.clientHeight,t.style.height="",this.animationDone.emit()}_handleClick(t,e,n){t.disabled||(this.selectedIndex=e.focusIndex=n)}_getTabIndex(t,e){return t.disabled?null:this.selectedIndex===e?0:-1}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(r.h),r.Mb(YN,8),r.Mb(AE,8))},t.\u0275dir=r.Hb({type:t,inputs:{headerPosition:"headerPosition",animationDuration:"animationDuration",disablePagination:"disablePagination",dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[r.yb]}),t})(),tM=(()=>{class t extends ZN{constructor(t,e,n,r){super(t,e,n,r)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(r.h),r.Mb(YN,8),r.Mb(AE,8))},t.\u0275cmp=r.Gb({type:t,selectors:[["mat-tab-group"]],contentQueries:function(t,e,n){var i;1&t&&r.Fb(n,WN,!0),2&t&&r.mc(i=r.bc())&&(e._allTabs=i)},viewQuery:function(t,e){var n;1&t&&(r.Bc(CN,!0),r.Bc(xN,!0)),2&t&&(r.mc(n=r.bc())&&(e._tabBodyWrapper=n.first),r.mc(n=r.bc())&&(e._tabHeader=n.first))},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(t,e){2&t&&r.Eb("mat-tab-group-dynamic-height",e.dynamicHeight)("mat-tab-group-inverted-header","below"===e.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[r.Ab([{provide:qN,useExisting:t}]),r.yb],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","disabled","matRippleDisabled","click",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","content","position","origin","animationDuration","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","disabled","matRippleDisabled","click"],[1,"mat-tab-label-content"],[3,"ngIf"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","content","position","origin","animationDuration","_onCentered","_onCentering"]],template:function(t,e){1&t&&(r.Sb(0,"mat-tab-header",0,1),r.ac("indexFocused",(function(t){return e._focusChanged(t)}))("selectFocusedIndex",(function(t){return e.selectedIndex=t})),r.wc(2,TN,4,14,"div",2),r.Rb(),r.Sb(3,"div",3,4),r.wc(5,IN,1,8,"mat-tab-body",5),r.Rb()),2&t&&(r.ic("selectedIndex",e.selectedIndex||0)("disableRipple",e.disableRipple)("disablePagination",e.disablePagination),r.Bb(2),r.ic("ngForOf",e._tabs),r.Bb(1),r.Eb("_mat-animation-noopable","NoopAnimations"===e._animationMode),r.Bb(2),r.ic("ngForOf",e._tabs))},directives:function(){return[aM,L,rM,$k,wk,V,sI,GN]},styles:[".mat-tab-group{display:flex;flex-direction:column}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-tab-body-wrapper{transition:none;animation:none}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}\n"],encapsulation:2}),t})();class eM{}const nM=Mk(eM);let rM=(()=>{class t extends nM{constructor(t){super(),this.elementRef=t}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(t,e){2&t&&(r.Cb("aria-disabled",!!e.disabled),r.Eb("mat-tab-disabled",e.disabled))},inputs:{disabled:"disabled"},features:[r.yb]}),t})();const iM=qE({passive:!0});let oM=(()=>{class t{constructor(t,e,n,i,o,s,a){this._elementRef=t,this._changeDetectorRef=e,this._viewportRuler=n,this._dir=i,this._ngZone=o,this._platform=s,this._animationMode=a,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new Ft.a,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new Ft.a,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new r.o,this.indexFocused=new r.o,o.runOutsideAngular(()=>{jT(t.nativeElement,"mouseleave").pipe(qT(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){t=$E(t),this._selectedIndex!=t&&(this._selectedIndexChanged=!0,this._selectedIndex=t,this._keyManager&&this._keyManager.updateActiveItem(t))}ngAfterViewInit(){jT(this._previousPaginator.nativeElement,"touchstart",iM).pipe(qT(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),jT(this._nextPaginator.nativeElement,"touchstart",iM).pipe(qT(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const t=this._dir?this._dir.change:Object(Mt.a)(null),e=this._viewportRuler.change(150),n=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new ak(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(n):n(),Object(IC.a)(t,e,this._items.changes).pipe(qT(this._destroyed)).subscribe(()=>{Promise.resolve().then(n),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe(qT(this._destroyed)).subscribe(t=>{this.indexFocused.emit(t),this._setTabFocus(t)})}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(t){if(!HE(t))switch(t.keyCode){case 13:case 32:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(t));break;default:this._keyManager.onKeydown(t)}}_onContentChanges(){const t=this._elementRef.nativeElement.textContent;t!==this._currentTextContent&&(this._currentTextContent=t||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(t){this._isValidIndex(t)&&this.focusIndex!==t&&this._keyManager&&this._keyManager.setActiveItem(t)}_isValidIndex(t){if(!this._items)return!0;const e=this._items?this._items.toArray()[t]:null;return!!e&&!e.disabled}_setTabFocus(t){if(this._showPaginationControls&&this._scrollToLabel(t),this._items&&this._items.length){this._items.toArray()[t].focus();const e=this._tabListContainer.nativeElement,n=this._getLayoutDirection();e.scrollLeft="ltr"==n?0:e.scrollWidth-e.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const t=this.scrollDistance,e=this._platform,n="ltr"===this._getLayoutDirection()?-t:t;this._tabList.nativeElement.style.transform=`translateX(${Math.round(n)}px)`,e&&(e.TRIDENT||e.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(t){this._scrollTo(t)}_scrollHeader(t){return this._scrollTo(this._scrollDistance+("before"==t?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(t){this._stopInterval(),this._scrollHeader(t)}_scrollToLabel(t){if(this.disablePagination)return;const e=this._items?this._items.toArray()[t]:null;if(!e)return;const n=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:r,offsetWidth:i}=e.elementRef.nativeElement;let o,s;"ltr"==this._getLayoutDirection()?(o=r,s=o+i):(s=this._tabList.nativeElement.offsetWidth-r,o=s-i);const a=this.scrollDistance,c=this.scrollDistance+n;o<a?this.scrollDistance-=a-o+60:s>c&&(this.scrollDistance+=s-c+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const t=this._tabList.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;t||(this.scrollDistance=0),t!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=t}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabList.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const t=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,e=t?t.elementRef.nativeElement:null;e?this._inkBar.alignToElement(e):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(t,e){e&&null!=e.button&&0!==e.button||(this._stopInterval(),VT(650,100).pipe(qT(Object(IC.a)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:e,distance:n}=this._scrollHeader(t);(0===n||n>=e)&&this._stopInterval()}))}_scrollTo(t){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const e=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(e,t)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:e,distance:this._scrollDistance}}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(r.h),r.Mb($T),r.Mb(Ok,8),r.Mb(r.A),r.Mb(ME),r.Mb(AE,8))},t.\u0275dir=r.Hb({type:t,inputs:{disablePagination:"disablePagination"}}),t})(),sM=(()=>{class t extends oM{constructor(t,e,n,r,i,o,s){super(t,e,n,r,i,o,s),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=QE(t)}_itemSelected(t){t.preventDefault()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(r.h),r.Mb($T),r.Mb(Ok,8),r.Mb(r.A),r.Mb(ME),r.Mb(AE,8))},t.\u0275dir=r.Hb({type:t,inputs:{disableRipple:"disableRipple"},features:[r.yb]}),t})(),aM=(()=>{class t extends sM{constructor(t,e,n,r,i,o,s){super(t,e,n,r,i,o,s)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(r.h),r.Mb($T),r.Mb(Ok,8),r.Mb(r.A),r.Mb(ME),r.Mb(AE,8))},t.\u0275cmp=r.Gb({type:t,selectors:[["mat-tab-header"]],contentQueries:function(t,e,n){var i;1&t&&r.Fb(n,rM,!1),2&t&&r.mc(i=r.bc())&&(e._items=i)},viewQuery:function(t,e){var n;1&t&&(r.sc(NN,!0),r.sc(RN,!0),r.sc(AN,!0),r.Bc(PN,!0),r.Bc(DN,!0)),2&t&&(r.mc(n=r.bc())&&(e._inkBar=n.first),r.mc(n=r.bc())&&(e._tabListContainer=n.first),r.mc(n=r.bc())&&(e._tabList=n.first),r.mc(n=r.bc())&&(e._nextPaginator=n.first),r.mc(n=r.bc())&&(e._previousPaginator=n.first))},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(t,e){2&t&&r.Eb("mat-tab-header-pagination-controls-enabled",e._showPaginationControls)("mat-tab-header-rtl","rtl"==e._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[r.yb],ngContentSelectors:yN,decls:13,vars:8,consts:[["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(t,e){1&t&&(r.hc(),r.Sb(0,"div",0,1),r.ac("click",(function(){return e._handlePaginatorClick("before")}))("mousedown",(function(t){return e._handlePaginatorPress("before",t)}))("touchend",(function(){return e._stopInterval()})),r.Nb(2,"div",2),r.Rb(),r.Sb(3,"div",3,4),r.ac("keydown",(function(t){return e._handleKeydown(t)})),r.Sb(5,"div",5,6),r.ac("cdkObserveContent",(function(){return e._onContentChanges()})),r.Sb(7,"div",7),r.gc(8),r.Rb(),r.Nb(9,"mat-ink-bar"),r.Rb(),r.Rb(),r.Sb(10,"div",8,9),r.ac("mousedown",(function(t){return e._handlePaginatorPress("after",t)}))("click",(function(){return e._handlePaginatorClick("after")}))("touchend",(function(){return e._stopInterval()})),r.Nb(12,"div",2),r.Rb()),2&t&&(r.Eb("mat-tab-header-pagination-disabled",e._disableScrollBefore),r.ic("matRippleDisabled",e._disableScrollBefore||e.disableRipple),r.Bb(5),r.Eb("_mat-animation-noopable","NoopAnimations"===e._animationMode),r.Bb(5),r.Eb("mat-tab-header-pagination-disabled",e._disableScrollAfter),r.ic("matRippleDisabled",e._disableScrollAfter||e.disableRipple))},directives:[$k,rk,NN],styles:['.mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;content:"";height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}._mat-animation-noopable.mat-tab-list{transition:none;animation:none}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{min-width:72px}}\n'],encapsulation:2}),t})(),cM=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[Z,Nk,uI,Xk,ik,Ck],Nk]}),t})();const uM=["mat-sort-header",""];function lM(t,e){if(1&t){const t=r.Tb();r.Sb(0,"div",3),r.ac("@arrowPosition.start",(function(){return r.oc(t),r.cc()._disableViewStateAnimation=!0}))("@arrowPosition.done",(function(){return r.oc(t),r.cc()._disableViewStateAnimation=!1})),r.Nb(1,"div",4),r.Sb(2,"div",5),r.Nb(3,"div",6),r.Nb(4,"div",7),r.Nb(5,"div",8),r.Rb(),r.Rb()}if(2&t){const t=r.cc();r.ic("@arrowOpacity",t._getArrowViewState())("@arrowPosition",t._getArrowViewState())("@allowChildren",t._getArrowDirectionState()),r.Bb(2),r.ic("@indicator",t._getArrowDirectionState()),r.Bb(1),r.ic("@leftPointer",t._getArrowDirectionState()),r.Bb(1),r.ic("@rightPointer",t._getArrowDirectionState())}}const hM=["*"];class dM{}const fM=Uk(Mk(dM));let pM=(()=>{class t extends fM{constructor(){super(...arguments),this.sortables=new Map,this._stateChanges=new Ft.a,this.start="asc",this._direction="",this.sortChange=new r.o}get direction(){return this._direction}set direction(t){this._direction=t}get disableClear(){return this._disableClear}set disableClear(t){this._disableClear=QE(t)}register(t){this.sortables.set(t.id,t)}deregister(t){this.sortables.delete(t.id)}sort(t){this.active!=t.id?(this.active=t.id,this.direction=t.start?t.start:this.start):this.direction=this.getNextSortDirection(t),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(t){if(!t)return"";let e=function(t,e){let n=["asc","desc"];return"desc"==t&&n.reverse(),e||n.push(""),n}(t.start||this.start,null!=t.disableClear?t.disableClear:this.disableClear),n=e.indexOf(this.direction)+1;return n>=e.length&&(n=0),e[n]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return t.\u0275fac=function(e){return mM(e||t)},t.\u0275dir=r.Hb({type:t,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"],active:["matSortActive","active"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[r.yb,r.zb]}),t})();const mM=r.Ub(pM),gM=Ak.ENTERING+" "+Rk.STANDARD_CURVE,bM={indicator:lx("indicator",[mx("active-asc, asc",px({transform:"translateY(0px)"})),mx("active-desc, desc",px({transform:"translateY(10px)"})),bx("active-asc <=> active-desc",hx(gM))]),leftPointer:lx("leftPointer",[mx("active-asc, asc",px({transform:"rotate(-45deg)"})),mx("active-desc, desc",px({transform:"rotate(45deg)"})),bx("active-asc <=> active-desc",hx(gM))]),rightPointer:lx("rightPointer",[mx("active-asc, asc",px({transform:"rotate(45deg)"})),mx("active-desc, desc",px({transform:"rotate(-45deg)"})),bx("active-asc <=> active-desc",hx(gM))]),arrowOpacity:lx("arrowOpacity",[mx("desc-to-active, asc-to-active, active",px({opacity:1})),mx("desc-to-hint, asc-to-hint, hint",px({opacity:.54})),mx("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",px({opacity:0})),bx("* => asc, * => desc, * => active, * => hint, * => void",hx("0ms")),bx("* <=> *",hx(gM))]),arrowPosition:lx("arrowPosition",[bx("* => desc-to-hint, * => desc-to-active",hx(gM,gx([px({transform:"translateY(-25%)"}),px({transform:"translateY(0)"})]))),bx("* => hint-to-desc, * => active-to-desc",hx(gM,gx([px({transform:"translateY(0)"}),px({transform:"translateY(25%)"})]))),bx("* => asc-to-hint, * => asc-to-active",hx(gM,gx([px({transform:"translateY(25%)"}),px({transform:"translateY(0)"})]))),bx("* => hint-to-asc, * => active-to-asc",hx(gM,gx([px({transform:"translateY(0)"}),px({transform:"translateY(-25%)"})]))),mx("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",px({transform:"translateY(0)"})),mx("hint-to-desc, active-to-desc, desc",px({transform:"translateY(-25%)"})),mx("hint-to-asc, active-to-asc, asc",px({transform:"translateY(25%)"}))]),allowChildren:lx("allowChildren",[bx("* <=> *",[yx("@*",vx(),{optional:!0})])])};let vM=(()=>{class t{constructor(){this.changes=new Ft.a,this.sortButtonLabel=t=>"Change sorting for "+t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const yM={provide:vM,deps:[[new r.B,new r.K,vM]],useFactory:function(t){return t||new vM}};class _M{}const wM=Mk(_M);let SM=(()=>{class t extends wM{constructor(t,e,n,r,i,o){super(),this._intl=t,this._sort=n,this._columnDef=r,this._focusMonitor=i,this._elementRef=o,this._showIndicatorHint=!1,this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this._rerenderSubscription=Object(IC.a)(n.sortChange,n._stateChanges,t.changes).subscribe(()=>{this._isSorted()&&this._updateArrowDirection(),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),e.markForCheck()})}get disableClear(){return this._disableClear}set disableClear(t){this._disableClear=QE(t)}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>this._setIndicatorHintVisible(!!t))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe()}_setIndicatorHintVisible(t){this._isDisabled()&&t||(this._showIndicatorHint=t,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(t){this._viewState=t,this._disableViewStateAnimation&&(this._viewState={toState:t.toState})}_toggleOnInteraction(){this._sort.sort(this),"hint"!==this._viewState.toState&&"active"!==this._viewState.toState||(this._disableViewStateAnimation=!0);const t=this._isSorted()?{fromState:this._arrowDirection,toState:"active"}:{fromState:"active",toState:this._arrowDirection};this._setAnimationTransitionState(t),this._showIndicatorHint=!1}_handleClick(){this._isDisabled()||this._toggleOnInteraction()}_handleKeydown(t){this._isDisabled()||32!==t.keyCode&&13!==t.keyCode||(t.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const t=this._viewState.fromState;return(t?t+"-to-":"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(vM),r.Mb(r.h),r.Mb(pM,8),r.Mb("MAT_SORT_HEADER_COLUMN_DEF",8),r.Mb(yk),r.Mb(r.l))},t.\u0275cmp=r.Gb({type:t,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(t,e){1&t&&r.ac("click",(function(){return e._handleClick()}))("keydown",(function(t){return e._handleKeydown(t)}))("mouseenter",(function(){return e._setIndicatorHintVisible(!0)}))("mouseleave",(function(){return e._setIndicatorHintVisible(!1)})),2&t&&(r.Cb("aria-sort",e._getAriaSortAttribute()),r.Eb("mat-sort-header-disabled",e._isDisabled()))},inputs:{disabled:"disabled",arrowPosition:"arrowPosition",disableClear:"disableClear",id:["mat-sort-header","id"],start:"start"},exportAs:["matSortHeader"],features:[r.yb],attrs:uM,ngContentSelectors:hM,decls:4,vars:6,consts:[["role","button",1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],["class","mat-sort-header-arrow",4,"ngIf"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(t,e){1&t&&(r.hc(),r.Sb(0,"div",0),r.Sb(1,"div",1),r.gc(2),r.Rb(),r.wc(3,lM,6,6,"div",2),r.Rb()),2&t&&(r.Eb("mat-sort-header-sorted",e._isSorted())("mat-sort-header-position-before","before"==e.arrowPosition),r.Cb("tabindex",e._isDisabled()?null:0),r.Bb(3),r.ic("ngIf",e._renderArrow()))},directives:[V],styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}\n"],encapsulation:2,data:{animation:[bM.indicator,bM.leftPointer,bM.rightPointer,bM.arrowOpacity,bM.arrowPosition,bM.allowChildren]},changeDetection:0}),t})(),CM=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[yM],imports:[[Z]]}),t})();const xM=[[["caption"]],[["colgroup"],["col"]]],OM=["caption","colgroup, col"];function EM(t){return class extends t{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=QE(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const kM=new r.r("CDK_TABLE");let TM=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.M))},t.\u0275dir=r.Hb({type:t,selectors:[["","cdkCellDef",""]]}),t})(),IM=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.M))},t.\u0275dir=r.Hb({type:t,selectors:[["","cdkHeaderCellDef",""]]}),t})(),RM=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.M))},t.\u0275dir=r.Hb({type:t,selectors:[["","cdkFooterCellDef",""]]}),t})();class AM{}const PM=EM(AM);let DM=(()=>{class t extends PM{constructor(t){super(),this._table=t,this._stickyEnd=!1}get name(){return this._name}set name(t){this._setNameInput(t)}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){const e=this._stickyEnd;this._stickyEnd=QE(t),this._hasStickyChanged=e!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=["cdk-column-"+this.cssClassFriendlyName]}_setNameInput(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(kM,8))},t.\u0275dir=r.Hb({type:t,selectors:[["","cdkColumnDef",""]],contentQueries:function(t,e,n){var i;1&t&&(r.Fb(n,TM,!0),r.Fb(n,IM,!0),r.Fb(n,RM,!0)),2&t&&(r.mc(i=r.bc())&&(e.cell=i.first),r.mc(i=r.bc())&&(e.headerCell=i.first),r.mc(i=r.bc())&&(e.footerCell=i.first))},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[r.Ab([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),r.yb]}),t})();class jM{constructor(t,e){const n=e.nativeElement.classList;for(const r of t._columnCssClassName)n.add(r)}}let NM=(()=>{class t extends jM{constructor(t,e){super(t,e)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(DM),r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[r.yb]}),t})(),MM=(()=>{class t extends jM{constructor(t,e){super(t,e)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(DM),r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:["role","gridcell",1,"cdk-cell"],features:[r.yb]}),t})();class LM{constructor(){this.tasks=[],this.endTasks=[]}}const FM=new r.r("_COALESCED_STYLE_SCHEDULER");let VM=(()=>{class t{constructor(t){this._ngZone=t,this._currentSchedule=null,this._destroyed=new Ft.a}schedule(t){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(t)}scheduleEnd(t){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(t)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new LM,this._getScheduleObservable().pipe(qT(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const t=this._currentSchedule;this._currentSchedule=new LM;for(const e of t.tasks)e();for(const e of t.endTasks)e()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?Object(Lt.a)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(Ce(1))}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(r.A))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),BM=(()=>{class t{constructor(t,e){this.template=t,this._differs=e}ngOnChanges(t){if(!this._columnsDiffer){const e=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(e).create(),this._columnsDiffer.diff(e)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof WM?t.headerCell.template:this instanceof KM?t.footerCell.template:t.cell.template}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.M),r.Mb(r.t))},t.\u0275dir=r.Hb({type:t,features:[r.zb]}),t})();class UM extends BM{}const qM=EM(UM);let WM=(()=>{class t extends qM{constructor(t,e,n){super(t,e),this._table=n}ngOnChanges(t){super.ngOnChanges(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.M),r.Mb(r.t),r.Mb(kM,8))},t.\u0275dir=r.Hb({type:t,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[r.yb,r.zb]}),t})();class HM extends BM{}const zM=EM(HM);let KM=(()=>{class t extends zM{constructor(t,e,n){super(t,e),this._table=n}ngOnChanges(t){super.ngOnChanges(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.M),r.Mb(r.t),r.Mb(kM,8))},t.\u0275dir=r.Hb({type:t,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[r.yb,r.zb]}),t})(),GM=(()=>{class t extends BM{constructor(t,e,n){super(t,e),this._table=n}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.M),r.Mb(r.t),r.Mb(kM,8))},t.\u0275dir=r.Hb({type:t,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[r.yb]}),t})(),YM=(()=>{class t{constructor(e){this._viewContainer=e,t.mostRecentCellOutlet=this}ngOnDestroy(){t.mostRecentCellOutlet===this&&(t.mostRecentCellOutlet=null)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.R))},t.\u0275dir=r.Hb({type:t,selectors:[["","cdkCellOutlet",""]]}),t.mostRecentCellOutlet=null,t})(),QM=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&r.Ob(0,0)},directives:[YM],encapsulation:2}),t})(),$M=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&r.Ob(0,0)},directives:[YM],encapsulation:2}),t})(),XM=(()=>{class t{constructor(t){this.templateRef=t}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.M))},t.\u0275dir=r.Hb({type:t,selectors:[["ng-template","cdkNoDataRow",""]]}),t})();const JM=["top","bottom","left","right"];class ZM{constructor(t,e,n,r,i=!0,o=!0){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=n,this._coalescedStyleScheduler=r,this._isBrowser=i,this._needsPositionStickyOnElement=o}clearStickyPositioning(t,e){const n=[];for(const r of t)if(r.nodeType===r.ELEMENT_NODE){n.push(r);for(let t=0;t<r.children.length;t++)n.push(r.children[t])}this._scheduleStyleChanges(()=>{for(const t of n)this._removeStickyStyle(t,e)})}updateStickyColumns(t,e,n){if(!t.length||!this._isBrowser||!e.some(t=>t)&&!n.some(t=>t))return;const r=t[0],i=r.children.length,o=this._getCellWidths(r),s=this._getStickyStartColumnPositions(o,e),a=this._getStickyEndColumnPositions(o,n);this._scheduleStyleChanges(()=>{const r="rtl"===this.direction,o=r?"right":"left",c=r?"left":"right";for(const u of t)for(let t=0;t<i;t++){const r=u.children[t];e[t]&&this._addStickyStyle(r,o,s[t]),n[t]&&this._addStickyStyle(r,c,a[t])}})}stickRows(t,e,n){if(!this._isBrowser)return;const r="bottom"===n?t.slice().reverse():t,i="bottom"===n?e.slice().reverse():e,o=[],s=[];for(let a=0,c=0;a<r.length;a++){if(o[a]=c,!i[a])continue;const t=r[a];s[a]=this._isNativeHtmlTable?Array.from(t.children):[t],a!==r.length-1&&(c+=t.getBoundingClientRect().height)}this._scheduleStyleChanges(()=>{for(let t=0;t<r.length;t++){if(!i[t])continue;const e=o[t];for(const r of s[t])this._addStickyStyle(r,n,e)}})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const n=t.querySelector("tfoot");this._scheduleStyleChanges(()=>{e.some(t=>!t)?this._removeStickyStyle(n,["bottom"]):this._addStickyStyle(n,"bottom",0)})}_removeStickyStyle(t,e){for(const n of e)t.style[n]="";JM.some(n=>-1===e.indexOf(n)&&t.style[n])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,n){t.classList.add(this._stickCellCss),t.style[e]=n+"px",t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let n=0;for(const r of JM)t.style[r]&&(n+=e[r]);return n?""+n:""}_getCellWidths(t){const e=[],n=t.children;for(let r=0;r<n.length;r++)e.push(n[r].getBoundingClientRect().width);return e}_getStickyStartColumnPositions(t,e){const n=[];let r=0;for(let i=0;i<t.length;i++)e[i]&&(n[i]=r,r+=t[i]);return n}_getStickyEndColumnPositions(t,e){const n=[];let r=0;for(let i=t.length;i>0;i--)e[i]&&(n[i]=r,r+=t[i]);return n}_scheduleStyleChanges(t){this._coalescedStyleScheduler?this._coalescedStyleScheduler.schedule(t):t()}}let tL=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.R),r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["","rowOutlet",""]]}),t})(),eL=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.R),r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["","headerRowOutlet",""]]}),t})(),nL=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.R),r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["","footerRowOutlet",""]]}),t})(),rL=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.R),r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["","noDataRowOutlet",""]]}),t})(),iL=(()=>{class t{constructor(t,e,n,r,i,o,s,a,c){this._differs=t,this._changeDetectorRef=e,this._elementRef=n,this._dir=i,this._platform=s,this._viewRepeater=a,this._coalescedStyleScheduler=c,this._onDestroy=new Ft.a,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this.viewChange=new Bt({start:0,end:Number.MAX_VALUE}),r||this._elementRef.nativeElement.setAttribute("role","grid"),this._document=o,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(t){this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=QE(t),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((t,e)=>this.trackBy?this.trackBy(e.dataIndex,e.data):e)}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const t=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():t&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){this._rowOutlet.viewContainer.clear(),this._noDataRowOutlet.viewContainer.clear(),this._headerRowOutlet.viewContainer.clear(),this._footerRowOutlet.viewContainer.clear(),this._cachedRenderRowsMap.clear(),this._onDestroy.next(),this._onDestroy.complete(),zT(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const t=this._dataDiffer.diff(this._renderRows);if(!t)return void this._updateNoDataRow();const e=this._rowOutlet.viewContainer;this._viewRepeater?this._viewRepeater.applyChanges(t,e,(t,e,n)=>this._getEmbeddedViewArgs(t.item,n),t=>t.item.data,t=>{1===t.operation&&t.context&&this._renderCellTemplateForItem(t.record.item.rowDef,t.context)}):t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const e=t.item;this._renderRow(this._rowOutlet,e.rowDef,r,{$implicit:e.data})}else if(null==r)e.remove(n);else{const t=e.get(n);e.move(t,r)}}),this._updateRowIndexContext(),t.forEachIdentityChange(t=>{e.get(t.currentIndex).context.$implicit=t.item.data}),this._updateNoDataRow(),this.updateStickyColumnStyles()}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}updateStickyHeaderRowStyles(){const t=this._getRenderedRows(this._headerRowOutlet),e=this._elementRef.nativeElement.querySelector("thead");e&&(e.style.display=t.length?"":"none");const n=this._headerRowDefs.map(t=>t.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,n,"top"),this._headerRowDefs.forEach(t=>t.resetStickyChanged())}updateStickyFooterRowStyles(){const t=this._getRenderedRows(this._footerRowOutlet),e=this._elementRef.nativeElement.querySelector("tfoot");e&&(e.style.display=t.length?"":"none");const n=this._footerRowDefs.map(t=>t.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,n,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,n),this._footerRowDefs.forEach(t=>t.resetStickyChanged())}updateStickyColumnStyles(){const t=this._getRenderedRows(this._headerRowOutlet),e=this._getRenderedRows(this._rowOutlet),n=this._getRenderedRows(this._footerRowOutlet);this._stickyStyler.clearStickyPositioning([...t,...e,...n],["left","right"]),t.forEach((t,e)=>{this._addStickyColumnStyles([t],this._headerRowDefs[e])}),this._rowDefs.forEach(t=>{const n=[];for(let r=0;r<e.length;r++)this._renderRows[r].rowDef===t&&n.push(e[r]);this._addStickyColumnStyles(n,t)}),n.forEach((t,e)=>{this._addStickyColumnStyles([t],this._footerRowDefs[e])}),Array.from(this._columnDefsByName.values()).forEach(t=>t.resetStickyChanged())}_getAllRenderRows(){const t=[],e=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let n=0;n<this._data.length;n++){let r=this._data[n];const i=this._getRenderRowsForData(r,n,e.get(r));this._cachedRenderRowsMap.has(r)||this._cachedRenderRowsMap.set(r,new WeakMap);for(let e=0;e<i.length;e++){let n=i[e];const r=this._cachedRenderRowsMap.get(n.data);r.has(n.rowDef)?r.get(n.rowDef).push(n):r.set(n.rowDef,[n]),t.push(n)}}return t}_getRenderRowsForData(t,e,n){return this._getRowDefs(t,e).map(r=>{const i=n&&n.has(r)?n.get(r):[];if(i.length){const t=i.shift();return t.dataIndex=e,t}return{data:t,rowDef:r,dataIndex:e}})}_cacheColumnDefs(){this._columnDefsByName.clear(),oL(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(t=>{this._columnDefsByName.has(t.name),this._columnDefsByName.set(t.name,t)})}_cacheRowDefs(){this._headerRowDefs=oL(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=oL(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=oL(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const t=this._rowDefs.filter(t=>!t.when);this._defaultRowDef=t[0]}_renderUpdatedColumns(){const t=(t,e)=>t||!!e.getColumnsDiff(),e=this._rowDefs.reduce(t,!1);e&&this._forceRenderDataRows();const n=this._headerRowDefs.reduce(t,!1);n&&this._forceRenderHeaderRows();const r=this._footerRowDefs.reduce(t,!1);return r&&this._forceRenderFooterRows(),e||n||r}_switchDataSource(t){this._data=[],zT(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;var e;zT(this.dataSource)?t=this.dataSource.connect(this):(e=this.dataSource)&&(e instanceof Ut.a||"function"==typeof e.lift&&"function"==typeof e.subscribe)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=Object(Mt.a)(this.dataSource)),this._renderChangeSubscription=t.pipe(qT(this._onDestroy)).subscribe(t=>{this._data=t||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,e)=>this._renderRow(this._headerRowOutlet,t,e)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,e)=>this._renderRow(this._footerRowOutlet,t,e)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(t,e){const n=Array.from(e.columns||[]).map(t=>this._columnDefsByName.get(t)),r=n.map(t=>t.sticky),i=n.map(t=>t.stickyEnd);this._stickyStyler.updateStickyColumns(t,r,i)}_getRenderedRows(t){const e=[];for(let n=0;n<t.viewContainer.length;n++){const r=t.viewContainer.get(n);e.push(r.rootNodes[0])}return e}_getRowDefs(t,e){if(1==this._rowDefs.length)return[this._rowDefs[0]];let n=[];if(this.multiTemplateDataRows)n=this._rowDefs.filter(n=>!n.when||n.when(e,t));else{let r=this._rowDefs.find(n=>n.when&&n.when(e,t))||this._defaultRowDef;r&&n.push(r)}return n}_getEmbeddedViewArgs(t,e){return{templateRef:t.rowDef.template,context:{$implicit:t.data},index:e}}_renderRow(t,e,n,r={}){const i=t.viewContainer.createEmbeddedView(e.template,r,n);return this._renderCellTemplateForItem(e,r),i}_renderCellTemplateForItem(t,e){for(let n of this._getCellTemplates(t))YM.mostRecentCellOutlet&&YM.mostRecentCellOutlet._viewContainer.createEmbeddedView(n,e);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const t=this._rowOutlet.viewContainer;for(let e=0,n=t.length;e<n;e++){const r=t.get(e).context;r.count=n,r.first=0===e,r.last=e===n-1,r.even=e%2==0,r.odd=!r.even,this.multiTemplateDataRows?(r.dataIndex=this._renderRows[e].dataIndex,r.renderIndex=e):r.index=this._renderRows[e].dataIndex}}_getCellTemplates(t){return t&&t.columns?Array.from(t.columns,e=>{const n=this._columnDefsByName.get(e);return t.extractCellTemplate(n)}):[]}_applyNativeTableSections(){const t=this._document.createDocumentFragment(),e=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const n of e){const e=this._document.createElement(n.tag);e.setAttribute("role","rowgroup");for(const t of n.outlets)e.appendChild(t.elementRef.nativeElement);t.appendChild(e)}this._elementRef.nativeElement.appendChild(t)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const t=(t,e)=>t||e.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&this.updateStickyColumnStyles()}_setupStickyStyler(){this._stickyStyler=new ZM(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement),(this._dir?this._dir.change:Object(Mt.a)()).pipe(qT(this._onDestroy)).subscribe(t=>{this._stickyStyler.direction=t,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(t=>!t._table||t._table===this)}_updateNoDataRow(){if(this._noDataRow){const t=0===this._rowOutlet.viewContainer.length;if(t!==this._isShowingNoDataRow){const e=this._noDataRowOutlet.viewContainer;t?e.createEmbeddedView(this._noDataRow.templateRef):e.clear(),this._isShowingNoDataRow=t}}}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.t),r.Mb(r.h),r.Mb(r.l),r.Xb("role"),r.Mb(Ok,8),r.Mb(a),r.Mb(ME),r.Mb(YT,8),r.Mb(FM,8))},t.\u0275cmp=r.Gb({type:t,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(t,e,n){var i;1&t&&(r.Fb(n,XM,!0),r.Fb(n,DM,!0),r.Fb(n,GM,!0),r.Fb(n,WM,!0),r.Fb(n,KM,!0)),2&t&&(r.mc(i=r.bc())&&(e._noDataRow=i.first),r.mc(i=r.bc())&&(e._contentColumnDefs=i),r.mc(i=r.bc())&&(e._contentRowDefs=i),r.mc(i=r.bc())&&(e._contentHeaderRowDefs=i),r.mc(i=r.bc())&&(e._contentFooterRowDefs=i))},viewQuery:function(t,e){var n;1&t&&(r.sc(tL,!0),r.sc(eL,!0),r.sc(nL,!0),r.sc(rL,!0)),2&t&&(r.mc(n=r.bc())&&(e._rowOutlet=n.first),r.mc(n=r.bc())&&(e._headerRowOutlet=n.first),r.mc(n=r.bc())&&(e._footerRowOutlet=n.first),r.mc(n=r.bc())&&(e._noDataRowOutlet=n.first))},hostAttrs:[1,"cdk-table"],inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows"},exportAs:["cdkTable"],features:[r.Ab([{provide:kM,useExisting:t},{provide:YT,useClass:KT},{provide:FM,useClass:VM}])],ngContentSelectors:OM,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,e){1&t&&(r.hc(xM),r.gc(0),r.gc(1,1),r.Ob(2,0),r.Ob(3,1),r.Ob(4,2),r.Ob(5,3))},directives:[eL,tL,rL,nL],encapsulation:2}),t})();function oL(t,e){return t.concat(Array.from(e))}let sL=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[JT]]}),t})();const aL=[[["caption"]],[["colgroup"],["col"]]],cL=["caption","colgroup, col"];let uL=(()=>{class t extends iL{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return t.\u0275fac=function(e){return lL(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],exportAs:["matTable"],features:[r.Ab([{provide:YT,useClass:KT},{provide:iL,useExisting:t},{provide:kM,useExisting:t},{provide:FM,useClass:VM}]),r.yb],ngContentSelectors:cL,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,e){1&t&&(r.hc(aL),r.gc(0),r.gc(1,1),r.Ob(2,0),r.Ob(3,1),r.Ob(4,2),r.Ob(5,3))},directives:[eL,tL,rL,nL],styles:['mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-row::after,mat-header-row::after,mat-footer-row::after{display:inline-block;min-height:inherit;content:""}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:-webkit-sticky;position:sticky}\n'],encapsulation:2}),t})();const lL=r.Ub(uL);let hL=(()=>{class t extends TM{}return t.\u0275fac=function(e){return dL(e||t)},t.\u0275dir=r.Hb({type:t,selectors:[["","matCellDef",""]],features:[r.Ab([{provide:TM,useExisting:t}]),r.yb]}),t})();const dL=r.Ub(hL);let fL=(()=>{class t extends IM{}return t.\u0275fac=function(e){return pL(e||t)},t.\u0275dir=r.Hb({type:t,selectors:[["","matHeaderCellDef",""]],features:[r.Ab([{provide:IM,useExisting:t}]),r.yb]}),t})();const pL=r.Ub(fL);let mL=(()=>{class t extends DM{get name(){return this._name}set name(t){this._setNameInput(t)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push("mat-column-"+this.cssClassFriendlyName)}}return t.\u0275fac=function(e){return gL(e||t)},t.\u0275dir=r.Hb({type:t,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[r.Ab([{provide:DM,useExisting:t},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),r.yb]}),t})();const gL=r.Ub(mL);let bL=(()=>{class t extends NM{}return t.\u0275fac=function(e){return vL(e||t)},t.\u0275dir=r.Hb({type:t,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[r.yb]}),t})();const vL=r.Ub(bL);let yL=(()=>{class t extends MM{}return t.\u0275fac=function(e){return _L(e||t)},t.\u0275dir=r.Hb({type:t,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[r.yb]}),t})();const _L=r.Ub(yL);let wL=(()=>{class t extends WM{}return t.\u0275fac=function(e){return SL(e||t)},t.\u0275dir=r.Hb({type:t,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[r.Ab([{provide:WM,useExisting:t}]),r.yb]}),t})();const SL=r.Ub(wL);let CL=(()=>{class t extends GM{}return t.\u0275fac=function(e){return xL(e||t)},t.\u0275dir=r.Hb({type:t,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[r.Ab([{provide:GM,useExisting:t}]),r.yb]}),t})();const xL=r.Ub(CL);let OL=(()=>{class t extends QM{}return t.\u0275fac=function(e){return EL(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[r.Ab([{provide:QM,useExisting:t}]),r.yb],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&r.Ob(0,0)},directives:[YM],encapsulation:2}),t})();const EL=r.Ub(OL);let kL=(()=>{class t extends $M{}return t.\u0275fac=function(e){return TL(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[r.Ab([{provide:$M,useExisting:t}]),r.yb],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&r.Ob(0,0)},directives:[YM],encapsulation:2}),t})();const TL=r.Ub(kL);let IL=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[sL,Nk],Nk]}),t})();class RL extends class{}{constructor(t=[]){super(),this._renderData=new Bt([]),this._filter=new Bt(""),this._internalPageChanges=new Ft.a,this._renderChangesSubscription=Be.a.EMPTY,this.sortingDataAccessor=(t,e)=>{const n=t[e];if(XE(n)){const t=Number(n);return t<9007199254740991?t:n}return n},this.sortData=(t,e)=>{const n=e.active,r=e.direction;return n&&""!=r?t.sort((t,e)=>{let i=this.sortingDataAccessor(t,n),o=this.sortingDataAccessor(e,n);const s=typeof i,a=typeof o;s!==a&&("number"===s&&(i+=""),"number"===a&&(o+=""));let c=0;return null!=i&&null!=o?i>o?c=1:i<o&&(c=-1):null!=i?c=1:null!=o&&(c=-1),c*("asc"==r?1:-1)}):t},this.filterPredicate=(t,e)=>{const n=Object.keys(t).reduce((e,n)=>e+t[n]+"\u25ec","").toLowerCase(),r=e.trim().toLowerCase();return-1!=n.indexOf(r)},this._data=new Bt(t),this._updateChangeSubscription()}get data(){return this._data.value}set data(t){this._data.next(t)}get filter(){return this._filter.value}set filter(t){this._filter.next(t)}get sort(){return this._sort}set sort(t){this._sort=t,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(t){this._paginator=t,this._updateChangeSubscription()}_updateChangeSubscription(){const t=this._sort?Object(IC.a)(this._sort.sortChange,this._sort.initialized):Object(Mt.a)(null),e=this._paginator?Object(IC.a)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):Object(Mt.a)(null),n=Qt([this._data,this._filter]).pipe(Object(te.a)(([t])=>this._filterData(t))),r=Qt([n,t]).pipe(Object(te.a)(([t])=>this._orderData(t))),i=Qt([r,e]).pipe(Object(te.a)(([t])=>this._pageData(t)));this._renderChangesSubscription.unsubscribe(),this._renderChangesSubscription=i.subscribe(t=>this._renderData.next(t))}_filterData(t){return this.filteredData=this.filter?t.filter(t=>this.filterPredicate(t,this.filter)):t,this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(t){return this.sort?this.sortData(t.slice(),this.sort):t}_pageData(t){if(!this.paginator)return t;const e=this.paginator.pageIndex*this.paginator.pageSize;return t.slice(e,e+this.paginator.pageSize)}_updatePaginator(t){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=t,e.pageIndex>0)){const t=Math.ceil(e.length/e.pageSize)-1||0,n=Math.min(e.pageIndex,t);n!==e.pageIndex&&(e.pageIndex=n,this._internalPageChanges.next())}})}connect(){return this._renderData}disconnect(){}}const AL=["*"],PL=new r.r("MatChipRemove"),DL=new r.r("MatChipAvatar"),jL=new r.r("MatChipTrailingIcon");class NL{constructor(t){this._elementRef=t}}const ML=Vk(Lk(Fk(NL),"primary"),-1);let LL=(()=>{class t extends ML{constructor(t,e,n,i,o,s,a,c){super(t),this._elementRef=t,this._ngZone=e,this._changeDetectorRef=s,this._hasFocus=!1,this.chipListSelectable=!0,this._chipListMultiple=!1,this._chipListDisabled=!1,this._selected=!1,this._selectable=!0,this._disabled=!1,this._removable=!0,this._onFocus=new Ft.a,this._onBlur=new Ft.a,this.selectionChange=new r.o,this.destroyed=new r.o,this.removed=new r.o,this._addHostClassName(),this._chipRippleTarget=(c||document).createElement("div"),this._chipRippleTarget.classList.add("mat-chip-ripple"),this._elementRef.nativeElement.appendChild(this._chipRippleTarget),this._chipRipple=new Yk(this,e,this._chipRippleTarget,n),this._chipRipple.setupTriggerEvents(t),this.rippleConfig=i||{},this._animationsDisabled="NoopAnimations"===o,this.tabIndex=null!=a&&parseInt(a)||-1}get rippleDisabled(){return this.disabled||this.disableRipple||!!this.rippleConfig.disabled}get selected(){return this._selected}set selected(t){const e=QE(t);e!==this._selected&&(this._selected=e,this._dispatchSelectionChange())}get value(){return void 0!==this._value?this._value:this._elementRef.nativeElement.textContent}set value(t){this._value=t}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(t){this._selectable=QE(t)}get disabled(){return this._chipListDisabled||this._disabled}set disabled(t){this._disabled=QE(t)}get removable(){return this._removable}set removable(t){this._removable=QE(t)}get ariaSelected(){return this.selectable&&(this._chipListMultiple||this.selected)?this.selected.toString():null}_addHostClassName(){const t=this._elementRef.nativeElement;t.hasAttribute("mat-basic-chip")||"mat-basic-chip"===t.tagName.toLowerCase()?t.classList.add("mat-basic-chip"):t.classList.add("mat-standard-chip")}ngOnDestroy(){this.destroyed.emit({chip:this}),this._chipRipple._removeTriggerEvents()}select(){this._selected||(this._selected=!0,this._dispatchSelectionChange(),this._markForCheck())}deselect(){this._selected&&(this._selected=!1,this._dispatchSelectionChange(),this._markForCheck())}selectViaInteraction(){this._selected||(this._selected=!0,this._dispatchSelectionChange(!0),this._markForCheck())}toggleSelected(t=!1){return this._selected=!this.selected,this._dispatchSelectionChange(t),this._markForCheck(),this.selected}focus(){this._hasFocus||(this._elementRef.nativeElement.focus(),this._onFocus.next({chip:this})),this._hasFocus=!0}remove(){this.removable&&this.removed.emit({chip:this})}_handleClick(t){this.disabled?t.preventDefault():t.stopPropagation()}_handleKeydown(t){if(!this.disabled)switch(t.keyCode){case 46:case 8:this.remove(),t.preventDefault();break;case 32:this.selectable&&this.toggleSelected(!0),t.preventDefault()}}_blur(){this._ngZone.onStable.pipe(Ce(1)).subscribe(()=>{this._ngZone.run(()=>{this._hasFocus=!1,this._onBlur.next({chip:this})})})}_dispatchSelectionChange(t=!1){this.selectionChange.emit({source:this,isUserInput:t,selected:this._selected})}_markForCheck(){this._changeDetectorRef&&this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(r.A),r.Mb(ME),r.Mb(Qk,8),r.Mb(AE,8),r.Mb(r.h),r.Xb("tabindex"),r.Mb(a,8))},t.\u0275dir=r.Hb({type:t,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(t,e,n){var i;1&t&&(r.Fb(n,DL,!0),r.Fb(n,jL,!0),r.Fb(n,PL,!0)),2&t&&(r.mc(i=r.bc())&&(e.avatar=i.first),r.mc(i=r.bc())&&(e.trailingIcon=i.first),r.mc(i=r.bc())&&(e.removeIcon=i.first))},hostAttrs:["role","option",1,"mat-chip","mat-focus-indicator"],hostVars:14,hostBindings:function(t,e){1&t&&r.ac("click",(function(t){return e._handleClick(t)}))("keydown",(function(t){return e._handleKeydown(t)}))("focus",(function(){return e.focus()}))("blur",(function(){return e._blur()})),2&t&&(r.Cb("tabindex",e.disabled?null:e.tabIndex)("disabled",e.disabled||null)("aria-disabled",e.disabled.toString())("aria-selected",e.ariaSelected),r.Eb("mat-chip-selected",e.selected)("mat-chip-with-avatar",e.avatar)("mat-chip-with-trailing-icon",e.trailingIcon||e.removeIcon)("mat-chip-disabled",e.disabled)("_mat-animation-noopable",e._animationsDisabled))},inputs:{color:"color",disableRipple:"disableRipple",tabIndex:"tabIndex",selected:"selected",value:"value",selectable:"selectable",disabled:"disabled",removable:"removable"},outputs:{selectionChange:"selectionChange",destroyed:"destroyed",removed:"removed"},exportAs:["matChip"],features:[r.yb]}),t})();const FL=new r.r("mat-chips-default-options");class VL{constructor(t,e,n,r){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=r}}const BL=Bk(VL);let UL=0;class qL{constructor(t,e){this.source=t,this.value=e}}let WL=(()=>{class t extends BL{constructor(t,e,n,i,o,s,a){super(s,i,o,a),this._elementRef=t,this._changeDetectorRef=e,this._dir=n,this.ngControl=a,this.controlType="mat-chip-list",this._lastDestroyedChipIndex=null,this._destroyed=new Ft.a,this._uid="mat-chip-list-"+UL++,this._tabIndex=0,this._userTabIndex=null,this._onTouched=()=>{},this._onChange=()=>{},this._multiple=!1,this._compareWith=(t,e)=>t===e,this._required=!1,this._disabled=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.change=new r.o,this.valueChange=new r.o,this.ngControl&&(this.ngControl.valueAccessor=this)}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get role(){return this.empty?null:"listbox"}get multiple(){return this._multiple}set multiple(t){this._multiple=QE(t),this._syncChipsState()}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this.writeValue(t),this._value=t}get id(){return this._chipInput?this._chipInput.id:this._uid}get required(){return this._required}set required(t){this._required=QE(t),this.stateChanges.next()}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get focused(){return this._chipInput&&this._chipInput.focused||this._hasFocusedChip()}get empty(){return(!this._chipInput||this._chipInput.empty)&&(!this.chips||0===this.chips.length)}get shouldLabelFloat(){return!this.empty||this.focused}get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=QE(t),this._syncChipsState()}get selectable(){return this._selectable}set selectable(t){this._selectable=QE(t),this.chips&&this.chips.forEach(t=>t.chipListSelectable=this._selectable)}set tabIndex(t){this._userTabIndex=t,this._tabIndex=t}get chipSelectionChanges(){return Object(IC.a)(...this.chips.map(t=>t.selectionChange))}get chipFocusChanges(){return Object(IC.a)(...this.chips.map(t=>t._onFocus))}get chipBlurChanges(){return Object(IC.a)(...this.chips.map(t=>t._onBlur))}get chipRemoveChanges(){return Object(IC.a)(...this.chips.map(t=>t.destroyed))}ngAfterContentInit(){this._keyManager=new ak(this.chips).withWrap().withVerticalOrientation().withHomeAndEnd().withHorizontalOrientation(this._dir?this._dir.value:"ltr"),this._dir&&this._dir.change.pipe(qT(this._destroyed)).subscribe(t=>this._keyManager.withHorizontalOrientation(t)),this._keyManager.tabOut.pipe(qT(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.chips.changes.pipe(Ne(null),qT(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>{this._syncChipsState()}),this._resetChips(),this._initializeSelection(),this._updateTabIndex(),this._updateFocusForDestroyedChips(),this.stateChanges.next()})}ngOnInit(){this._selectionModel=new GT(this.multiple,void 0,!1),this.stateChanges.next()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==this._disabled&&(this.disabled=!!this.ngControl.disabled))}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this.stateChanges.complete(),this._dropSubscriptions()}registerInput(t){this._chipInput=t,this._elementRef.nativeElement.setAttribute("data-mat-chip-input",t.id)}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}writeValue(t){this.chips&&this._setSelectionByValue(t,!1)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this.stateChanges.next()}onContainerClick(t){this._originatesFromChip(t)||this.focus()}focus(t){this.disabled||this._chipInput&&this._chipInput.focused||(this.chips.length>0?(this._keyManager.setFirstItemActive(),this.stateChanges.next()):(this._focusInput(t),this.stateChanges.next()))}_focusInput(t){this._chipInput&&this._chipInput.focus(t)}_keydown(t){const e=t.target;8===t.keyCode&&this._isInputEmpty(e)?(this._keyManager.setLastItemActive(),t.preventDefault()):e&&e.classList.contains("mat-chip")&&(this._keyManager.onKeydown(t),this.stateChanges.next())}_updateTabIndex(){this._tabIndex=this._userTabIndex||(0===this.chips.length?-1:0)}_updateFocusForDestroyedChips(){if(null!=this._lastDestroyedChipIndex)if(this.chips.length){const t=Math.min(this._lastDestroyedChipIndex,this.chips.length-1);this._keyManager.setActiveItem(t)}else this.focus();this._lastDestroyedChipIndex=null}_isValidIndex(t){return t>=0&&t<this.chips.length}_isInputEmpty(t){return!(!t||"input"!==t.nodeName.toLowerCase()||t.value)}_setSelectionByValue(t,e=!0){if(this._clearSelection(),this.chips.forEach(t=>t.deselect()),Array.isArray(t))t.forEach(t=>this._selectValue(t,e)),this._sortValues();else{const n=this._selectValue(t,e);n&&e&&this._keyManager.setActiveItem(n)}}_selectValue(t,e=!0){const n=this.chips.find(e=>null!=e.value&&this._compareWith(e.value,t));return n&&(e?n.selectViaInteraction():n.select(),this._selectionModel.select(n)),n}_initializeSelection(){Promise.resolve().then(()=>{(this.ngControl||this._value)&&(this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value,!1),this.stateChanges.next())})}_clearSelection(t){this._selectionModel.clear(),this.chips.forEach(e=>{e!==t&&e.deselect()}),this.stateChanges.next()}_sortValues(){this._multiple&&(this._selectionModel.clear(),this.chips.forEach(t=>{t.selected&&this._selectionModel.select(t)}),this.stateChanges.next())}_propagateChanges(t){let e=null;e=Array.isArray(this.selected)?this.selected.map(t=>t.value):this.selected?this.selected.value:t,this._value=e,this.change.emit(new qL(this,e)),this.valueChange.emit(e),this._onChange(e),this._changeDetectorRef.markForCheck()}_blur(){this._hasFocusedChip()||this._keyManager.setActiveItem(-1),this.disabled||(this._chipInput?setTimeout(()=>{this.focused||this._markAsTouched()}):this._markAsTouched())}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}_allowFocusEscape(){-1!==this._tabIndex&&(this._tabIndex=-1,setTimeout(()=>{this._tabIndex=this._userTabIndex||0,this._changeDetectorRef.markForCheck()}))}_resetChips(){this._dropSubscriptions(),this._listenToChipsFocus(),this._listenToChipsSelection(),this._listenToChipsRemoved()}_dropSubscriptions(){this._chipFocusSubscription&&(this._chipFocusSubscription.unsubscribe(),this._chipFocusSubscription=null),this._chipBlurSubscription&&(this._chipBlurSubscription.unsubscribe(),this._chipBlurSubscription=null),this._chipSelectionSubscription&&(this._chipSelectionSubscription.unsubscribe(),this._chipSelectionSubscription=null),this._chipRemoveSubscription&&(this._chipRemoveSubscription.unsubscribe(),this._chipRemoveSubscription=null)}_listenToChipsSelection(){this._chipSelectionSubscription=this.chipSelectionChanges.subscribe(t=>{t.source.selected?this._selectionModel.select(t.source):this._selectionModel.deselect(t.source),this.multiple||this.chips.forEach(t=>{!this._selectionModel.isSelected(t)&&t.selected&&t.deselect()}),t.isUserInput&&this._propagateChanges()})}_listenToChipsFocus(){this._chipFocusSubscription=this.chipFocusChanges.subscribe(t=>{let e=this.chips.toArray().indexOf(t.chip);this._isValidIndex(e)&&this._keyManager.updateActiveItem(e),this.stateChanges.next()}),this._chipBlurSubscription=this.chipBlurChanges.subscribe(()=>{this._blur(),this.stateChanges.next()})}_listenToChipsRemoved(){this._chipRemoveSubscription=this.chipRemoveChanges.subscribe(t=>{const e=t.chip,n=this.chips.toArray().indexOf(t.chip);this._isValidIndex(n)&&e._hasFocus&&(this._lastDestroyedChipIndex=n)})}_originatesFromChip(t){let e=t.target;for(;e&&e!==this._elementRef.nativeElement;){if(e.classList.contains("mat-chip"))return!0;e=e.parentElement}return!1}_hasFocusedChip(){return this.chips&&this.chips.some(t=>t._hasFocus)}_syncChipsState(){this.chips&&this.chips.forEach(t=>{t._chipListDisabled=this._disabled,t._chipListMultiple=this.multiple})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(r.h),r.Mb(Ok,8),r.Mb(CA,8),r.Mb(LA,8),r.Mb(qk),r.Mb(OR,10))},t.\u0275cmp=r.Gb({type:t,selectors:[["mat-chip-list"]],contentQueries:function(t,e,n){var i;1&t&&r.Fb(n,LL,!0),2&t&&r.mc(i=r.bc())&&(e.chips=i)},hostAttrs:[1,"mat-chip-list"],hostVars:15,hostBindings:function(t,e){1&t&&r.ac("focus",(function(){return e.focus()}))("blur",(function(){return e._blur()}))("keydown",(function(t){return e._keydown(t)})),2&t&&(r.Vb("id",e._uid),r.Cb("tabindex",e.disabled?null:e._tabIndex)("aria-describedby",e._ariaDescribedby||null)("aria-required",e.role?e.required:null)("aria-disabled",e.disabled.toString())("aria-invalid",e.errorState)("aria-multiselectable",e.multiple)("role",e.role)("aria-orientation",e.ariaOrientation),r.Eb("mat-chip-list-disabled",e.disabled)("mat-chip-list-invalid",e.errorState)("mat-chip-list-required",e.required))},inputs:{ariaOrientation:["aria-orientation","ariaOrientation"],multiple:"multiple",compareWith:"compareWith",value:"value",required:"required",placeholder:"placeholder",disabled:"disabled",selectable:"selectable",tabIndex:"tabIndex",errorStateMatcher:"errorStateMatcher"},outputs:{change:"change",valueChange:"valueChange"},exportAs:["matChipList"],features:[r.Ab([{provide:iD,useExisting:t}]),r.yb],ngContentSelectors:AL,decls:2,vars:0,consts:[[1,"mat-chip-list-wrapper"]],template:function(t,e){1&t&&(r.hc(),r.Sb(0,"div",0),r.gc(1),r.Rb())},styles:['.mat-chip{position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;transform:translateZ(0);border:none;-webkit-appearance:none;-moz-appearance:none}.mat-standard-chip{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:inline-flex;padding:7px 12px;border-radius:16px;align-items:center;cursor:default;min-height:32px;height:1px}._mat-animation-noopable.mat-standard-chip{transition:none;animation:none}.mat-standard-chip .mat-chip-remove.mat-icon{width:18px;height:18px}.mat-standard-chip::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;opacity:0;content:"";pointer-events:none;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-standard-chip:hover::after{opacity:.12}.mat-standard-chip:focus{outline:none}.mat-standard-chip:focus::after{opacity:.16}.cdk-high-contrast-active .mat-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-standard-chip:focus{outline:dotted 2px}.mat-standard-chip.mat-chip-disabled::after{opacity:0}.mat-standard-chip.mat-chip-disabled .mat-chip-remove,.mat-standard-chip.mat-chip-disabled .mat-chip-trailing-icon{cursor:default}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar,.mat-standard-chip.mat-chip-with-avatar{padding-top:0;padding-bottom:0}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-right:8px;padding-left:0}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-left:8px;padding-right:0}.mat-standard-chip.mat-chip-with-trailing-icon{padding-top:7px;padding-bottom:7px;padding-right:8px;padding-left:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon{padding-left:8px;padding-right:12px}.mat-standard-chip.mat-chip-with-avatar{padding-left:0;padding-right:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-avatar{padding-right:0;padding-left:12px}.mat-standard-chip .mat-chip-avatar{width:24px;height:24px;margin-right:8px;margin-left:4px}[dir=rtl] .mat-standard-chip .mat-chip-avatar{margin-left:8px;margin-right:4px}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{width:18px;height:18px;cursor:pointer}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-standard-chip .mat-chip-remove,[dir=rtl] .mat-standard-chip .mat-chip-trailing-icon{margin-right:8px;margin-left:0}.mat-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit;overflow:hidden}.mat-chip-list-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;margin:-4px}.mat-chip-list-wrapper input.mat-input-element,.mat-chip-list-wrapper .mat-standard-chip{margin:4px}.mat-chip-list-stacked .mat-chip-list-wrapper{flex-direction:column;align-items:flex-start}.mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:100%}.mat-chip-avatar{border-radius:50%;justify-content:center;align-items:center;display:flex;overflow:hidden;object-fit:cover}input.mat-chip-input{width:150px;margin:4px;flex:1 0 150px}\n'],encapsulation:2,changeDetection:0}),t})();const HL={separatorKeyCodes:[13]};let zL=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[qk,{provide:FL,useValue:HL}]}),t})();const KL=["mat-menu-item",""],GL=["*"];function YL(t,e){if(1&t){const t=r.Tb();r.Sb(0,"div",0),r.ac("keydown",(function(e){return r.oc(t),r.cc()._handleKeydown(e)}))("click",(function(){return r.oc(t),r.cc().closed.emit("click")}))("@transformMenu.start",(function(e){return r.oc(t),r.cc()._onAnimationStart(e)}))("@transformMenu.done",(function(e){return r.oc(t),r.cc()._onAnimationDone(e)})),r.Sb(1,"div",1),r.gc(2),r.Rb(),r.Rb()}if(2&t){const t=r.cc();r.ic("id",t.panelId)("ngClass",t._classList)("@transformMenu",t._panelAnimationState),r.Cb("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const QL={transformMenu:lx("transformMenu",[mx("void",px({opacity:0,transform:"scale(0.8)"})),bx("void => enter",dx([yx(".mat-menu-content, .mat-mdc-menu-content",hx("100ms linear",px({opacity:1}))),hx("120ms cubic-bezier(0, 0, 0.2, 1)",px({transform:"scale(1)"}))])),bx("* => void",hx("100ms 25ms linear",px({opacity:0})))]),fadeInItems:lx("fadeInItems",[mx("showing",px({opacity:1})),bx("void => *",[px({opacity:0}),hx("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},$L=new r.r("MatMenuContent"),XL=new r.r("MAT_MENU_PANEL");class JL{}const ZL=Fk(Mk(JL));let tF=(()=>{class t extends ZL{constructor(t,e,n,r){super(),this._elementRef=t,this._focusMonitor=n,this._parentMenu=r,this.role="menuitem",this._hovered=new Ft.a,this._focused=new Ft.a,this._highlighted=!1,this._triggersSubmenu=!1,r&&r.addItem&&r.addItem(this)}focus(t="program",e){this._focusMonitor?this._focusMonitor.focusVia(this._getHostElement(),t,e):this._getHostElement().focus(e),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){var t,e;const n=this._elementRef.nativeElement.cloneNode(!0),r=n.querySelectorAll("mat-icon, .material-icons");for(let i=0;i<r.length;i++){const e=r[i];null===(t=e.parentNode)||void 0===t||t.removeChild(e)}return(null===(e=n.textContent)||void 0===e?void 0:e.trim())||""}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(a),r.Mb(yk),r.Mb(XL,8))},t.\u0275cmp=r.Gb({type:t,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(t,e){1&t&&r.ac("click",(function(t){return e._checkDisabled(t)}))("mouseenter",(function(){return e._handleMouseEnter()})),2&t&&(r.Cb("role",e.role)("tabindex",e._getTabIndex())("aria-disabled",e.disabled.toString())("disabled",e.disabled||null),r.Eb("mat-menu-item",!0)("mat-menu-item-highlighted",e._highlighted)("mat-menu-item-submenu-trigger",e._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[r.yb],attrs:KL,ngContentSelectors:GL,decls:2,vars:2,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"]],template:function(t,e){1&t&&(r.hc(),r.gc(0),r.Nb(1,"div",0)),2&t&&(r.Bb(1),r.ic("matRippleDisabled",e.disableRipple||e.disabled)("matRippleTrigger",e._getHostElement()))},directives:[$k],encapsulation:2,changeDetection:0}),t})();const eF=new r.r("mat-menu-default-options",{providedIn:"root",factory:function(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let nF=0,rF=(()=>{class t{constructor(t,e,n){this._elementRef=t,this._ngZone=e,this._defaultOptions=n,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new r.E,this._tabSubscription=Be.a.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new Ft.a,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new r.o,this.close=this.closed,this.panelId="mat-menu-panel-"+nF++}get xPosition(){return this._xPosition}set xPosition(t){this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=QE(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=QE(t)}set panelClass(t){const e=this._previousPanelClass;e&&e.length&&e.split(" ").forEach(t=>{this._classList[t]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(t=>{this._classList[t]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new ak(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Ne(this._directDescendantItems),Ae(t=>Object(IC.a)(...t.map(t=>t._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t))}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(Ne(this._directDescendantItems),Ae(t=>Object(IC.a)(...t.map(t=>t._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const e=t.keyCode,n=this._keyManager;switch(e){case 27:HE(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:38!==e&&40!==e||n.setFocusOrigin("keyboard"),n.onKeydown(t)}}focusFirstItem(t="program"){this.lazyContent?this._ngZone.onStable.pipe(Ce(1)).subscribe(()=>this._focusFirstItem(t)):this._focusFirstItem(t)}_focusFirstItem(t){const e=this._keyManager;if(e.setFocusOrigin(t).setFirstItemActive(),!e.activeItem&&this._directDescendantItems.length){let t=this._directDescendantItems.first._getHostElement().parentElement;for(;t;){if("menu"===t.getAttribute("role")){t.focus();break}t=t.parentElement}}}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const e="mat-elevation-z"+Math.min(4+t,24),n=Object.keys(this._classList).find(t=>t.startsWith("mat-elevation-z"));n&&n!==this._previousElevation||(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[e]=!0,this._previousElevation=e)}setPositionClasses(t=this.xPosition,e=this.yPosition){const n=this._classList;n["mat-menu-before"]="before"===t,n["mat-menu-after"]="after"===t,n["mat-menu-above"]="above"===e,n["mat-menu-below"]="below"===e}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Ne(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(t=>t._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(r.A),r.Mb(eF))},t.\u0275dir=r.Hb({type:t,contentQueries:function(t,e,n){var i;1&t&&(r.Fb(n,$L,!0),r.Fb(n,tF,!0),r.Fb(n,tF,!1)),2&t&&(r.mc(i=r.bc())&&(e.lazyContent=i.first),r.mc(i=r.bc())&&(e._allItems=i),r.mc(i=r.bc())&&(e.items=i))},viewQuery:function(t,e){var n;1&t&&r.Bc(r.M,!0),2&t&&r.mc(n=r.bc())&&(e.templateRef=n.first)},inputs:{backdropClass:"backdropClass",xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{closed:"closed",close:"close"}}),t})(),iF=(()=>{class t extends rF{}return t.\u0275fac=function(e){return oF(e||t)},t.\u0275dir=r.Hb({type:t,features:[r.yb]}),t})();const oF=r.Ub(iF);let sF=(()=>{class t extends iF{constructor(t,e,n){super(t,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(r.A),r.Mb(eF))},t.\u0275cmp=r.Gb({type:t,selectors:[["mat-menu"]],exportAs:["matMenu"],features:[r.Ab([{provide:XL,useExisting:iF},{provide:iF,useExisting:t}]),r.yb],ngContentSelectors:GL,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(t,e){1&t&&(r.hc(),r.wc(0,YL,3,6,"ng-template"))},directives:[N],styles:['.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}.mat-menu-item-submenu-trigger::after{width:0;height:0;border-style:solid;border-width:5px 0 5px 5px;border-color:transparent transparent transparent currentColor;content:"";display:inline-block;position:absolute;top:50%;right:16px;transform:translateY(-50%)}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}[dir=rtl] .mat-menu-item-submenu-trigger::after{right:auto;left:16px;transform:rotateY(180deg) translateY(-50%)}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n'],encapsulation:2,data:{animation:[QL.transformMenu,QL.fadeInItems]},changeDetection:0}),t})();const aF=new r.r("mat-menu-scroll-strategy"),cF={provide:aF,deps:[MI],useFactory:function(t){return()=>t.scrollStrategies.reposition()}},uF=qE({passive:!0});let lF=(()=>{class t{constructor(t,e,n,i,o,s,a,c){this._overlay=t,this._element=e,this._viewContainerRef=n,this._parentMenu=o,this._menuItemInstance=s,this._dir=a,this._focusMonitor=c,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Be.a.EMPTY,this._hoverSubscription=Be.a.EMPTY,this._menuCloseSubscription=Be.a.EMPTY,this._handleTouchStart=()=>this._openedBy="touch",this._openedBy=null,this.restoreFocus=!0,this.menuOpened=new r.o,this.onMenuOpen=this.menuOpened,this.menuClosed=new r.o,this.onMenuClose=this.menuClosed,e.nativeElement.addEventListener("touchstart",this._handleTouchStart,uF),s&&(s._triggersSubmenu=this.triggersSubmenu()),this._scrollStrategy=i}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.subscribe(t=>{this._destroyMenu(),"click"!==t&&"tab"!==t||!this._parentMenu||this._parentMenu.closed.emit(t)})))}ngAfterContentInit(){this._checkMenu(),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,uF),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;this._checkMenu();const t=this._createOverlay(),e=t.getConfig();this._setPosition(e.positionStrategy),e.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,t.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof iF&&this.menu._startAnimation()}closeMenu(){this.menu.close.emit()}focus(t="program",e){this._focusMonitor?this._focusMonitor.focusVia(this._element,t,e):this._element.nativeElement.focus(e)}_destroyMenu(){if(!this._overlayRef||!this.menuOpen)return;const t=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this._restoreFocus(),t instanceof iF?(t._resetAnimation(),t.lazyContent?t._animationDone.pipe(ie(t=>"void"===t.toState),Ce(1),qT(t.lazyContent._attached)).subscribe({next:()=>t.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),t.lazyContent&&t.lazyContent.detach())}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this._setIsMenuOpen(!0),this.menu.focusFirstItem(this._openedBy||"program")}_setMenuElevation(){if(this.menu.setElevation){let t=0,e=this.menu.parentMenu;for(;e;)t++,e=e.parentMenu;this.menu.setElevation(t)}}_restoreFocus(){this.restoreFocus&&(this._openedBy?this.triggersSubmenu()||this.focus(this._openedBy):this.focus()),this._openedBy=null}_setIsMenuOpen(t){this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&(this._menuItemInstance._highlighted=t)}_checkMenu(){}_createOverlay(){if(!this._overlayRef){const t=this._getOverlayConfig();this._subscribeToPositions(t.positionStrategy),this._overlayRef=this._overlay.create(t),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new yI({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:this.menu.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t){this.menu.setPositionClasses&&t.positionChanges.subscribe(t=>{this.menu.setPositionClasses("start"===t.connectionPair.overlayX?"after":"before","top"===t.connectionPair.overlayY?"below":"above")})}_setPosition(t){let[e,n]="before"===this.menu.xPosition?["end","start"]:["start","end"],[r,i]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[o,s]=[r,i],[a,c]=[e,n],u=0;this.triggersSubmenu()?(c=e="before"===this.menu.xPosition?"start":"end",n=a="end"===e?"start":"end",u="bottom"===r?8:-8):this.menu.overlapTrigger||(o="top"===r?"bottom":"top",s="top"===i?"bottom":"top"),t.withPositions([{originX:e,originY:o,overlayX:a,overlayY:r,offsetY:u},{originX:n,originY:o,overlayX:c,overlayY:r,offsetY:u},{originX:e,originY:s,overlayX:a,overlayY:i,offsetY:-u},{originX:n,originY:s,overlayX:c,overlayY:i,offsetY:-u}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),e=this._overlayRef.detachments(),n=this._parentMenu?this._parentMenu.closed:Object(Mt.a)(),r=this._parentMenu?this._parentMenu._hovered().pipe(ie(t=>t!==this._menuItemInstance),ie(()=>this._menuOpen)):Object(Mt.a)();return Object(IC.a)(t,n,r,e)}_handleMousedown(t){gk(t)||(this._openedBy=0===t.button?"mouse":null,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const e=t.keyCode;this.triggersSubmenu()&&(39===e&&"ltr"===this.dir||37===e&&"rtl"===this.dir)&&this.openMenu()}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){this.triggersSubmenu()&&(this._hoverSubscription=this._parentMenu._hovered().pipe(ie(t=>t===this._menuItemInstance&&!t.disabled),TD(0,NT.a)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof iF&&this.menu._isAnimating?this.menu._animationDone.pipe(Ce(1),TD(0,NT.a),qT(this._parentMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(){return this._portal&&this._portal.templateRef===this.menu.templateRef||(this._portal=new eI(this.menu.templateRef,this._viewContainerRef)),this._portal}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(MI),r.Mb(r.l),r.Mb(r.R),r.Mb(aF),r.Mb(iF,8),r.Mb(tF,10),r.Mb(Ok,8),r.Mb(yk))},t.\u0275dir=r.Hb({type:t,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:["aria-haspopup","true",1,"mat-menu-trigger"],hostVars:2,hostBindings:function(t,e){1&t&&r.ac("mousedown",(function(t){return e._handleMousedown(t)}))("keydown",(function(t){return e._handleKeydown(t)}))("click",(function(t){return e._handleClick(t)})),2&t&&r.Cb("aria-expanded",e.menuOpen||null)("aria-controls",e.menuOpen?e.menu.panelId:null)},inputs:{restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"],_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"]}),t})(),hF=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[cF],imports:[Nk]}),t})(),dF=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[cF],imports:[[Z,Nk,Xk,qI,hF],XT,Nk,hF]}),t})();function fF(t,e){1&t&&r.Nb(0,"th",20)}function pF(t,e){1&t&&(r.Sb(0,"mat-icon"),r.xc(1,"chevron_right"),r.Rb())}function mF(t,e){1&t&&(r.Sb(0,"mat-icon"),r.xc(1,"expand_more"),r.Rb())}function gF(t,e){if(1&t){const t=r.Tb();r.Sb(0,"div",23),r.ac("click",(function(){r.oc(t);const e=r.cc().$implicit;return r.cc().groupHeaderClick(e)})),r.wc(1,pF,2,0,"mat-icon",24),r.wc(2,mF,2,0,"mat-icon",24),r.Rb()}if(2&t){const t=r.cc().$implicit;r.Bb(1),r.ic("ngIf",!t.expanded),r.Bb(1),r.ic("ngIf",t.expanded)}}function bF(t,e){if(1&t&&(r.Sb(0,"td",21),r.wc(1,gF,3,2,"div",22),r.Rb()),2&t){const t=e.$implicit,n=r.cc();r.Bb(1),r.ic("ngIf",n.isGroup(t))}}function vF(t,e){1&t&&(r.Sb(0,"th",20),r.xc(1,"Name"),r.Rb())}function yF(t,e){if(1&t){const t=r.Tb();r.Sb(0,"div",23),r.ac("click",(function(){r.oc(t);const e=r.cc().$implicit;return r.cc().groupHeaderClick(e)})),r.Sb(1,"span"),r.xc(2),r.Rb(),r.Rb()}if(2&t){const t=r.cc().$implicit,e=r.cc();r.Bb(2),r.Ac(" ",e.getGroupName(t)," (",t.totalCounts,")")}}function _F(t,e){if(1&t){const t=r.Tb();r.Sb(0,"div",26),r.ac("click",(function(){r.oc(t);const e=r.cc().$implicit;return r.cc().navigateToScholar(e.scholar.roninAddress)})),r.xc(1),r.Rb()}if(2&t){const t=r.cc().$implicit,e=r.cc();r.Bb(1),r.zc(" ",e.hideAddresses?"Scholar":t.name," ")}}function wF(t,e){if(1&t&&(r.Sb(0,"td",21),r.wc(1,yF,3,2,"div",22),r.wc(2,_F,2,1,"div",25),r.Rb()),2&t){const t=e.$implicit,n=r.cc();r.Cb("colspan",n.isGroup(t)?3:1),r.Bb(1),r.ic("ngIf",n.isGroup(t)),r.Bb(1),r.ic("ngIf",n.isNotGroup(t))}}function SF(t,e){1&t&&(r.Sb(0,"th",27),r.xc(1," Account"),r.Rb())}function CF(t,e){if(1&t){const t=r.Tb();r.Sb(0,"div",29),r.ac("click",(function(){r.oc(t);const e=r.cc().$implicit;return r.cc().openSnackBar(e.roninAddress)})),r.Sb(1,"p",30),r.Sb(2,"span"),r.xc(3),r.dc(4,"shortenName"),r.Rb(),r.Rb(),r.Sb(5,"span",26),r.ac("click",(function(){r.oc(t);const e=r.cc().$implicit;return r.cc().openSnackBar(e.roninAddress)})),r.xc(6),r.dc(7,"shortenRoninAddress"),r.Rb(),r.Rb()}if(2&t){const t=r.cc().$implicit,e=r.cc();r.ic("cdkCopyToClipboard",t.roninAddress),r.Bb(3),r.zc(" ",r.fc(4,3,t.roninName,e.hideAddresses)," "),r.Bb(3),r.zc(" ",r.fc(7,6,t.roninAddress,e.hideAddresses)," ")}}function xF(t,e){if(1&t&&(r.Sb(0,"td",21),r.wc(1,CF,8,9,"div",28),r.Rb()),2&t){const t=e.$implicit,n=r.cc();r.Bb(1),r.ic("ngIf",n.isNotGroup(t))}}function OF(t,e){1&t&&(r.Sb(0,"th",20),r.xc(1,"Claimable In"),r.Rb())}function EF(t,e){if(1&t&&(r.Sb(0,"div"),r.xc(1),r.Sb(2,"span",31),r.xc(3),r.Rb(),r.Rb()),2&t){const t=r.cc().$implicit;r.Bb(1),r.zc(" ",t.claimableDate," "),r.Bb(2),r.zc(" ","("+t.claimableTime+")"," ")}}function kF(t,e){if(1&t&&(r.Sb(0,"td",21),r.wc(1,EF,4,2,"div",24),r.Rb()),2&t){const t=e.$implicit,n=r.cc();r.Bb(1),r.ic("ngIf",n.isNotGroup(t))}}function TF(t,e){1&t&&(r.Sb(0,"th",32),r.Sb(1,"div",33),r.Sb(2,"p",34),r.xc(3,"Average"),r.Rb(),r.Rb(),r.Rb())}function IF(t,e){if(1&t&&(r.Sb(0,"td",21),r.Sb(1,"mat-chip",35),r.xc(2),r.dc(3,"number"),r.Rb(),r.Rb()),2&t){const t=e.$implicit;r.Bb(1),r.tc("background",t.averageChipColor),r.Bb(1),r.zc(" ",r.fc(3,3,t.averageSLPSinceLastClaimed,"1.0-0")," ")}}function RF(t,e){1&t&&(r.Sb(0,"th",20),r.xc(1,"In Progress"),r.Rb())}function AF(t,e){if(1&t&&(r.Sb(0,"td",21),r.xc(1),r.Rb()),2&t){const t=e.$implicit;r.Bb(1),r.yc(t.inProgressSLP)}}function PF(t,e){1&t&&(r.Sb(0,"th",20),r.xc(1,"Manager's Share"),r.Rb())}function DF(t,e){if(1&t&&(r.Sb(0,"span",31),r.xc(1),r.Rb()),2&t){const t=r.cc().$implicit;r.Bb(1),r.zc(" ","("+t.managersSharePercentage+"%)"," ")}}function jF(t,e){if(1&t&&(r.Sb(0,"td",21),r.Sb(1,"div"),r.xc(2),r.dc(3,"number"),r.wc(4,DF,2,1,"span",36),r.Rb(),r.Rb()),2&t){const t=e.$implicit,n=r.cc();r.Bb(2),r.zc(" ",r.fc(3,2,t.managersShareSLP,"1.0-0")," "),r.Bb(2),r.ic("ngIf",n.isNotGroup(t))}}function NF(t,e){1&t&&(r.Sb(0,"th",20),r.xc(1,"Claimable"),r.Rb())}function MF(t,e){if(1&t&&(r.Sb(0,"td",21),r.xc(1),r.Rb()),2&t){const t=e.$implicit;r.Bb(1),r.yc(t.claimableSLP)}}function LF(t,e){1&t&&(r.Sb(0,"th",20),r.xc(1,"Total"),r.Rb())}function FF(t,e){if(1&t&&(r.Sb(0,"td",21),r.xc(1),r.Rb()),2&t){const t=e.$implicit;r.Bb(1),r.yc(t.totalSLP)}}function VF(t,e){1&t&&(r.Sb(0,"th",20),r.xc(1,"Paid Times"),r.Rb())}function BF(t,e){if(1&t&&(r.Sb(0,"td",21),r.xc(1),r.Rb()),2&t){const t=e.$implicit;r.Bb(1),r.yc(t.paidTimes)}}function UF(t,e){1&t&&(r.Sb(0,"th",27),r.xc(1,"Actions"),r.Rb())}function qF(t,e){if(1&t){const t=r.Tb();r.Sb(0,"mat-chip-list"),r.Sb(1,"mat-chip",37),r.ac("click",(function(){r.oc(t);const e=r.cc().$implicit;return r.cc().openPaidDialog(e)})),r.xc(2," Pay "),r.Rb(),r.Rb()}}function WF(t,e){if(1&t&&(r.Sb(0,"td",21),r.wc(1,qF,3,0,"mat-chip-list",24),r.Rb()),2&t){const t=e.$implicit,n=r.cc();r.Bb(1),r.ic("ngIf",n.isNotGroup(t))}}function HF(t,e){1&t&&(r.Sb(0,"th",27),r.xc(1,"Menu"),r.Rb())}function zF(t,e){if(1&t){const t=r.Tb();r.Sb(0,"div"),r.Sb(1,"button",38),r.Sb(2,"mat-icon"),r.xc(3,"menu"),r.Rb(),r.Rb(),r.Sb(4,"mat-menu",null,39),r.Sb(6,"button",40),r.ac("click",(function(){r.oc(t);const e=r.cc().$implicit;return r.cc().navigateToScholar(e.scholar.roninAddress)})),r.Sb(7,"mat-icon",41),r.xc(8,"person"),r.Rb(),r.xc(9,"Profile"),r.Rb(),r.Sb(10,"button",40),r.ac("click",(function(){r.oc(t);const e=r.cc().$implicit;return r.cc().openDialog(e)})),r.Sb(11,"mat-icon",42),r.xc(12,"edit"),r.Rb(),r.xc(13,"Edit"),r.Rb(),r.Sb(14,"button",40),r.ac("click",(function(){r.oc(t);const e=r.cc().$implicit;return r.cc().deleteScholar(e)})),r.Sb(15,"mat-icon",43),r.xc(16,"delete"),r.Rb(),r.xc(17,"Delete"),r.Rb(),r.Rb(),r.Rb()}if(2&t){const t=r.nc(5);r.Bb(1),r.ic("matMenuTriggerFor",t)}}function KF(t,e){if(1&t&&(r.Sb(0,"td",21),r.wc(1,zF,18,1,"div",24),r.Rb()),2&t){const t=e.$implicit,n=r.cc();r.Bb(1),r.ic("ngIf",n.isNotGroup(t))}}function GF(t,e){if(1&t&&(r.Sb(0,"td",21),r.Sb(1,"div",44),r.Sb(2,"div",45),r.xc(3," More information break down.. "),r.Rb(),r.Rb(),r.Rb()),2&t){const t=e.$implicit,n=r.cc();r.Cb("colspan",n.displayedColumns.length),r.Bb(1),r.ic("@detailExpand",t==n.expandedElement?"expanded":"collapsed")}}function YF(t,e){1&t&&r.Nb(0,"tr",46)}function QF(t,e){1&t&&r.Nb(0,"tr",47)}function $F(t,e){1&t&&r.Nb(0,"tr",47)}class XF{constructor(){this.averageSLPSinceLastClaimed=0,this.managersShareSLP=0,this.inProgressSLP=0,this.claimableSLP=0,this.totalSLP=0,this.level=0,this.group="\ud83d\ude25 no group",this.expanded=!1,this.totalCounts=0}}let JF=(()=>{class t{constructor(t,e,n,r){this.dialog=t,this.user=e,this.snackBar=n,this.sholarService=r,this.dataSource=new RL([]),this.groupByColumns=[],this.displayedColumns=["position","name","roninAddress","claimableDate","averageSLPSinceLastClaimed","inProgressSLP","managersShareSLP","claimableSLP","totalSLP","paidTimes","actions","menu"],this.headerColumns=[],this.expandedCar=[],this.expandedSubCar=[],this.groupByColumns=["group"],this.headerColumns=this.displayedColumns.filter(t=>"roninAddress"!=t&&"claimableDate"!=t)}getGroups(t,e){const n=new XF;return n.expanded=!1,this.getGroupList(t,0,e,n)}getGroupList(t,e=0,n,r){if(e>=n.length)return t;let i={};const o=n[e];return t.forEach(t=>{var n,r,o,s,a;const c=(null==t?void 0:t.group)?t.group:"\ud83d\ude25 no group";if(!i[c]){const t=new XF;t.level=e+1,t.group=c,i[c]=t}i[c].averageSLPSinceLastClaimed+=null!==(n=null==t?void 0:t.averageSLPSinceLastClaimed)&&void 0!==n?n:0,i[c].claimableSLP+=null!==(r=null==t?void 0:t.claimableSLP)&&void 0!==r?r:0,i[c].totalSLP+=null!==(o=null==t?void 0:t.totalSLP)&&void 0!==o?o:0,i[c].inProgressSLP+=null!==(s=null==t?void 0:t.inProgressSLP)&&void 0!==s?s:0,i[c].managersShareSLP+=null!==(a=null==t?void 0:t.managersShareSLP)&&void 0!==a?a:0}),Object.values(i).forEach(e=>{const n=t.filter(t=>e[o]===(t[o]?t[o]:"\ud83d\ude25 no group"));e.totalCounts=n.length,e.averageSLPSinceLastClaimed=e.averageSLPSinceLastClaimed/e.totalCounts,e.averageChipColor=this.getAverageChipColor(e.averageSLPSinceLastClaimed),this.expandedSubCar=[]}),this._allGroup=Object.values(i).sort((t,e)=>this.compare(t.group,e.group,"asc")),this._allGroup}addGroupsNew(t,e,n,r){const i=new XF;return i.expanded=!0,this.getSublevelNew(t,e,0,n,i,r)}getSublevelNew(t,e,n,r,i,o){if(n>=r.length)return e;const s=r[n];let a=[];return t.forEach(i=>{const c=e.filter(t=>i[s]===t[s]);if(i.totalCounts=c.length,i.group==(o.group?o.group:"\ud83d\ude25 no group")){i.expanded=o.expanded;const e=this.getSublevelNew(t,c,n+1,r,i,"\ud83d\ude25 no group");this.expandedSubCar=e,e.unshift(i),a=a.concat(e)}else a=a.concat(i)}),a}uniqueBy(t,e){const n={};return t.filter(t=>{const r=e(t);return!n.hasOwnProperty(r)&&(n[r]=!0)})}isGroup(t){return null==t?void 0:t.level}isNotGroup(t){return!(null==t?void 0:t.level)}isNotGroupCell(t,e){return!(null==e?void 0:e.level)}isGroupCell(t,e){return null==e?void 0:e.level}onSortData(t){let e=this.allData;const n=e.findIndex(t=>1==t.level);t.active&&""!==t.direction&&(n>-1&&e.splice(n,1),e=e.sort((e,n)=>{const r="asc"===t.direction;switch(t.active){case"claimableDate":return this.compare(e.scholar.slp.lastClaimed,n.scholar.slp.lastClaimed,r);default:return this.compare(e[t.active],n[t.active],r)}})),this.dataSource.data=this.addGroupsNew(this._allGroup,e,this.groupByColumns,this.expandedCar)}compare(t,e,n){return(t<e?-1:1)*(n?1:-1)}groupHeaderClick(t){t.expanded?(t.expanded=!1,this.dataSource.data=this.getGroups(this.allData,this.groupByColumns)):(t.expanded=!0,this.expandedCar=t,this.dataSource.data=this.addGroupsNew(this._allGroup,this.allData,this.groupByColumns,t))}ngOnInit(){this.user.getScholars().pipe(Object(te.a)(t=>(null!=t?t:[]).sort((t,e)=>{var n,r;return(null===(n=null==e?void 0:e.slp)||void 0===n?void 0:n.inProgress)-(null===(r=null==t?void 0:t.slp)||void 0===r?void 0:r.inProgress)}))).pipe(Ae(t=>{const e=[];return t.forEach(t=>{e.push(this.user.getScholar(t.id))}),Qt(e)})).subscribe(t=>{const e=[];t.forEach((t,n)=>{var r,i,o,s,a,c,u,l,h,d,f,p,m;const g=null!==(i=null===(r=null==t?void 0:t.slp)||void 0===r?void 0:r.inProgress)&&void 0!==i?i:0,b=this.getAverageSLP(t);e.push({scholar:t,group:(null==t?void 0:t.group)?null==t?void 0:t.group:"\ud83d\ude25 no group",roninName:null!==(o=null==t?void 0:t.roninName)&&void 0!==o?o:"unknown",paidTimes:null!==(s=null==t?void 0:t.paidTimes)&&void 0!==s?s:0,roninAddress:null==t?void 0:t.roninAddress,inProgressSLP:null!==(c=null===(a=null==t?void 0:t.slp)||void 0===a?void 0:a.inProgress)&&void 0!==c?c:0,managersShareSLP:g*((null!==(u=null==t?void 0:t.managerShare)&&void 0!==u?u:0)/100),managersSharePercentage:null!==(l=null==t?void 0:t.managerShare)&&void 0!==l?l:0,claimableDate:this.getClaimableDateString(t),claimableTime:this.getClaimableTimeString(t),lastClaimedDate:this.getLastClaimedDate(t),claimableSLP:null!==(d=null===(h=null==t?void 0:t.slp)||void 0===h?void 0:h.claimable)&&void 0!==d?d:0,averageSLPSinceLastClaimed:b,averageChipColor:this.getAverageChipColor(b),totalSLP:null!==(p=null===(f=null==t?void 0:t.slp)||void 0===f?void 0:f.total)&&void 0!==p?p:0,name:null!==(m=null==t?void 0:t.name)&&void 0!==m?m:"unknown"})}),this.allData=e,this.dataSource.data=this.getGroups(this.allData,this.groupByColumns)}),this.hideAddress$.subscribe(t=>{this.hideAddresses=t})}getGroupName(t){return t[this.groupByColumns[t.level-1]]||"\ud83d\ude25 no group"}openSnackBar(t){this.snackBar.open(t+" copied",void 0,{duration:5e3,verticalPosition:"top"})}getClaimableDateString(t){var e;if(!(null===(e=null==t?void 0:t.slp)||void 0===e?void 0:e.lastClaimed))return"unknown";const n=new Date(1e3*(t.slp.lastClaimed+1209600)),r=new Date;if(n<r)return"now";const i=Math.floor((n-r)/1e3),o=Math.floor(i/60),s=Math.floor(o/60),a=Math.floor(s/24);let c="";return a>=0&&(c=a+" days"),c}getClaimableTimeString(t){var e;if(!(null===(e=null==t?void 0:t.slp)||void 0===e?void 0:e.lastClaimed))return"unknown";const n=new Date(1e3*(t.slp.lastClaimed+1209600));return n<new Date?"":n.toLocaleTimeString()}getLastClaimedDate(t){var e;if(!(null===(e=null==t?void 0:t.slp)||void 0===e?void 0:e.lastClaimed))return"unknown";const n=new Date,r=new Date(1e3*t.slp.lastClaimed);if(r>n)return"unknown";const i=Math.floor((n.getTime()-r.getTime())/1e3),o=Math.floor(i/60),s=Math.floor(o/60),a=Math.floor(s/24),c=s-24*a;return a>0?a+" days":c>0?c+" hours":"just now"}getAverageSLP(t,e=new Date){var n;if(isNaN(null===(n=null==t?void 0:t.slp)||void 0===n?void 0:n.inProgress))return 0;const r=t.slp.inProgress,i=new Date(1e3*t.slp.lastClaimed),o=Math.floor((e.getTime()-i.getTime())/1e3);return o<86400?r:r/o*86400}getAverageChipColor(t){return Math.round(t)<100?"#FF0000":Math.round(t)<150?"#FF8000":Math.round(t)<200?"#00CC00":"#FF00FF"}openPaidDialog(t){this.sholarService.openPayDialog(Object.assign({},t.scholar))}openDialog(t){this.sholarService.openDialog(Object.assign({},t.scholar))}deleteScholar(t){this.sholarService.deleteScholar(t.scholar.id)}navigateToScholar(t){this.sholarService.navigateToScholar(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(rR),r.Mb(FP),r.Mb(gN),r.Mb(bN))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-earnings-table"]],viewQuery:function(t,e){var n;1&t&&r.Bc(pM,!0),2&t&&r.mc(n=r.bc())&&(e.sort=n.first)},inputs:{hideAddress$:"hideAddress$"},decls:42,vars:6,consts:[["mat-table","","matSort","","multiTemplateDataRows","",1,"mat-elevation-z8",3,"dataSource","matSortChange"],["matColumnDef","position"],["mat-header-cell","","mat-sort-header","","class","center-items",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","roninAddress"],["mat-header-cell","","class","center-items",4,"matHeaderCellDef"],["matColumnDef","claimableDate"],["matColumnDef","averageSLPSinceLastClaimed"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","inProgressSLP"],["matColumnDef","managersShareSLP"],["matColumnDef","claimableSLP"],["matColumnDef","totalSLP"],["matColumnDef","paidTimes"],["matColumnDef","actions"],["matColumnDef","menu"],["matColumnDef","expandedDetail"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns","matRowDefWhen"],["mat-header-cell","","mat-sort-header","",1,"center-items"],["mat-cell",""],["style","text-align: start !important;",3,"click",4,"ngIf"],[2,"text-align","start !important",3,"click"],[4,"ngIf"],[3,"click",4,"ngIf"],[3,"click"],["mat-header-cell","",1,"center-items"],[3,"cdkCopyToClipboard","click",4,"ngIf"],[3,"cdkCopyToClipboard","click"],[2,"margin","0","font-size","10px"],[1,"small-text"],["mat-header-cell","","mat-sort-header",""],[2,"padding-top","10px","padding-left","10px"],[2,"margin","0 10px 0 0"],["selected","",2,"display","inline-flex","padding","0px 12px","border-radius","16px","align-items","center","color","white","min-height","20px"],["class","small-text",4,"ngIf"],["selected","",2,"height","20px","color","white","background","rgb(146, 215, 255)","min-height","20px",3,"click"],["mat-button","",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],[2,"margin-left","5px","color","dodgerblue"],["color","primary",2,"margin-left","5px"],[2,"margin-left","5px","color","#f2738c"],[1,"example-element-detail"],[1,"example-element-description"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(r.Sb(0,"table",0),r.ac("matSortChange",(function(t){return e.onSortData(t)})),r.Qb(1,1),r.wc(2,fF,1,0,"th",2),r.wc(3,bF,2,1,"td",3),r.Pb(),r.Qb(4,4),r.wc(5,vF,2,0,"th",2),r.wc(6,wF,3,3,"td",3),r.Pb(),r.Qb(7,5),r.wc(8,SF,2,0,"th",6),r.wc(9,xF,2,1,"td",3),r.Pb(),r.Qb(10,7),r.wc(11,OF,2,0,"th",2),r.wc(12,kF,2,1,"td",3),r.Pb(),r.Qb(13,8),r.wc(14,TF,4,0,"th",9),r.wc(15,IF,4,6,"td",3),r.Pb(),r.Qb(16,10),r.wc(17,RF,2,0,"th",2),r.wc(18,AF,2,1,"td",3),r.Pb(),r.Qb(19,11),r.wc(20,PF,2,0,"th",2),r.wc(21,jF,5,5,"td",3),r.Pb(),r.Qb(22,12),r.wc(23,NF,2,0,"th",2),r.wc(24,MF,2,1,"td",3),r.Pb(),r.Qb(25,13),r.wc(26,LF,2,0,"th",2),r.wc(27,FF,2,1,"td",3),r.Pb(),r.Qb(28,14),r.wc(29,VF,2,0,"th",2),r.wc(30,BF,2,1,"td",3),r.Pb(),r.Qb(31,15),r.wc(32,UF,2,0,"th",6),r.wc(33,WF,2,1,"td",3),r.Pb(),r.Qb(34,16),r.wc(35,HF,2,0,"th",6),r.wc(36,KF,2,1,"td",3),r.Pb(),r.Qb(37,17),r.wc(38,GF,4,2,"td",3),r.Pb(),r.wc(39,YF,1,0,"tr",18),r.wc(40,QF,1,0,"tr",19),r.wc(41,$F,1,0,"tr",19),r.Rb()),2&t&&(r.ic("dataSource",e.dataSource),r.Bb(39),r.ic("matHeaderRowDef",e.displayedColumns),r.Bb(1),r.ic("matRowDefColumns",e.displayedColumns)("matRowDefWhen",e.isNotGroupCell),r.Bb(1),r.ic("matRowDefColumns",e.headerColumns)("matRowDefWhen",e.isGroupCell))},directives:[uL,pM,mL,fL,hL,wL,CL,bL,SM,yL,V,Vj,wj,LL,WL,OT,lF,sF,tF,OL,kL],pipes:[qj,Uj,J],styles:["table[_ngcontent-%COMP%]{width:100%}.center-items[_ngcontent-%COMP%]{text-align:center}.center-items[_ngcontent-%COMP%], td.mat-cell[_ngcontent-%COMP%], th.mat-header-cell[_ngcontent-%COMP%]{justify-content:center!important}.mat-chip-list-wrapper[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{text-align:center!important;justify-content:center!important}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{vertical-align:middle!important}.small-text[_ngcontent-%COMP%]{font-size:10px}th.mat-sort-header-sorted[_ngcontent-%COMP%]{color:#000}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}td[_ngcontent-%COMP%]{overflow-wrap:break-word;word-break:break-word}.mat-column-actions[_ngcontent-%COMP%], .mat-column-roninAddress[_ngcontent-%COMP%]{padding-left:15px}.mat-column-scholarRoninAddress[_ngcontent-%COMP%]{padding-right:15px}.mat-column-averageSLPSinceLastClaimed[_ngcontent-%COMP%]{padding-left:15px}"],data:{animation:[lx("detailExpand",[mx("collapsed",px({height:"0px",minHeight:"0"})),mx("expanded",px({height:"*"})),bx("expanded <=> collapsed",hx("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}}),t})(),ZF=(()=>{class t{constructor(t,e,n,r,i){this.dialog=t,this.db=e,this.authService=n,this.user=r,this.snackBar=i,this.displayedColumns=["name","rank","elo","wins","draws","loses"]}ngOnInit(){this.user.getScholars().subscribe(t=>{const e=[];t.forEach(t=>{var n,r,i,o,s,a;e.push({name:null!==(n=null==t?void 0:t.name)&&void 0!==n?n:"unknown",rank:null===(r=null==t?void 0:t.leaderboardDetails)||void 0===r?void 0:r.rank,elo:null===(i=null==t?void 0:t.leaderboardDetails)||void 0===i?void 0:i.elo,wins:null===(o=null==t?void 0:t.leaderboardDetails)||void 0===o?void 0:o.wins,loses:null===(s=null==t?void 0:t.leaderboardDetails)||void 0===s?void 0:s.loses,draws:null===(a=null==t?void 0:t.leaderboardDetails)||void 0===a?void 0:a.draws})}),this.dataSource=new RL(e),this.dataSource.sort=this.sort}),this.hideAddress$.subscribe(t=>{this.hideAddresses=t})}openSnackBar(t){this.snackBar.open(t+" copied",void 0,{duration:5e3,verticalPosition:"top"})}navigateToScholar(t){window.open("https://marketplace.axieinfinity.com/profile/"+t.roninAddress.replace("ronin:","0x")+"/axie","_blank")}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(rR),r.Mb(ox),r.Mb(cx),r.Mb(FP),r.Mb(gN))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-arena-table"]],viewQuery:function(t,e){var n;1&t&&r.Bc(pM,!0),2&t&&r.mc(n=r.bc())&&(e.sort=n.first)},inputs:{hideAddress$:"hideAddress$"},decls:2,vars:0,template:function(t,e){1&t&&(r.Sb(0,"span"),r.xc(1,"Under development"),r.Rb())},styles:["table[_ngcontent-%COMP%]{width:100%;overflow-wrap:break-word;word-break:break-word}th.mat-sort-header-sorted[_ngcontent-%COMP%]{color:#000}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}td[_ngcontent-%COMP%]{overflow-wrap:break-word;word-break:break-word}.mat-column-actions[_ngcontent-%COMP%], .mat-column-rank[_ngcontent-%COMP%]{padding-left:15px}"]}),t})();const tV=function(t){return{highlight:t}};function eV(t,e){if(1&t&&(r.Sb(0,"tr"),r.Sb(1,"td",3),r.xc(2),r.Rb(),r.Sb(3,"td",3),r.xc(4),r.Rb(),r.Sb(5,"td",4),r.xc(6),r.dc(7,"number"),r.Rb(),r.Rb()),2&t){const t=e.$implicit,n=r.cc();r.Bb(2),r.yc(t+1),r.Bb(2),r.yc(n.formulaCost[t]),r.Bb(1),r.ic("ngClass",r.kc(7,tV,n.highestProfit==n.totalCost[t])),r.Bb(1),r.yc(r.fc(7,4,n.totalCost[t],"1.2-2"))}}const nV=function(){return[0,1,2,3,4,5,6]};let rV=(()=>{class t{constructor(t){this.userService=t,this.averageValue=0,this.averageAxiePrice$=new Bt(0),this.formulaCost=new Array(7),this.totalCost=new Array(7),this.breedingCostSLP=[300,600,900,1500,2400,3900,6300],this.breedingCostAXS=4,this.highestProfit=-1,Qt([t.getSLPPrice(),t.getAXSPrice(),this.averageAxiePrice$]).subscribe(([t,e,n])=>{this.highestProfit=-1;for(let r=0;r<this.totalCost.length;r++){let i=0;for(let t=0;t<r+1;t++)i+=this.breedingCostSLP[t];const o=r+1,s=i*t+e*(this.breedingCostAXS*o);this.formulaCost[r]="y = "+(r?o:"")+"x - "+s.toFixed(2),this.totalCost[r]=o*n-s,this.totalCost[r]>this.highestProfit&&(this.highestProfit=this.totalCost[r])}})}updateAverageValue(){this.averageAxiePrice$.next(this.averageValue)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(FP))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-breed-profit-table"]],decls:14,vars:3,consts:[[1,"title-row"],[4,"ngFor","ngForOf"],["matInput","","type","number",3,"ngModel","ngModelChange","change"],[1,"item-row"],[1,"item-row",3,"ngClass"]],template:function(t,e){1&t&&(r.Sb(0,"h2"),r.xc(1,"A simple tool to check the profitability of breeding axies based on the average selling price. Note: this does not account for the parent costs"),r.Rb(),r.Sb(2,"table"),r.Sb(3,"tr"),r.Sb(4,"td",0),r.xc(5,"Breed Count"),r.Rb(),r.Sb(6,"td",0),r.xc(7,"Formula"),r.Rb(),r.Sb(8,"td",0),r.xc(9,"Profit"),r.Rb(),r.Rb(),r.wc(10,eV,8,9,"tr",1),r.Rb(),r.Sb(11,"h3"),r.xc(12,"Enter average Axie sell price "),r.Sb(13,"input",2),r.ac("ngModelChange",(function(t){return e.averageValue=t}))("change",(function(){return e.updateAverageValue()})),r.Rb(),r.Rb()),2&t&&(r.Bb(10),r.ic("ngForOf",r.jc(2,nV)),r.Bb(3),r.ic("ngModel",e.averageValue))},directives:[L,OD,UR,_R,kR,AA,N],pipes:[J],styles:[".title-row[_ngcontent-%COMP%]{padding-right:20px;font-weight:520;font-size:22px;padding-bottom:10px}.item-row[_ngcontent-%COMP%]{padding-right:10px;font-size:18px}.highlight[_ngcontent-%COMP%]{color:green}"]}),t})();function iV(t,e){if(1&t&&(r.Sb(0,"mat-card",12),r.Sb(1,"table",13),r.Sb(2,"tr",14),r.Sb(3,"td",15),r.xc(4,"In Progress"),r.Rb(),r.Sb(5,"td",15),r.xc(6,"Total Earnings"),r.Rb(),r.Rb(),r.Sb(7,"tr"),r.Sb(8,"td",16),r.xc(9),r.dc(10,"number"),r.Sb(11,"span",17),r.xc(12),r.dc(13,"number"),r.Rb(),r.Rb(),r.Sb(14,"td",16),r.xc(15),r.dc(16,"number"),r.Sb(17,"span",17),r.xc(18),r.dc(19,"number"),r.Rb(),r.Rb(),r.Rb(),r.Sb(20,"tr"),r.Sb(21,"td",16),r.xc(22),r.dc(23,"number"),r.Sb(24,"span",17),r.xc(25),r.dc(26,"number"),r.Rb(),r.Rb(),r.Sb(27,"td",16),r.xc(28),r.dc(29,"number"),r.Sb(30,"span",17),r.xc(31),r.dc(32,"number"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()),2&t){const t=r.cc();r.Bb(9),r.zc("",r.fc(10,8,t.progressManagerSLP,"1.2-2")," SLP "),r.Bb(3),r.zc(" (",r.fc(13,11,t.progressSLP,"1.2-2")," Total)"),r.Bb(3),r.zc("",r.fc(16,14,t.totalManagerSLP,"1.2-2")," SLP "),r.Bb(3),r.zc(" (",r.fc(19,17,t.totalSLP,"1.2-2")," Total)"),r.Bb(4),r.zc("",t.fiatCurrency+r.fc(23,20,t.progressManagerFiat,"1.2-2")," "),r.Bb(3),r.zc(" (",r.fc(26,23,t.progressFiat,"1.2-2")," Total)"),r.Bb(3),r.zc("",t.fiatCurrency+r.fc(29,26,t.totalManagerFiat,"1.2-2")," "),r.Bb(3),r.zc(" (",r.fc(32,29,t.totalFiat,"1.2-2")," Total)")}}function oV(t,e){1&t&&(r.Nb(0,"img",18),r.Sb(1,"span"),r.xc(2,"Earnings"),r.Rb())}function sV(t,e){1&t&&(r.Nb(0,"img",19),r.Sb(1,"span"),r.xc(2,"Arena"),r.Rb())}function aV(t,e){1&t&&(r.Nb(0,"img",20),r.Sb(1,"span"),r.xc(2,"Axies"),r.Rb())}function cV(t,e){1&t&&(r.Sb(0,"mat-icon",21),r.xc(1,"favorite"),r.Rb(),r.Sb(2,"span"),r.xc(3,"Breed Profit"),r.Rb())}let uV=(()=>{class t{constructor(t,e,n,r,i){this.service=t,this.db=e,this.scholarService=n,this.dialog=r,this.userService=i,this.hideAddress=new Bt(!1),this.authService=t}ngOnInit(){return Object(Ri.__awaiter)(this,void 0,void 0,(function*(){this.userService.getTotalSLP().subscribe(t=>{this.totalSLP=t.total,this.totalManagerSLP=t.managerTotal}),this.userService.getTotalFiat().subscribe(t=>{this.totalFiat=t.total,this.totalManagerFiat=t.managerTotal}),this.userService.getInProgressSLP().subscribe(t=>{this.progressSLP=t.total,this.progressManagerSLP=t.managerTotal}),this.userService.getInprogressFiat().subscribe(t=>{this.progressFiat=t.total,this.progressManagerFiat=t.managerTotal}),this.userService.getFiatCurrency().subscribe(t=>{this.fiatCurrency=AT()(t)}),this.userService.getSLPPrice().subscribe(t=>{this.SLPPrice=t}),this.userService.getAXSPrice().subscribe(t=>{this.AXSPrice=t})}))}addNewScholar(){const t={name:"no name",group:"",id:Ii.default.firestore().collection("tmp").doc().id,roninAddress:"",scholarRoninAddress:"",paidTimes:0,scholarEthAddress:"",preferredPaymentMethod:IT.ronin,managerShare:50};this.scholarService.openDialog(t)}hideAddresses(){this.hideAddress.next(!this.hideAddress.getValue())}refresh(){this.userService.refresh()}navigateSLPChart(){window.open("https://www.coingecko.com/en/coins/smooth-love-potion","_blank")}navigateAXSChart(){window.open("https://www.coingecko.com/en/coins/axie-infinity","_blank")}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(cx),r.Mb(ox),r.Mb(bN),r.Mb(rR),r.Mb(FP))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-dashboard"]],decls:39,vars:15,consts:[[2,"display","flex","margin-right","10px"],["class","header-card",4,"ngIf"],[1,"buttons-card",2,"width","100px"],["mat-raised-button","",1,"crypto-button",3,"click"],["src","assets/slp.webp",2,"width","20px"],[2,"padding-left","5px"],["src","assets/axs.webp",2,"width","20px"],[1,"buttons-card",2,"align-self","flex-end","margin-left","auto","width","200px"],["mat-raised-button","",1,"add-scholar-button",3,"click"],[2,"margin-left","15px","margin-right","15px"],["mat-tab-label",""],[3,"hideAddress$"],[1,"header-card"],[2,"text-align","start"],[2,"margin-bottom","10px"],[1,"title-row"],[1,"item-row"],[1,"small-text"],["src","assets/slp.webp",2,"width","20px","margin-right","10px"],["src","assets/arena.png",2,"height","20px","margin-right","10px"],["src","assets/axie.png",2,"height","20px","margin-right","10px"],[2,"color","pink","padding-right","10px"]],template:function(t,e){1&t&&(r.Sb(0,"div",0),r.wc(1,iV,33,32,"mat-card",1),r.Sb(2,"div",2),r.Sb(3,"button",3),r.ac("click",(function(){return e.navigateSLPChart()})),r.Nb(4,"img",4),r.Sb(5,"span",5),r.xc(6),r.dc(7,"number"),r.Rb(),r.Rb(),r.Sb(8,"button",3),r.ac("click",(function(){return e.navigateAXSChart()})),r.Nb(9,"img",6),r.Sb(10,"span",5),r.xc(11),r.dc(12,"number"),r.Rb(),r.Rb(),r.Rb(),r.Sb(13,"div",7),r.Sb(14,"button",8),r.ac("click",(function(){return e.refresh()})),r.Sb(15,"mat-icon"),r.xc(16,"refresh"),r.Rb(),r.Sb(17,"span",5),r.xc(18),r.Rb(),r.Rb(),r.Sb(19,"button",8),r.ac("click",(function(){return e.hideAddresses()})),r.xc(20),r.Rb(),r.Sb(21,"button",8),r.ac("click",(function(){return e.addNewScholar()})),r.Sb(22,"mat-icon"),r.xc(23,"add"),r.Rb(),r.Sb(24,"span",5),r.xc(25," Add New Scholar"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(26,"mat-tab-group",9),r.Sb(27,"mat-tab"),r.wc(28,oV,3,0,"ng-template",10),r.Nb(29,"app-earnings-table",11),r.Rb(),r.Sb(30,"mat-tab"),r.wc(31,sV,3,0,"ng-template",10),r.Nb(32,"app-arena-table",11),r.Rb(),r.Sb(33,"mat-tab"),r.wc(34,aV,3,0,"ng-template",10),r.xc(35," Coming soon! "),r.Rb(),r.Sb(36,"mat-tab"),r.wc(37,cV,4,0,"ng-template",10),r.Nb(38,"app-breed-profit-table"),r.Rb(),r.Rb()),2&t&&(r.Bb(1),r.ic("ngIf",e.authService.userState.getValue()),r.Bb(5),r.Ac("",e.fiatCurrency,"",r.fc(7,9,e.SLPPrice,"1.2-2"),""),r.Bb(5),r.Ac("",e.fiatCurrency,"",r.fc(12,12,e.AXSPrice,"1.2-2"),""),r.Bb(7),r.yc("Refresh"),r.Bb(2),r.zc(" ",e.hideAddress.getValue()?"Show Information":"Hide Information"," "),r.Bb(9),r.ic("hideAddress$",e.hideAddress),r.Bb(3),r.ic("hideAddress$",e.hideAddress))},directives:[V,OT,Vj,tM,WN,FN,JF,ZF,rV,bT],pipes:[J],styles:[".header-card[_ngcontent-%COMP%]{margin:10px;overflow-wrap:break-word;background:#87b7ff;color:#fff}.add-scholar-button[_ngcontent-%COMP%]{width:170px;text-align:center;margin-top:10px}.crypto-button[_ngcontent-%COMP%]{width:100px;text-align:center;margin-top:10px}.small-text[_ngcontent-%COMP%]{font-size:10px}.title-row[_ngcontent-%COMP%]{font-weight:520;font-size:24px;padding-bottom:10px}.item-row[_ngcontent-%COMP%]{padding-right:10px;font-size:20px}"]}),t})(),lV=(()=>{class t{constructor(t,e){this.ngAuthService=t,this.router=e}canActivate(t,e){return this.ngAuthService.userState.getValue()||this.router.navigate(["sign-in"]),!0}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(cx),r.Wb(ai))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const hV=[{path:"",redirectTo:"/dashboard",pathMatch:"full"},{path:"sign-in",component:TT},{path:"donate",component:(()=>{class t{constructor(t){this.snackBar=t,this.ethAddress="0x509eFF672dd32215Fed920499302BBaFCc2E1513",this.roninAddress="ronin:509eff672dd32215fed920499302bbafcc2e1513"}ngOnInit(){}openSnackBar(t){this.snackBar.open(t+" copied",void 0,{verticalPosition:"top"})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(gN))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-donate"]],decls:26,vars:4,consts:[[1,"login-wrapper"],[2,"width","600px","text-align","center"],[3,"cdkCopyToClipboard","click"],[2,"margin-left","10px"]],template:function(t,e){1&t&&(r.Sb(0,"div",0),r.Sb(1,"mat-card",1),r.Sb(2,"mat-icon"),r.xc(3,"favorite"),r.Rb(),r.Sb(4,"p"),r.xc(5," Donating will show me support for this project and allow me to spend more time developing it. "),r.Rb(),r.Sb(6,"p"),r.Sb(7,"mat-label"),r.Sb(8,"strong"),r.xc(9,"Eth Address"),r.Rb(),r.Rb(),r.Rb(),r.Sb(10,"p"),r.Sb(11,"mat-label",2),r.ac("click",(function(){return e.openSnackBar("Eth address")})),r.Sb(12,"mat-icon"),r.xc(13,"file_copy"),r.Rb(),r.Sb(14,"span",3),r.xc(15),r.Rb(),r.Rb(),r.Rb(),r.Sb(16,"p"),r.Sb(17,"mat-label"),r.Sb(18,"strong"),r.xc(19,"Ronin Address"),r.Rb(),r.Rb(),r.Rb(),r.Sb(20,"p"),r.Sb(21,"mat-label",2),r.ac("click",(function(){return e.openSnackBar("ronin address")})),r.Sb(22,"mat-icon"),r.xc(23,"file_copy"),r.Rb(),r.Sb(24,"span",3),r.xc(25),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()),2&t&&(r.Bb(11),r.ic("cdkCopyToClipboard",e.ethAddress),r.Bb(4),r.yc(e.ethAddress),r.Bb(6),r.ic("cdkCopyToClipboard",e.roninAddress),r.Bb(4),r.yc(e.roninAddress))},directives:[bT,Vj,sD,wj],styles:[".login-wrapper[_ngcontent-%COMP%]{height:80vh;display:flex;justify-content:center;align-items:center}"]}),t})()},{path:"terms",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-terms"]],decls:174,vars:0,consts:[[2,"margin","10px"],["href","axiepad.com","rel","external nofollow noopener","target","_blank"]],template:function(t,e){1&t&&(r.Sb(0,"mat-card",0),r.Sb(1,"h1"),r.xc(2,"Terms and Conditions"),r.Rb(),r.Sb(3,"p"),r.xc(4,"Last updated: June 26, 2021"),r.Rb(),r.Sb(5,"p"),r.xc(6,"Please read these terms and conditions carefully before using Our Service."),r.Rb(),r.Sb(7,"h1"),r.xc(8,"Interpretation and Definitions"),r.Rb(),r.Sb(9,"h2"),r.xc(10,"Interpretation"),r.Rb(),r.Sb(11,"p"),r.xc(12,"The words of which the initial letter is capitalized have meanings defined under the following conditions. The following definitions shall have the same meaning regardless of whether they appear in singular or in plural."),r.Rb(),r.Sb(13,"h2"),r.xc(14,"Definitions"),r.Rb(),r.Sb(15,"p"),r.xc(16,"For the purposes of these Terms and Conditions:"),r.Rb(),r.Sb(17,"ul"),r.Sb(18,"li"),r.Sb(19,"p"),r.Sb(20,"strong"),r.xc(21,"Affiliate"),r.Rb(),r.xc(22,' means an entity that controls, is controlled by or is under common control with a party, where "control" means ownership of 50% or more of the shares, equity interest or other securities entitled to vote for election of directors or other managing authority.'),r.Rb(),r.Rb(),r.Sb(23,"li"),r.Sb(24,"p"),r.Sb(25,"strong"),r.xc(26,"Account"),r.Rb(),r.xc(27," means a unique account created for You to access our Service or parts of our Service. "),r.Rb(),r.Rb(),r.Sb(28,"li"),r.Sb(29,"p"),r.Sb(30,"strong"),r.xc(31,"Country"),r.Rb(),r.xc(32," refers to: New Zealand"),r.Rb(),r.Rb(),r.Sb(33,"li"),r.Sb(34,"p"),r.Sb(35,"strong"),r.xc(36,"Company"),r.Rb(),r.xc(37,' (referred to as either "the Company", "We", "Us" or "Our" in this Agreement) refers to Axie Pad.'),r.Rb(),r.Rb(),r.Sb(38,"li"),r.Sb(39,"p"),r.Sb(40,"strong"),r.xc(41,"Device"),r.Rb(),r.xc(42," means any device that can access the Service such as a computer, a cellphone or a digital tablet."),r.Rb(),r.Rb(),r.Sb(43,"li"),r.Sb(44,"p"),r.Sb(45,"strong"),r.xc(46,"Feedback"),r.Rb(),r.xc(47," means feedback, innovations or suggestions sent by You regarding the attributes, performance or features of our Service."),r.Rb(),r.Rb(),r.Sb(48,"li"),r.Sb(49,"p"),r.Sb(50,"strong"),r.xc(51,"Service"),r.Rb(),r.xc(52," refers to the Website."),r.Rb(),r.Rb(),r.Sb(53,"li"),r.Sb(54,"p"),r.Sb(55,"strong"),r.xc(56,"Terms and Conditions"),r.Rb(),r.xc(57,' (also referred as "Terms") mean these Terms and Conditions that form the entire agreement between You and the Company regarding the use of the Service.'),r.Rb(),r.Rb(),r.Sb(58,"li"),r.Sb(59,"p"),r.Sb(60,"strong"),r.xc(61,"Third-party Social Media Service"),r.Rb(),r.xc(62," means any services or content (including data, information, products or services) provided by a third-party that may be displayed, included or made available by the Service."),r.Rb(),r.Rb(),r.Sb(63,"li"),r.Sb(64,"p"),r.Sb(65,"strong"),r.xc(66,"Website"),r.Rb(),r.xc(67," refers to Axie Pad, accessible from "),r.Sb(68,"a",1),r.xc(69,"axiepad.com"),r.Rb(),r.Rb(),r.Rb(),r.Sb(70,"li"),r.Sb(71,"p"),r.Sb(72,"strong"),r.xc(73,"You"),r.Rb(),r.xc(74," means the individual accessing or using the Service, or the company, or other legal entity on behalf of which such individual is accessing or using the Service, as applicable."),r.Rb(),r.Rb(),r.Rb(),r.Sb(75,"h1"),r.xc(76,"Acknowledgment"),r.Rb(),r.Sb(77,"p"),r.xc(78,"These are the Terms and Conditions governing the use of this Service and the agreement that operates between You and the Company. These Terms and Conditions set out the rights and obligations of all users regarding the use of the Service."),r.Rb(),r.Sb(79,"p"),r.xc(80,"Your access to and use of the Service is conditioned on Your acceptance of and compliance with these Terms and Conditions. These Terms and Conditions apply to all visitors, users and others who access or use the Service."),r.Rb(),r.Sb(81,"p"),r.xc(82,"By accessing or using the Service You agree to be bound by these Terms and Conditions. If You disagree with any part of these Terms and Conditions then You may not access the Service."),r.Rb(),r.Sb(83,"p"),r.xc(84,"You represent that you are over the age of 18. The Company does not permit those under 18 to use the Service."),r.Rb(),r.Sb(85,"p"),r.xc(86,"Your access to and use of the Service is also conditioned on Your acceptance of and compliance with the Privacy Policy of the Company. Our Privacy Policy describes Our policies and procedures on the collection, use and disclosure of Your personal information when You use the Application or the Website and tells You about Your privacy rights and how the law protects You. Please read Our Privacy Policy carefully before using Our Service."),r.Rb(),r.Sb(87,"h1"),r.xc(88,"User Accounts"),r.Rb(),r.Sb(89,"p"),r.xc(90,"When You create an account with Us, You must provide Us information that is accurate, complete, and current at all times. Failure to do so constitutes a breach of the Terms, which may result in immediate termination of Your account on Our Service."),r.Rb(),r.Sb(91,"p"),r.xc(92,"You are responsible for safeguarding the password that You use to access the Service and for any activities or actions under Your password, whether Your password is with Our Service or a Third-Party Social Media Service."),r.Rb(),r.Sb(93,"p"),r.xc(94,"You agree not to disclose Your password to any third party. You must notify Us immediately upon becoming aware of any breach of security or unauthorized use of Your account."),r.Rb(),r.Sb(95,"p"),r.xc(96,"You may not use as a username the name of another person or entity or that is not lawfully available for use, a name or trademark that is subject to any rights of another person or entity other than You without appropriate authorization, or a name that is otherwise offensive, vulgar or obscene."),r.Rb(),r.Sb(97,"h1"),r.xc(98,"Your Feedback to Us"),r.Rb(),r.Sb(99,"p"),r.xc(100,"You assign all rights, title and interest in any Feedback You provide the Company. If for any reason such assignment is ineffective, You agree to grant the Company a non-exclusive, perpetual, irrevocable, royalty free, worldwide right and license to use, reproduce, disclose, sub-license, distribute, modify and exploit such Feedback without restriction."),r.Rb(),r.Sb(101,"h1"),r.xc(102,"Links to Other Websites"),r.Rb(),r.Sb(103,"p"),r.xc(104,"Our Service may contain links to third-party web sites or services that are not owned or controlled by the Company."),r.Rb(),r.Sb(105,"p"),r.xc(106,"The Company has no control over, and assumes no responsibility for, the content, privacy policies, or practices of any third party web sites or services. You further acknowledge and agree that the Company shall not be responsible or liable, directly or indirectly, for any damage or loss caused or alleged to be caused by or in connection with the use of or reliance on any such content, goods or services available on or through any such web sites or services."),r.Rb(),r.Sb(107,"p"),r.xc(108,"We strongly advise You to read the terms and conditions and privacy policies of any third-party web sites or services that You visit."),r.Rb(),r.Sb(109,"h1"),r.xc(110,"Termination"),r.Rb(),r.Sb(111,"p"),r.xc(112,"We may terminate or suspend Your Account immediately, without prior notice or liability, for any reason whatsoever, including without limitation if You breach these Terms and Conditions."),r.Rb(),r.Sb(113,"p"),r.xc(114,"Upon termination, Your right to use the Service will cease immediately. If You wish to terminate Your Account, You may simply discontinue using the Service."),r.Rb(),r.Sb(115,"h1"),r.xc(116,"Limitation of Liability"),r.Rb(),r.Sb(117,"p"),r.xc(118,"Notwithstanding any damages that You might incur, the entire liability of the Company and any of its suppliers under any provision of this Terms and Your exclusive remedy for all of the foregoing shall be limited to the amount actually paid by You through the Service or 100 USD if You haven't purchased anything through the Service."),r.Rb(),r.Sb(119,"p"),r.xc(120,"To the maximum extent permitted by applicable law, in no event shall the Company or its suppliers be liable for any special, incidental, indirect, or consequential damages whatsoever (including, but not limited to, damages for loss of profits, loss of data or other information, for business interruption, for personal injury, loss of privacy arising out of or in any way related to the use of or inability to use the Service, third-party software and/or third-party hardware used with the Service, or otherwise in connection with any provision of this Terms), even if the Company or any supplier has been advised of the possibility of such damages and even if the remedy fails of its essential purpose."),r.Rb(),r.Sb(121,"p"),r.xc(122,"Some states do not allow the exclusion of implied warranties or limitation of liability for incidental or consequential damages, which means that some of the above limitations may not apply. In these states, each party's liability will be limited to the greatest extent permitted by law."),r.Rb(),r.Sb(123,"h1"),r.xc(124,'"AS IS" and "AS AVAILABLE" Disclaimer'),r.Rb(),r.Sb(125,"p"),r.xc(126,'The Service is provided to You "AS IS" and "AS AVAILABLE" and with all faults and defects without warranty of any kind. To the maximum extent permitted under applicable law, the Company, on its own behalf and on behalf of its Affiliates and its and their respective licensors and service providers, expressly disclaims all warranties, whether express, implied, statutory or otherwise, with respect to the Service, including all implied warranties of merchantability, fitness for a particular purpose, title and non-infringement, and warranties that may arise out of course of dealing, course of performance, usage or trade practice. Without limitation to the foregoing, the Company provides no warranty or undertaking, and makes no representation of any kind that the Service will meet Your requirements, achieve any intended results, be compatible or work with any other software, applications, systems or services, operate without interruption, meet any performance or reliability standards or be error free or that any errors or defects can or will be corrected.'),r.Rb(),r.Sb(127,"p"),r.xc(128,"Without limiting the foregoing, neither the Company nor any of the company's provider makes any representation or warranty of any kind, express or implied: (i) as to the operation or availability of the Service, or the information, content, and materials or products included thereon; (ii) that the Service will be uninterrupted or error-free; (iii) as to the accuracy, reliability, or currency of any information or content provided through the Service; or (iv) that the Service, its servers, the content, or e-mails sent from or on behalf of the Company are free of viruses, scripts, trojan horses, worms, malware, timebombs or other harmful components."),r.Rb(),r.Sb(129,"p"),r.xc(130,"Some jurisdictions do not allow the exclusion of certain types of warranties or limitations on applicable statutory rights of a consumer, so some or all of the above exclusions and limitations may not apply to You. But in such a case the exclusions and limitations set forth in this section shall be applied to the greatest extent enforceable under applicable law."),r.Rb(),r.Sb(131,"h1"),r.xc(132,"Governing Law"),r.Rb(),r.Sb(133,"p"),r.xc(134,"The laws of the Country, excluding its conflicts of law rules, shall govern this Terms and Your use of the Service. Your use of the Application may also be subject to other local, state, national, or international laws."),r.Rb(),r.Sb(135,"h1"),r.xc(136,"Disputes Resolution"),r.Rb(),r.Sb(137,"p"),r.xc(138,"If You have any concern or dispute about the Service, You agree to first try to resolve the dispute informally by contacting the Company."),r.Rb(),r.Sb(139,"h1"),r.xc(140,"For European Union (EU) Users"),r.Rb(),r.Sb(141,"p"),r.xc(142,"If You are a European Union consumer, you will benefit from any mandatory provisions of the law of the country in which you are resident in."),r.Rb(),r.Sb(143,"h1"),r.xc(144,"United States Legal Compliance"),r.Rb(),r.Sb(145,"p"),r.xc(146,'You represent and warrant that (i) You are not located in a country that is subject to the United States government embargo, or that has been designated by the United States government as a "terrorist supporting" country, and (ii) You are not listed on any United States government list of prohibited or restricted parties.'),r.Rb(),r.Sb(147,"h1"),r.xc(148,"Severability and Waiver"),r.Rb(),r.Sb(149,"h2"),r.xc(150,"Severability"),r.Rb(),r.Sb(151,"p"),r.xc(152,"If any provision of these Terms is held to be unenforceable or invalid, such provision will be changed and interpreted to accomplish the objectives of such provision to the greatest extent possible under applicable law and the remaining provisions will continue in full force and effect."),r.Rb(),r.Sb(153,"h2"),r.xc(154,"Waiver"),r.Rb(),r.Sb(155,"p"),r.xc(156,"Except as provided herein, the failure to exercise a right or to require performance of an obligation under this Terms shall not effect a party's ability to exercise such right or require such performance at any time thereafter nor shall be the waiver of a breach constitute a waiver of any subsequent breach."),r.Rb(),r.Sb(157,"h1"),r.xc(158,"Translation Interpretation"),r.Rb(),r.Sb(159,"p"),r.xc(160,"These Terms and Conditions may have been translated if We have made them available to You on our Service. You agree that the original English text shall prevail in the case of a dispute."),r.Rb(),r.Sb(161,"h1"),r.xc(162,"Changes to These Terms and Conditions"),r.Rb(),r.Sb(163,"p"),r.xc(164,"We reserve the right, at Our sole discretion, to modify or replace these Terms at any time. If a revision is material We will make reasonable efforts to provide at least 30 days' notice prior to any new terms taking effect. What constitutes a material change will be determined at Our sole discretion."),r.Rb(),r.Sb(165,"p"),r.xc(166,"By continuing to access or use Our Service after those revisions become effective, You agree to be bound by the revised terms. If You do not agree to the new terms, in whole or in part, please stop using the website and the Service."),r.Rb(),r.Sb(167,"h1"),r.xc(168,"Contact Us"),r.Rb(),r.Sb(169,"p"),r.xc(170,"If you have any questions about these Terms and Conditions, You can contact us:"),r.Rb(),r.Sb(171,"ul"),r.Sb(172,"li"),r.xc(173,"By email: axiepad@outlook.com"),r.Rb(),r.Rb(),r.Rb())},directives:[bT],styles:[""]}),t})()},{path:"privacy",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-privacy"]],decls:831,vars:0,consts:[[2,"margin","10px"],["href","axiepad.com","rel","external nofollow noopener","target","_blank"],["href","https://helpx.adobe.com/flash-player/kb/disable-local-shared-objects-flash.html#main_Where_can_I_change_the_settings_for_disabling__or_deleting_local_shared_objects_","rel","external nofollow noopener","target","_blank"],["href","https://www.termsfeed.com/blog/cookies/","target","_blank"],["href","https://policies.google.com/privacy","rel","external nofollow noopener","target","_blank"],["href","https://support.google.com/analytics/answer/6004245","rel","external nofollow noopener","target","_blank"],["href","https://policies.google.com/technologies/partner-sites","rel","external nofollow noopener","target","_blank"],["href","http://www.networkadvertising.org/choices/","rel","external nofollow noopener","target","_blank"],["href","http://www.youronlinechoices.com/","rel","external nofollow noopener","target","_blank"],["href","http://optout.aboutads.info/?c=2&lang=EN","rel","external nofollow noopener","target","_blank"]],template:function(t,e){if(1&t){r.Sb(0,"mat-card",0),r.Sb(1,"h1"),r.xc(2,"Privacy Policy"),r.Rb(),r.Sb(3,"p"),r.xc(4,"Last updated: June 26, 2021"),r.Rb(),r.Sb(5,"p"),r.xc(6,"This Privacy Policy describes Our policies and procedures on the collection, use and disclosure of Your information when You use the Service and tells You about Your privacy rights and how the law protects You."),r.Rb(),r.Sb(7,"p"),r.xc(8,"We use Your Personal data to provide and improve the Service. By using the Service, You agree to the collection and use of information in accordance with this Privacy Policy."),r.Rb(),r.Sb(9,"h1"),r.xc(10,"Interpretation and Definitions"),r.Rb(),r.Sb(11,"h2"),r.xc(12,"Interpretation"),r.Rb(),r.Sb(13,"p"),r.xc(14,"The words of which the initial letter is capitalized have meanings defined under the following conditions. The following definitions shall have the same meaning regardless of whether they appear in singular or in plural."),r.Rb(),r.Sb(15,"h2"),r.xc(16,"Definitions"),r.Rb(),r.Sb(17,"p"),r.xc(18,"For the purposes of this Privacy Policy:"),r.Rb(),r.Sb(19,"ul"),r.Sb(20,"li"),r.Sb(21,"p"),r.Sb(22,"strong"),r.xc(23,"Account"),r.Rb(),r.xc(24," means a unique account created for You to access our Service or parts of our Service. "),r.Rb(),r.Rb(),r.Sb(25,"li"),r.Sb(26,"p"),r.Sb(27,"strong"),r.xc(28,"Business"),r.Rb(),r.xc(29,", for the purpose of the CCPA (California Consumer Privacy Act), refers to the Company as the legal entity that collects Consumers' personal information and determines the purposes and means of the processing of Consumers' personal information, or on behalf of which such information is collected and that alone, or jointly with others, determines the purposes and means of the processing of consumers' personal information, that does business in the State of California."),r.Rb(),r.Rb(),r.Sb(30,"li"),r.Sb(31,"p"),r.Sb(32,"strong"),r.xc(33,"Company"),r.Rb(),r.xc(34,' (referred to as either "the Company", "We", "Us" or "Our" in this Agreement) refers to Axie Pad.'),r.Rb(),r.Sb(35,"p"),r.xc(36,"For the purpose of the GDPR, the Company is the Data Controller."),r.Rb(),r.Rb(),r.Sb(37,"li"),r.Sb(38,"p"),r.Sb(39,"strong"),r.xc(40,"Consumer"),r.Rb(),r.xc(41,", for the purpose of the CCPA (California Consumer Privacy Act), means a natural person who is a California resident. A resident, as defined in the law, includes (1) every individual who is in the USA for other than a temporary or transitory purpose, and (2) every individual who is domiciled in the USA who is outside the USA for a temporary or transitory purpose."),r.Rb(),r.Rb(),r.Sb(42,"li"),r.Sb(43,"p"),r.Sb(44,"strong"),r.xc(45,"Cookies"),r.Rb(),r.xc(46," are small files that are placed on Your computer, mobile device or any other device by a website, containing the details of Your browsing history on that website among its many uses."),r.Rb(),r.Rb(),r.Sb(47,"li"),r.Sb(48,"p"),r.Sb(49,"strong"),r.xc(50,"Country"),r.Rb(),r.xc(51," refers to: New Zealand"),r.Rb(),r.Rb(),r.Sb(52,"li"),r.Sb(53,"p"),r.Sb(54,"strong"),r.xc(55,"Data Controller"),r.Rb(),r.xc(56,", for the purposes of the GDPR (General Data Protection Regulation), refers to the Company as the legal person which alone or jointly with others determines the purposes and means of the processing of Personal Data."),r.Rb(),r.Rb(),r.Sb(57,"li"),r.Sb(58,"p"),r.Sb(59,"strong"),r.xc(60,"Device"),r.Rb(),r.xc(61," means any device that can access the Service such as a computer, a cellphone or a digital tablet."),r.Rb(),r.Rb(),r.Sb(62,"li"),r.Sb(63,"p"),r.Sb(64,"strong"),r.xc(65,"Do Not Track"),r.Rb(),r.xc(66," (DNT) is a concept that has been promoted by US regulatory authorities, in particular the U.S. Federal Trade Commission (FTC), for the Internet industry to develop and implement a mechanism for allowing internet users to control the tracking of their online activities across websites."),r.Rb(),r.Rb(),r.Sb(67,"li"),r.Sb(68,"p"),r.Sb(69,"strong"),r.xc(70,"Personal Data"),r.Rb(),r.xc(71," is any information that relates to an identified or identifiable individual."),r.Rb(),r.Sb(72,"p"),r.xc(73,"For the purposes for GDPR, Personal Data means any information relating to You such as a name, an identification number, location data, online identifier or to one or more factors specific to the physical, physiological, genetic, mental, economic, cultural or social identity."),r.Rb(),r.Sb(74,"p"),r.xc(75,"For the purposes of the CCPA, Personal Data means any information that identifies, relates to, describes or is capable of being associated with, or could reasonably be linked, directly or indirectly, with You."),r.Rb(),r.Rb(),r.Sb(76,"li"),r.Sb(77,"p"),r.Sb(78,"strong"),r.xc(79,"Sale"),r.Rb(),r.xc(80,", for the purpose of the CCPA (California Consumer Privacy Act), means selling, renting, releasing, disclosing, disseminating, making available, transferring, or otherwise communicating orally, in writing, or by electronic or other means, a Consumer's personal information to another business or a third party for monetary or other valuable consideration."),r.Rb(),r.Rb(),r.Sb(81,"li"),r.Sb(82,"p"),r.Sb(83,"strong"),r.xc(84,"Service"),r.Rb(),r.xc(85," refers to the Website."),r.Rb(),r.Rb(),r.Sb(86,"li"),r.Sb(87,"p"),r.Sb(88,"strong"),r.xc(89,"Service Provider"),r.Rb(),r.xc(90," means any natural or legal person who processes the data on behalf of the Company. It refers to third-party companies or individuals employed by the Company to facilitate the Service, to provide the Service on behalf of the Company, to perform services related to the Service or to assist the Company in analyzing how the Service is used. For the purpose of the GDPR, Service Providers are considered Data Processors."),r.Rb(),r.Rb(),r.Sb(91,"li"),r.Sb(92,"p"),r.Sb(93,"strong"),r.xc(94,"Usage Data"),r.Rb(),r.xc(95," refers to data collected automatically, either generated by the use of the Service or from the Service infrastructure itself (for example, the duration of a page visit)."),r.Rb(),r.Rb(),r.Sb(96,"li"),r.Sb(97,"p"),r.Sb(98,"strong"),r.xc(99,"Website"),r.Rb(),r.xc(100," refers to Axie Pad, accessible from "),r.Sb(101,"a",1),r.xc(102,"axiepad.com"),r.Rb(),r.Rb(),r.Rb(),r.Sb(103,"li"),r.Sb(104,"p"),r.Sb(105,"strong"),r.xc(106,"You"),r.Rb(),r.xc(107," means the individual accessing or using the Service, or the company, or other legal entity on behalf of which such individual is accessing or using the Service, as applicable."),r.Rb(),r.Sb(108,"p"),r.xc(109,"Under GDPR (General Data Protection Regulation), You can be referred to as the Data Subject or as the User as you are the individual using the Service."),r.Rb(),r.Rb(),r.Rb(),r.Sb(110,"h1"),r.xc(111,"Collecting and Using Your Personal Data"),r.Rb(),r.Sb(112,"h2"),r.xc(113,"Types of Data Collected"),r.Rb(),r.Sb(114,"h3"),r.xc(115,"Personal Data"),r.Rb(),r.Sb(116,"p"),r.xc(117,"While using Our Service, We may ask You to provide Us with certain personally identifiable information that can be used to contact or identify You. Personally identifiable information may include, but is not limited to:"),r.Rb(),r.Sb(118,"ul"),r.Sb(119,"li"),r.Sb(120,"p"),r.xc(121,"Email address"),r.Rb(),r.Rb(),r.Sb(122,"li"),r.Sb(123,"p"),r.xc(124,"Usage Data"),r.Rb(),r.Rb(),r.Rb(),r.Sb(125,"h3"),r.xc(126,"Usage Data"),r.Rb(),r.Sb(127,"p"),r.xc(128,"Usage Data is collected automatically when using the Service."),r.Rb(),r.Sb(129,"p"),r.xc(130,"Usage Data may include information such as Your Device's Internet Protocol address (e.g. IP address), browser type, browser version, the pages of our Service that You visit, the time and date of Your visit, the time spent on those pages, unique device identifiers and other diagnostic data."),r.Rb(),r.Sb(131,"p"),r.xc(132,"When You access the Service by or through a mobile device, We may collect certain information automatically, including, but not limited to, the type of mobile device You use, Your mobile device unique ID, the IP address of Your mobile device, Your mobile operating system, the type of mobile Internet browser You use, unique device identifiers and other diagnostic data."),r.Rb(),r.Sb(133,"p"),r.xc(134,"We may also collect information that Your browser sends whenever You visit our Service or when You access the Service by or through a mobile device."),r.Rb(),r.Sb(135,"h3"),r.xc(136,"Tracking Technologies and Cookies"),r.Rb(),r.Sb(137,"p"),r.xc(138,"We use Cookies and similar tracking technologies to track the activity on Our Service and store certain information. Tracking technologies used are beacons, tags, and scripts to collect and track information and to improve and analyze Our Service. The technologies We use may include:"),r.Rb(),r.Sb(139,"ul"),r.Sb(140,"li"),r.Sb(141,"strong"),r.xc(142,"Cookies or Browser Cookies."),r.Rb(),r.xc(143," A cookie is a small file placed on Your Device. You can instruct Your browser to refuse all Cookies or to indicate when a Cookie is being sent. However, if You do not accept Cookies, You may not be able to use some parts of our Service. Unless you have adjusted Your browser setting so that it will refuse Cookies, our Service may use Cookies. "),r.Rb(),r.Sb(144,"li"),r.Sb(145,"strong"),r.xc(146,"Flash Cookies."),r.Rb(),r.xc(147,' Certain features of our Service may use local stored objects (or Flash Cookies) to collect and store information about Your preferences or Your activity on our Service. Flash Cookies are not managed by the same browser settings as those used for Browser Cookies. For more information on how You can delete Flash Cookies, please read "Where can I change the settings for disabling, or deleting local shared objects?" available at '),r.Sb(148,"a",2),r.xc(149,"https://helpx.adobe.com/flash-player/kb/disable-local-shared-objects-flash.html#main_Where_can_I_change_the_settings_for_disabling__or_deleting_local_shared_objects_"),r.Rb(),r.Rb(),r.Sb(150,"li"),r.Sb(151,"strong"),r.xc(152,"Web Beacons."),r.Rb(),r.xc(153," Certain sections of our Service and our emails may contain small electronic files known as web beacons (also referred to as clear gifs, pixel tags, and single-pixel gifs) that permit the Company, for example, to count users who have visited those pages or opened an email and for other related website statistics (for example, recording the popularity of a certain section and verifying system and server integrity). "),r.Rb(),r.Rb(),r.Sb(154,"p"),r.xc(155,'Cookies can be "Persistent" or "Session" Cookies. Persistent Cookies remain on Your personal computer or mobile device when You go offline, while Session Cookies are deleted as soon as You close Your web browser. You can learn more about cookies here: '),r.Sb(156,"a",3),r.xc(157,"All About Cookies by TermsFeed"),r.Rb(),r.xc(158,"."),r.Rb(),r.Sb(159,"p"),r.xc(160,"We use both Session and Persistent Cookies for the purposes set out below:"),r.Rb(),r.Sb(161,"ul"),r.Sb(162,"li"),r.Sb(163,"p"),r.Sb(164,"strong"),r.xc(165,"Necessary / Essential Cookies"),r.Rb(),r.Rb(),r.Sb(166,"p"),r.xc(167,"Type: Session Cookies"),r.Rb(),r.Sb(168,"p"),r.xc(169,"Administered by: Us"),r.Rb(),r.Sb(170,"p"),r.xc(171,"Purpose: These Cookies are essential to provide You with services available through the Website and to enable You to use some of its features. They help to authenticate users and prevent fraudulent use of user accounts. Without these Cookies, the services that You have asked for cannot be provided, and We only use these Cookies to provide You with those services."),r.Rb(),r.Rb(),r.Sb(172,"li"),r.Sb(173,"p"),r.Sb(174,"strong"),r.xc(175,"Cookies Policy / Notice Acceptance Cookies"),r.Rb(),r.Rb(),r.Sb(176,"p"),r.xc(177,"Type: Persistent Cookies"),r.Rb(),r.Sb(178,"p"),r.xc(179,"Administered by: Us"),r.Rb(),r.Sb(180,"p"),r.xc(181,"Purpose: These Cookies identify if users have accepted the use of cookies on the Website."),r.Rb(),r.Rb(),r.Sb(182,"li"),r.Sb(183,"p"),r.Sb(184,"strong"),r.xc(185,"Functionality Cookies"),r.Rb(),r.Rb(),r.Sb(186,"p"),r.xc(187,"Type: Persistent Cookies"),r.Rb(),r.Sb(188,"p"),r.xc(189,"Administered by: Us"),r.Rb(),r.Sb(190,"p"),r.xc(191,"Purpose: These Cookies allow us to remember choices You make when You use the Website, such as remembering your login details or language preference. The purpose of these Cookies is to provide You with a more personal experience and to avoid You having to re-enter your preferences every time You use the Website."),r.Rb(),r.Rb(),r.Sb(192,"li"),r.Sb(193,"p"),r.Sb(194,"strong"),r.xc(195,"Tracking and Performance Cookies"),r.Rb(),r.Rb(),r.Sb(196,"p"),r.xc(197,"Type: Persistent Cookies"),r.Rb(),r.Sb(198,"p"),r.xc(199,"Administered by: Third-Parties"),r.Rb(),r.Sb(200,"p"),r.xc(201,"Purpose: These Cookies are used to track information about traffic to the Website and how users use the Website. The information gathered via these Cookies may directly or indirectly identify you as an individual visitor. This is because the information collected is typically linked to a pseudonymous identifier associated with the device you use to access the Website. We may also use these Cookies to test new pages, features or new functionality of the Website to see how our users react to them."),r.Rb(),r.Rb(),r.Rb(),r.Sb(202,"p"),r.xc(203,"For more information about the cookies we use and your choices regarding cookies, please visit our Cookies Policy or the Cookies section of our Privacy Policy."),r.Rb(),r.Sb(204,"h2"),r.xc(205,"Use of Your Personal Data"),r.Rb(),r.Sb(206,"p"),r.xc(207,"The Company may use Personal Data for the following purposes:"),r.Rb(),r.Sb(208,"ul"),r.Sb(209,"li"),r.Sb(210,"p"),r.Sb(211,"strong"),r.xc(212,"To provide and maintain our Service"),r.Rb(),r.xc(213,", including to monitor the usage of our Service."),r.Rb(),r.Rb(),r.Sb(214,"li"),r.Sb(215,"p"),r.Sb(216,"strong"),r.xc(217,"To manage Your Account:"),r.Rb(),r.xc(218," to manage Your registration as a user of the Service. The Personal Data You provide can give You access to different functionalities of the Service that are available to You as a registered user."),r.Rb(),r.Rb(),r.Sb(219,"li"),r.Sb(220,"p"),r.Sb(221,"strong"),r.xc(222,"For the performance of a contract:"),r.Rb(),r.xc(223," the development, compliance and undertaking of the purchase contract for the products, items or services You have purchased or of any other contract with Us through the Service."),r.Rb(),r.Rb(),r.Sb(224,"li"),r.Sb(225,"p"),r.Sb(226,"strong"),r.xc(227,"To contact You:"),r.Rb(),r.xc(228," To contact You by email, telephone calls, SMS, or other equivalent forms of electronic communication, such as a mobile application's push notifications regarding updates or informative communications related to the functionalities, products or contracted services, including the security updates, when necessary or reasonable for their implementation."),r.Rb(),r.Rb(),r.Sb(229,"li"),r.Sb(230,"p"),r.Sb(231,"strong"),r.xc(232,"To provide You"),r.Rb(),r.xc(233," with news, special offers and general information about other goods, services and events which we offer that are similar to those that you have already purchased or enquired about unless You have opted not to receive such information."),r.Rb(),r.Rb(),r.Sb(234,"li"),r.Sb(235,"p"),r.Sb(236,"strong"),r.xc(237,"To manage Your requests:"),r.Rb(),r.xc(238," To attend and manage Your requests to Us."),r.Rb(),r.Rb(),r.Sb(239,"li"),r.Sb(240,"p"),r.Sb(241,"strong"),r.xc(242,"For business transfers:"),r.Rb(),r.xc(243," We may use Your information to evaluate or conduct a merger, divestiture, restructuring, reorganization, dissolution, or other sale or transfer of some or all of Our assets, whether as a going concern or as part of bankruptcy, liquidation, or similar proceeding, in which Personal Data held by Us about our Service users is among the assets transferred."),r.Rb(),r.Rb(),r.Sb(244,"li"),r.Sb(245,"p"),r.Sb(246,"strong"),r.xc(247,"For other purposes"),r.Rb(),r.xc(248,": We may use Your information for other purposes, such as data analysis, identifying usage trends, determining the effectiveness of our promotional campaigns and to evaluate and improve our Service, products, services, marketing and your experience."),r.Rb(),r.Rb(),r.Rb(),r.Sb(249,"p"),r.xc(250,"We may share Your personal information in the following situations:"),r.Rb(),r.Sb(251,"ul"),r.Sb(252,"li"),r.Sb(253,"strong"),r.xc(254,"With Service Providers:"),r.Rb(),r.xc(255," We may share Your personal information with Service Providers to monitor and analyze the use of our Service, to contact You. "),r.Rb(),r.Sb(256,"li"),r.Sb(257,"strong"),r.xc(258,"For business transfers:"),r.Rb(),r.xc(259," We may share or transfer Your personal information in connection with, or during negotiations of, any merger, sale of Company assets, financing, or acquisition of all or a portion of Our business to another company. "),r.Rb(),r.Sb(260,"li"),r.Sb(261,"strong"),r.xc(262,"With Affiliates:"),r.Rb(),r.xc(263," We may share Your information with Our affiliates, in which case we will require those affiliates to honor this Privacy Policy. Affiliates include Our parent company and any other subsidiaries, joint venture partners or other companies that We control or that are under common control with Us. "),r.Rb(),r.Sb(264,"li"),r.Sb(265,"strong"),r.xc(266,"With business partners:"),r.Rb(),r.xc(267," We may share Your information with Our business partners to offer You certain products, services or promotions. "),r.Rb(),r.Sb(268,"li"),r.Sb(269,"strong"),r.xc(270,"With other users:"),r.Rb(),r.xc(271," when You share personal information or otherwise interact in the public areas with other users, such information may be viewed by all users and may be publicly distributed outside. "),r.Rb(),r.Sb(272,"li"),r.Sb(273,"strong"),r.xc(274,"With Your consent"),r.Rb(),r.xc(275,": We may disclose Your personal information for any other purpose with Your consent. "),r.Rb(),r.Rb(),r.Sb(276,"h2"),r.xc(277,"Retention of Your Personal Data"),r.Rb(),r.Sb(278,"p"),r.xc(279,"The Company will retain Your Personal Data only for as long as is necessary for the purposes set out in this Privacy Policy. We will retain and use Your Personal Data to the extent necessary to comply with our legal obligations (for example, if we are required to retain your data to comply with applicable laws), resolve disputes, and enforce our legal agreements and policies."),r.Rb(),r.Sb(280,"p"),r.xc(281,"The Company will also retain Usage Data for internal analysis purposes. Usage Data is generally retained for a shorter period of time, except when this data is used to strengthen the security or to improve the functionality of Our Service, or We are legally obligated to retain this data for longer time periods."),r.Rb(),r.Sb(282,"h2"),r.xc(283,"Transfer of Your Personal Data"),r.Rb(),r.Sb(284,"p"),r.xc(285,"Your information, including Personal Data, is processed at the Company's operating offices and in any other places where the parties involved in the processing are located. It means that this information may be transferred to \u2014 and maintained on \u2014 computers located outside of Your state, province, country or other governmental jurisdiction where the data protection laws may differ than those from Your jurisdiction."),r.Rb(),r.Sb(286,"p"),r.xc(287,"Your consent to this Privacy Policy followed by Your submission of such information represents Your agreement to that transfer."),r.Rb(),r.Sb(288,"p"),r.xc(289,"The Company will take all steps reasonably necessary to ensure that Your data is treated securely and in accordance with this Privacy Policy and no transfer of Your Personal Data will take place to an organization or a country unless there are adequate controls in place including the security of Your data and other personal information."),r.Rb(),r.Sb(290,"h2"),r.xc(291,"Disclosure of Your Personal Data"),r.Rb(),r.Sb(292,"h3"),r.xc(293,"Business Transactions"),r.Rb(),r.Sb(294,"p"),r.xc(295,"If the Company is involved in a merger, acquisition or asset sale, Your Personal Data may be transferred. We will provide notice before Your Personal Data is transferred and becomes subject to a different Privacy Policy."),r.Rb(),r.Sb(296,"h3"),r.xc(297,"Law enforcement"),r.Rb(),r.Sb(298,"p"),r.xc(299,"Under certain circumstances, the Company may be required to disclose Your Personal Data if required to do so by law or in response to valid requests by public authorities (e.g. a court or a government agency)."),r.Rb(),r.Sb(300,"h3"),r.xc(301,"Other legal requirements"),r.Rb(),r.Sb(302,"p"),r.xc(303,"The Company may disclose Your Personal Data in the good faith belief that such action is necessary to:"),r.Rb(),r.Sb(304,"ul"),r.Sb(305,"li"),r.xc(306,"Comply with a legal obligation"),r.Rb(),r.Sb(307,"li"),r.xc(308,"Protect and defend the rights or property of the Company"),r.Rb(),r.Sb(309,"li"),r.xc(310,"Prevent or investigate possible wrongdoing in connection with the Service"),r.Rb(),r.Sb(311,"li"),r.xc(312,"Protect the personal safety of Users of the Service or the public"),r.Rb(),r.Sb(313,"li"),r.xc(314,"Protect against legal liability"),r.Rb(),r.Rb(),r.Sb(315,"h2"),r.xc(316,"Security of Your Personal Data"),r.Rb(),r.Sb(317,"p"),r.xc(318,"The security of Your Personal Data is important to Us, but remember that no method of transmission over the Internet, or method of electronic storage is 100% secure. While We strive to use commercially acceptable means to protect Your Personal Data, We cannot guarantee its absolute security."),r.Rb(),r.Sb(319,"h1"),r.xc(320,"Detailed Information on the Processing of Your Personal Data"),r.Rb(),r.Sb(321,"p"),r.xc(322,"The Service Providers We use may have access to Your Personal Data. These third-party vendors collect, store, use, process and transfer information about Your activity on Our Service in accordance with their Privacy Policies."),r.Rb(),r.Sb(323,"h2"),r.xc(324,"Analytics"),r.Rb(),r.Sb(325,"p"),r.xc(326,"We may use third-party Service providers to monitor and analyze the use of our Service."),r.Rb(),r.Sb(327,"ul"),r.Sb(328,"li"),r.Sb(329,"p"),r.Sb(330,"strong"),r.xc(331,"Google Analytics"),r.Rb(),r.Rb(),r.Sb(332,"p"),r.xc(333,"Google Analytics is a web analytics service offered by Google that tracks and reports website traffic. Google uses the data collected to track and monitor the use of our Service. This data is shared with other Google services. Google may use the collected data to contextualize and personalize the ads of its own advertising network."),r.Rb(),r.Sb(334,"p"),r.xc(335,"You can opt-out of having made your activity on the Service available to Google Analytics by installing the Google Analytics opt-out browser add-on. The add-on prevents the Google Analytics JavaScript (ga.js, analytics.js and dc.js) from sharing information with Google Analytics about visits activity."),r.Rb(),r.Sb(336,"p"),r.xc(337,"For more information on the privacy practices of Google, please visit the Google Privacy & Terms web page: "),r.Sb(338,"a",4),r.xc(339,"https://policies.google.com/privacy"),r.Rb(),r.Rb(),r.Rb(),r.Sb(340,"li"),r.Sb(341,"p"),r.Sb(342,"strong"),r.xc(343,"Firebase"),r.Rb(),r.Rb(),r.Sb(344,"p"),r.xc(345,"Firebase is an analytics service provided by Google Inc."),r.Rb(),r.Sb(346,"p"),r.xc(347,"You may opt-out of certain Firebase features through your mobile device settings, such as your device advertising settings or by following the instructions provided by Google in their Privacy Policy: "),r.Sb(348,"a",4),r.xc(349,"https://policies.google.com/privacy"),r.Rb(),r.Rb(),r.Sb(350,"p"),r.xc(351,"We also encourage you to review the Google's policy for safeguarding your data: "),r.Sb(352,"a",5),r.xc(353,"https://support.google.com/analytics/answer/6004245"),r.Rb(),r.Rb(),r.Sb(354,"p"),r.xc(355,"For more information on what type of information Firebase collects, please visit the How Google uses data when you use our partners' sites or apps webpage: "),r.Sb(356,"a",6),r.xc(357,"https://policies.google.com/technologies/partner-sites"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(358,"h1"),r.xc(359,"GDPR Privacy"),r.Rb(),r.Sb(360,"h2"),r.xc(361,"Legal Basis for Processing Personal Data under GDPR"),r.Rb(),r.Sb(362,"p"),r.xc(363,"We may process Personal Data under the following conditions:"),r.Rb(),r.Sb(364,"ul"),r.Sb(365,"li"),r.Sb(366,"strong"),r.xc(367,"Consent:"),r.Rb(),r.xc(368," You have given Your consent for processing Personal Data for one or more specific purposes. "),r.Rb(),r.Sb(369,"li"),r.Sb(370,"strong"),r.xc(371,"Performance of a contract:"),r.Rb(),r.xc(372," Provision of Personal Data is necessary for the performance of an agreement with You and/or for any pre-contractual obligations thereof. "),r.Rb(),r.Sb(373,"li"),r.Sb(374,"strong"),r.xc(375,"Legal obligations:"),r.Rb(),r.xc(376," Processing Personal Data is necessary for compliance with a legal obligation to which the Company is subject. "),r.Rb(),r.Sb(377,"li"),r.Sb(378,"strong"),r.xc(379,"Vital interests:"),r.Rb(),r.xc(380," Processing Personal Data is necessary in order to protect Your vital interests or of another natural person. "),r.Rb(),r.Sb(381,"li"),r.Sb(382,"strong"),r.xc(383,"Public interests:"),r.Rb(),r.xc(384," Processing Personal Data is related to a task that is carried out in the public interest or in the exercise of official authority vested in the Company. "),r.Rb(),r.Sb(385,"li"),r.Sb(386,"strong"),r.xc(387,"Legitimate interests:"),r.Rb(),r.xc(388," Processing Personal Data is necessary for the purposes of the legitimate interests pursued by the Company. "),r.Rb(),r.Rb(),r.Sb(389,"p"),r.xc(390,"In any case, the Company will gladly help to clarify the specific legal basis that applies to the processing, and in particular whether the provision of Personal Data is a statutory or contractual requirement, or a requirement necessary to enter into a contract."),r.Rb(),r.Sb(391,"h2"),r.xc(392,"Your Rights under the GDPR"),r.Rb(),r.Sb(393,"p"),r.xc(394,"The Company undertakes to respect the confidentiality of Your Personal Data and to guarantee You can exercise Your rights."),r.Rb(),r.Sb(395,"p"),r.xc(396,"You have the right under this Privacy Policy, and by law if You are within the EU, to:"),r.Rb(),r.Sb(397,"ul"),r.Sb(398,"li"),r.Sb(399,"strong"),r.xc(400,"Request access to Your Personal Data."),r.Rb(),r.xc(401," The right to access, update or delete the information We have on You. Whenever made possible, you can access, update or request deletion of Your Personal Data directly within Your account settings section. If you are unable to perform these actions yourself, please contact Us to assist You. This also enables You to receive a copy of the Personal Data We hold about You. "),r.Rb(),r.Sb(402,"li"),r.Sb(403,"strong"),r.xc(404,"Request correction of the Personal Data that We hold about You."),r.Rb(),r.xc(405," You have the right to have any incomplete or inaccurate information We hold about You corrected. "),r.Rb(),r.Sb(406,"li"),r.Sb(407,"strong"),r.xc(408,"Object to processing of Your Personal Data."),r.Rb(),r.xc(409," This right exists where We are relying on a legitimate interest as the legal basis for Our processing and there is something about Your particular situation, which makes You want to object to our processing of Your Personal Data on this ground. You also have the right to object where We are processing Your Personal Data for direct marketing purposes. "),r.Rb(),r.Sb(410,"li"),r.Sb(411,"strong"),r.xc(412,"Request erasure of Your Personal Data."),r.Rb(),r.xc(413," You have the right to ask Us to delete or remove Personal Data when there is no good reason for Us to continue processing it. "),r.Rb(),r.Sb(414,"li"),r.Sb(415,"strong"),r.xc(416,"Request the transfer of Your Personal Data."),r.Rb(),r.xc(417," We will provide to You, or to a third-party You have chosen, Your Personal Data in a structured, commonly used, machine-readable format. Please note that this right only applies to automated information which You initially provided consent for Us to use or where We used the information to perform a contract with You. "),r.Rb(),r.Sb(418,"li"),r.Sb(419,"strong"),r.xc(420,"Withdraw Your consent."),r.Rb(),r.xc(421," You have the right to withdraw Your consent on using your Personal Data. If You withdraw Your consent, We may not be able to provide You with access to certain specific functionalities of the Service. "),r.Rb(),r.Rb(),r.Sb(422,"h2"),r.xc(423,"Exercising of Your GDPR Data Protection Rights"),r.Rb(),r.Sb(424,"p"),r.xc(425,"You may exercise Your rights of access, rectification, cancellation and opposition by contacting Us. Please note that we may ask You to verify Your identity before responding to such requests. If You make a request, We will try our best to respond to You as soon as possible."),r.Rb(),r.Sb(426,"p"),r.xc(427,"You have the right to complain to a Data Protection Authority about Our collection and use of Your Personal Data. For more information, if You are in the European Economic Area (EEA), please contact Your local data protection authority in the EEA."),r.Rb(),r.Sb(428,"h1"),r.xc(429,"CCPA Privacy"),r.Rb(),r.Sb(430,"p"),r.xc(431,"This privacy notice section for California residents supplements the information contained in Our Privacy Policy and it applies solely to all visitors, users, and others who reside in the State of California."),r.Rb(),r.Sb(432,"h2"),r.xc(433,"Categories of Personal Information Collected"),r.Rb(),r.Sb(434,"p"),r.xc(435,"We collect information that identifies, relates to, describes, references, is capable of being associated with, or could reasonably be linked, directly or indirectly, with a particular Consumer or Device. The following is a list of categories of personal information which we may collect or may have been collected from California residents within the last twelve (12) months."),r.Rb(),r.Sb(436,"p"),r.xc(437,"Please note that the categories and examples provided in the list below are those defined in the CCPA. This does not mean that all examples of that category of personal information were in fact collected by Us, but reflects our good faith belief to the best of our knowledge that some of that information from the applicable category may be and may have been collected. For example, certain categories of personal information would only be collected if You provided such personal information directly to Us."),r.Rb(),r.Sb(438,"ul"),r.Sb(439,"li"),r.Sb(440,"p"),r.Sb(441,"strong"),r.xc(442,"Category A: Identifiers."),r.Rb(),r.Rb(),r.Sb(443,"p"),r.xc(444,"Examples: A real name, alias, postal address, unique personal identifier, online identifier, Internet Protocol address, email address, account name, driver's license number, passport number, or other similar identifiers."),r.Rb(),r.Sb(445,"p"),r.xc(446,"Collected: Yes."),r.Rb(),r.Rb(),r.Sb(447,"li"),r.Sb(448,"p"),r.Sb(449,"strong"),r.xc(450,"Category B: Personal information categories listed in the California Customer Records statute (Cal. Civ. Code \xa7 1798.80(e))."),r.Rb(),r.Rb(),r.Sb(451,"p"),r.xc(452,"Examples: A name, signature, Social Security number, physical characteristics or description, address, telephone number, passport number, driver's license or state identification card number, insurance policy number, education, employment, employment history, bank account number, credit card number, debit card number, or any other financial information, medical information, or health insurance information. Some personal information included in this category may overlap with other categories."),r.Rb(),r.Sb(453,"p"),r.xc(454,"Collected: Yes."),r.Rb(),r.Rb(),r.Sb(455,"li"),r.Sb(456,"p"),r.Sb(457,"strong"),r.xc(458,"Category C: Protected classification characteristics under California or federal law."),r.Rb(),r.Rb(),r.Sb(459,"p"),r.xc(460,"Examples: Age (40 years or older), race, color, ancestry, national origin, citizenship, religion or creed, marital status, medical condition, physical or mental disability, sex (including gender, gender identity, gender expression, pregnancy or childbirth and related medical conditions), sexual orientation, veteran or military status, genetic information (including familial genetic information)."),r.Rb(),r.Sb(461,"p"),r.xc(462,"Collected: No."),r.Rb(),r.Rb(),r.Sb(463,"li"),r.Sb(464,"p"),r.Sb(465,"strong"),r.xc(466,"Category D: Commercial information."),r.Rb(),r.Rb(),r.Sb(467,"p"),r.xc(468,"Examples: Records and history of products or services purchased or considered."),r.Rb(),r.Sb(469,"p"),r.xc(470,"Collected: No."),r.Rb(),r.Rb(),r.Sb(471,"li"),r.Sb(472,"p"),r.Sb(473,"strong"),r.xc(474,"Category E: Biometric information."),r.Rb(),r.Rb(),r.Sb(475,"p"),r.xc(476,"Examples: Genetic, physiological, behavioral, and biological characteristics, or activity patterns used to extract a template or other identifier or identifying information, such as, fingerprints, faceprints, and voiceprints, iris or retina scans, keystroke, gait, or other physical patterns, and sleep, health, or exercise data."),r.Rb(),r.Sb(477,"p"),r.xc(478,"Collected: No."),r.Rb(),r.Rb(),r.Sb(479,"li"),r.Sb(480,"p"),r.Sb(481,"strong"),r.xc(482,"Category F: Internet or other similar network activity."),r.Rb(),r.Rb(),r.Sb(483,"p"),r.xc(484,"Examples: Interaction with our Service or advertisement."),r.Rb(),r.Sb(485,"p"),r.xc(486,"Collected: Yes."),r.Rb(),r.Rb(),r.Sb(487,"li"),r.Sb(488,"p"),r.Sb(489,"strong"),r.xc(490,"Category G: Geolocation data."),r.Rb(),r.Rb(),r.Sb(491,"p"),r.xc(492,"Examples: Approximate physical location."),r.Rb(),r.Sb(493,"p"),r.xc(494,"Collected: No."),r.Rb(),r.Rb(),r.Sb(495,"li"),r.Sb(496,"p"),r.Sb(497,"strong"),r.xc(498,"Category H: Sensory data."),r.Rb(),r.Rb(),r.Sb(499,"p"),r.xc(500,"Examples: Audio, electronic, visual, thermal, olfactory, or similar information."),r.Rb(),r.Sb(501,"p"),r.xc(502,"Collected: No."),r.Rb(),r.Rb(),r.Sb(503,"li"),r.Sb(504,"p"),r.Sb(505,"strong"),r.xc(506,"Category I: Professional or employment-related information."),r.Rb(),r.Rb(),r.Sb(507,"p"),r.xc(508,"Examples: Current or past job history or performance evaluations."),r.Rb(),r.Sb(509,"p"),r.xc(510,"Collected: No."),r.Rb(),r.Rb(),r.Sb(511,"li"),r.Sb(512,"p");r.Sb(513,"strong"),r.xc(514,"Category J: Non-public education information (per the Family Educational Rights and Privacy Act (20 U.S.C. Section 1232g, 34 C.F.R. Part 99))."),r.Rb(),r.Rb(),r.Sb(515,"p"),r.xc(516,"Examples: Education records directly related to a student maintained by an educational institution or party acting on its behalf, such as grades, transcripts, class lists, student schedules, student identification codes, student financial information, or student disciplinary records."),r.Rb(),r.Sb(517,"p"),r.xc(518,"Collected: No."),r.Rb(),r.Rb(),r.Sb(519,"li"),r.Sb(520,"p"),r.Sb(521,"strong"),r.xc(522,"Category K: Inferences drawn from other personal information."),r.Rb(),r.Rb(),r.Sb(523,"p"),r.xc(524,"Examples: Profile reflecting a person's preferences, characteristics, psychological trends, predispositions, behavior, attitudes, intelligence, abilities, and aptitudes."),r.Rb(),r.Sb(525,"p"),r.xc(526,"Collected: No."),r.Rb(),r.Rb(),r.Rb(),r.Sb(527,"p"),r.xc(528,"Under CCPA, personal information does not include:"),r.Rb(),r.Sb(529,"ul"),r.Sb(530,"li"),r.xc(531,"Publicly available information from government records"),r.Rb(),r.Sb(532,"li"),r.xc(533,"Deidentified or aggregated consumer information"),r.Rb(),r.Sb(534,"li"),r.xc(535,"Information excluded from the CCPA's scope, such as: "),r.Sb(536,"ul"),r.Sb(537,"li"),r.xc(538,"Health or medical information covered by the Health Insurance Portability and Accountability Act of 1996 (HIPAA) and the California Confidentiality of Medical Information Act (CMIA) or clinical trial data "),r.Rb(),r.Sb(539,"li"),r.xc(540,"Personal Information covered by certain sector-specific privacy laws, including the Fair Credit Reporting Act (FRCA), the Gramm-Leach-Bliley Act (GLBA) or California Financial Information Privacy Act (FIPA), and the Driver's Privacy Protection Act of 1994 "),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(541,"h2"),r.xc(542,"Sources of Personal Information"),r.Rb(),r.Sb(543,"p"),r.xc(544,"We obtain the categories of personal information listed above from the following categories of sources:"),r.Rb(),r.Sb(545,"ul"),r.Sb(546,"li"),r.Sb(547,"strong"),r.xc(548,"Directly from You"),r.Rb(),r.xc(549,". For example, from the forms You complete on our Service, preferences You express or provide through our Service. "),r.Rb(),r.Sb(550,"li"),r.Sb(551,"strong"),r.xc(552,"Indirectly from You"),r.Rb(),r.xc(553,". For example, from observing Your activity on our Service."),r.Rb(),r.Sb(554,"li"),r.Sb(555,"strong"),r.xc(556,"Automatically from You"),r.Rb(),r.xc(557,". For example, through cookies We or our Service Providers set on Your Device as You navigate through our Service. "),r.Rb(),r.Sb(558,"li"),r.Sb(559,"strong"),r.xc(560,"From Service Providers"),r.Rb(),r.xc(561,". For example, third-party vendors to monitor and analyze the use of our Service, or other third-party vendors that We use to provide the Service to You. "),r.Rb(),r.Rb(),r.Sb(562,"h2"),r.xc(563,"Use of Personal Information for Business Purposes or Commercial Purposes"),r.Rb(),r.Sb(564,"p"),r.xc(565,'We may use or disclose personal information We collect for "business purposes" or "commercial purposes" (as defined under the CCPA), which may include the following examples:'),r.Rb(),r.Sb(566,"ul"),r.Sb(567,"li"),r.xc(568,"To operate our Service and provide You with our Service."),r.Rb(),r.Sb(569,"li"),r.xc(570,"To provide You with support and to respond to Your inquiries, including to investigate and address Your concerns and monitor and improve our Service. "),r.Rb(),r.Sb(571,"li"),r.xc(572,"To fulfill or meet the reason You provided the information. For example, if You share Your contact information to ask a question about our Service, We will use that personal information to respond to Your inquiry. "),r.Rb(),r.Sb(573,"li"),r.xc(574,"To respond to law enforcement requests and as required by applicable law, court order, or governmental regulations. "),r.Rb(),r.Sb(575,"li"),r.xc(576,"As described to You when collecting Your personal information or as otherwise set forth in the CCPA."),r.Rb(),r.Sb(577,"li"),r.xc(578,"For internal administrative and auditing purposes."),r.Rb(),r.Sb(579,"li"),r.xc(580,"To detect security incidents and protect against malicious, deceptive, fraudulent or illegal activity, including, when necessary, to prosecute those responsible for such activities. "),r.Rb(),r.Rb(),r.Sb(581,"p"),r.xc(582,'Please note that the examples provided above are illustrative and not intended to be exhaustive. For more details on how we use this information, please refer to the "Use of Your Personal Data" section.'),r.Rb(),r.Sb(583,"p"),r.xc(584,"If We decide to collect additional categories of personal information or use the personal information We collected for materially different, unrelated, or incompatible purposes We will update this Privacy Policy."),r.Rb(),r.Sb(585,"h2"),r.xc(586,"Disclosure of Personal Information for Business Purposes or Commercial Purposes"),r.Rb(),r.Sb(587,"p"),r.xc(588,"We may use or disclose and may have used or disclosed in the last twelve (12) months the following categories of personal information for business or commercial purposes:"),r.Rb(),r.Sb(589,"ul"),r.Sb(590,"li"),r.Sb(591,"p"),r.xc(592,"Category A: Identifiers"),r.Rb(),r.Rb(),r.Sb(593,"li"),r.Sb(594,"p"),r.xc(595,"Category B: Personal information categories listed in the California Customer Records statute (Cal. Civ. Code \xa7 1798.80(e))"),r.Rb(),r.Rb(),r.Sb(596,"li"),r.Sb(597,"p"),r.xc(598,"Category F: Internet or other similar network activity"),r.Rb(),r.Rb(),r.Rb(),r.Sb(599,"p"),r.xc(600,"Please note that the categories listed above are those defined in the CCPA. This does not mean that all examples of that category of personal information were in fact disclosed, but reflects our good faith belief to the best of our knowledge that some of that information from the applicable category may be and may have been disclosed."),r.Rb(),r.Sb(601,"p"),r.xc(602,"When We disclose personal information for a business purpose or a commercial purpose, We enter a contract that describes the purpose and requires the recipient to both keep that personal information confidential and not use it for any purpose except performing the contract."),r.Rb(),r.Sb(603,"h2"),r.xc(604,"Sale of Personal Information"),r.Rb(),r.Sb(605,"p"),r.xc(606,'As defined in the CCPA, "sell" and "sale" mean selling, renting, releasing, disclosing, disseminating, making available, transferring, or otherwise communicating orally, in writing, or by electronic or other means, a consumer\'s personal information by the business to a third party for valuable consideration. This means that We may have received some kind of benefit in return for sharing personal information, but not necessarily a monetary benefit.'),r.Rb(),r.Sb(607,"p"),r.xc(608,"Please note that the categories listed below are those defined in the CCPA. This does not mean that all examples of that category of personal information were in fact sold, but reflects our good faith belief to the best of our knowledge that some of that information from the applicable category may be and may have been shared for value in return."),r.Rb(),r.Sb(609,"p"),r.xc(610,"We may sell and may have sold in the last twelve (12) months the following categories of personal information:"),r.Rb(),r.Sb(611,"ul"),r.Sb(612,"li"),r.Sb(613,"p"),r.xc(614,"Category A: Identifiers"),r.Rb(),r.Rb(),r.Sb(615,"li"),r.Sb(616,"p"),r.xc(617,"Category B: Personal information categories listed in the California Customer Records statute (Cal. Civ. Code \xa7 1798.80(e))"),r.Rb(),r.Rb(),r.Sb(618,"li"),r.Sb(619,"p"),r.xc(620,"Category F: Internet or other similar network activity"),r.Rb(),r.Rb(),r.Rb(),r.Sb(621,"h2"),r.xc(622,"Share of Personal Information"),r.Rb(),r.Sb(623,"p"),r.xc(624,"We may share Your personal information identified in the above categories with the following categories of third parties:"),r.Rb(),r.Sb(625,"ul"),r.Sb(626,"li"),r.Sb(627,"p"),r.xc(628,"Service Providers"),r.Rb(),r.Rb(),r.Sb(629,"li"),r.Sb(630,"p"),r.xc(631,"Our affiliates"),r.Rb(),r.Rb(),r.Sb(632,"li"),r.Sb(633,"p"),r.xc(634,"Our business partners"),r.Rb(),r.Rb(),r.Sb(635,"li"),r.Sb(636,"p"),r.xc(637,"Third party vendors to whom You or Your agents authorize Us to disclose Your personal information in connection with products or services We provide to You"),r.Rb(),r.Rb(),r.Rb(),r.Sb(638,"h2"),r.xc(639,"Sale of Personal Information of Minors Under 16 Years of Age"),r.Rb(),r.Sb(640,"p"),r.xc(641,"We do not knowingly collect personal information from minors under the age of 16 through our Service, although certain third party websites that we link to may do so. These third-party websites have their own terms of use and privacy policies and we encourage parents and legal guardians to monitor their children's Internet usage and instruct their children to never provide information on other websites without their permission."),r.Rb(),r.Sb(642,"p"),r.xc(643,'We do not sell the personal information of Consumers We actually know are less than 16 years of age, unless We receive affirmative authorization (the "right to opt-in") from either the Consumer who is between 13 and 16 years of age, or the parent or guardian of a Consumer less than 13 years of age. Consumers who opt-in to the sale of personal information may opt-out of future sales at any time. To exercise the right to opt-out, You (or Your authorized representative) may submit a request to Us by contacting Us.'),r.Rb(),r.Sb(644,"p"),r.xc(645,"If You have reason to believe that a child under the age of 13 (or 16) has provided Us with personal information, please contact Us with sufficient detail to enable Us to delete that information."),r.Rb(),r.Sb(646,"h2"),r.xc(647,"Your Rights under the CCPA"),r.Rb(),r.Sb(648,"p"),r.xc(649,"The CCPA provides California residents with specific rights regarding their personal information. If You are a resident of California, You have the following rights:"),r.Rb(),r.Sb(650,"ul"),r.Sb(651,"li"),r.Sb(652,"strong"),r.xc(653,"The right to notice."),r.Rb(),r.xc(654," You have the right to be notified which categories of Personal Data are being collected and the purposes for which the Personal Data is being used. "),r.Rb(),r.Sb(655,"li"),r.Sb(656,"strong"),r.xc(657,"The right to request."),r.Rb(),r.xc(658," Under CCPA, You have the right to request that We disclose information to You about Our collection, use, sale, disclosure for business purposes and share of personal information. Once We receive and confirm Your request, We will disclose to You: "),r.Sb(659,"ul"),r.Sb(660,"li"),r.xc(661,"The categories of personal information We collected about You"),r.Rb(),r.Sb(662,"li"),r.xc(663,"The categories of sources for the personal information We collected about You"),r.Rb(),r.Sb(664,"li"),r.xc(665,"Our business or commercial purpose for collecting or selling that personal information"),r.Rb(),r.Sb(666,"li"),r.xc(667,"The categories of third parties with whom We share that personal information"),r.Rb(),r.Sb(668,"li"),r.xc(669,"The specific pieces of personal information We collected about You"),r.Rb(),r.Sb(670,"li"),r.xc(671,"If we sold Your personal information or disclosed Your personal information for a business purpose, We will disclose to You: "),r.Sb(672,"ul"),r.Sb(673,"li"),r.xc(674,"The categories of personal information categories sold"),r.Rb(),r.Sb(675,"li"),r.xc(676,"The categories of personal information categories disclosed"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(677,"li"),r.Sb(678,"strong"),r.xc(679,"The right to say no to the sale of Personal Data (opt-out)."),r.Rb(),r.xc(680," You have the right to direct Us to not sell Your personal information. To submit an opt-out request please contact Us. "),r.Rb(),r.Sb(681,"li"),r.Sb(682,"strong"),r.xc(683,"The right to delete Personal Data."),r.Rb(),r.xc(684," You have the right to request the deletion of Your Personal Data, subject to certain exceptions. Once We receive and confirm Your request, We will delete (and direct Our Service Providers to delete) Your personal information from our records, unless an exception applies. We may deny Your deletion request if retaining the information is necessary for Us or Our Service Providers to: "),r.Sb(685,"ul"),r.Sb(686,"li"),r.xc(687,"Complete the transaction for which We collected the personal information, provide a good or service that You requested, take actions reasonably anticipated within the context of our ongoing business relationship with You, or otherwise perform our contract with You. "),r.Rb(),r.Sb(688,"li"),r.xc(689,"Detect security incidents, protect against malicious, deceptive, fraudulent, or illegal activity, or prosecute those responsible for such activities. "),r.Rb(),r.Sb(690,"li"),r.xc(691,"Debug products to identify and repair errors that impair existing intended functionality."),r.Rb(),r.Sb(692,"li"),r.xc(693,"Exercise free speech, ensure the right of another consumer to exercise their free speech rights, or exercise another right provided for by law. "),r.Rb(),r.Sb(694,"li"),r.xc(695,"Comply with the California Electronic Communications Privacy Act (Cal. Penal Code \xa7 1546 et. seq.)."),r.Rb(),r.Sb(696,"li"),r.xc(697,"Engage in public or peer-reviewed scientific, historical, or statistical research in the public interest that adheres to all other applicable ethics and privacy laws, when the information's deletion may likely render impossible or seriously impair the research's achievement, if You previously provided informed consent. "),r.Rb(),r.Sb(698,"li"),r.xc(699,"Enable solely internal uses that are reasonably aligned with consumer expectations based on Your relationship with Us. "),r.Rb(),r.Sb(700,"li"),r.xc(701,"Comply with a legal obligation."),r.Rb(),r.Sb(702,"li"),r.xc(703,"Make other internal and lawful uses of that information that are compatible with the context in which You provided it. "),r.Rb(),r.Rb(),r.Rb(),r.Sb(704,"li"),r.Sb(705,"strong"),r.xc(706,"The right not to be discriminated against."),r.Rb(),r.xc(707," You have the right not to be discriminated against for exercising any of Your consumer's rights, including by: "),r.Sb(708,"ul"),r.Sb(709,"li"),r.xc(710,"Denying goods or services to You"),r.Rb(),r.Sb(711,"li"),r.xc(712,"Charging different prices or rates for goods or services, including the use of discounts or other benefits or imposing penalties "),r.Rb(),r.Sb(713,"li"),r.xc(714,"Providing a different level or quality of goods or services to You"),r.Rb(),r.Sb(715,"li"),r.xc(716,"Suggesting that You will receive a different price or rate for goods or services or a different level or quality of goods or services "),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(717,"h2"),r.xc(718,"Exercising Your CCPA Data Protection Rights"),r.Rb(),r.Sb(719,"p"),r.xc(720,"In order to exercise any of Your rights under the CCPA, and if You are a California resident, You can contact Us:"),r.Rb(),r.Sb(721,"ul"),r.Sb(722,"li"),r.xc(723,"By email: axiepad@outlook.com"),r.Rb(),r.Rb(),r.Sb(724,"p"),r.xc(725,"Only You, or a person registered with the California Secretary of State that You authorize to act on Your behalf, may make a verifiable request related to Your personal information."),r.Rb(),r.Sb(726,"p"),r.xc(727,"Your request to Us must:"),r.Rb(),r.Sb(728,"ul"),r.Sb(729,"li"),r.xc(730,"Provide sufficient information that allows Us to reasonably verify You are the person about whom We collected personal information or an authorized representative "),r.Rb(),r.Sb(731,"li"),r.xc(732,"Describe Your request with sufficient detail that allows Us to properly understand, evaluate, and respond to it "),r.Rb(),r.Rb(),r.Sb(733,"p"),r.xc(734,"We cannot respond to Your request or provide You with the required information if We cannot:"),r.Rb(),r.Sb(735,"ul"),r.Sb(736,"li"),r.xc(737,"Verify Your identity or authority to make the request"),r.Rb(),r.Sb(738,"li"),r.xc(739,"And confirm that the personal information relates to You"),r.Rb(),r.Rb(),r.Sb(740,"p"),r.xc(741,"We will disclose and deliver the required information free of charge within 45 days of receiving Your verifiable request. The time period to provide the required information may be extended once by an additional 45 days when reasonable necessary and with prior notice."),r.Rb(),r.Sb(742,"p"),r.xc(743,"Any disclosures We provide will only cover the 12-month period preceding the verifiable request's receipt."),r.Rb(),r.Sb(744,"p"),r.xc(745,"For data portability requests, We will select a format to provide Your personal information that is readily useable and should allow You to transmit the information from one entity to another entity without hindrance."),r.Rb(),r.Sb(746,"h2"),r.xc(747,"Do Not Sell My Personal Information"),r.Rb(),r.Sb(748,"p"),r.xc(749,"You have the right to opt-out of the sale of Your personal information. Once We receive and confirm a verifiable consumer request from You, we will stop selling Your personal information. To exercise Your right to opt-out, please contact Us."),r.Rb(),r.Sb(750,"p"),r.xc(751,"The Service Providers we partner with (for example, our analytics or advertising partners) may use technology on the Service that sells personal information as defined by the CCPA law. If you wish to opt out of the use of Your personal information for interest-based advertising purposes and these potential sales as defined under CCPA law, you may do so by following the instructions below."),r.Rb(),r.Sb(752,"p"),r.xc(753,"Please note that any opt out is specific to the browser You use. You may need to opt out on every browser that You use."),r.Rb(),r.Sb(754,"h3"),r.xc(755,"Website"),r.Rb(),r.Sb(756,"p"),r.xc(757,"You can opt out of receiving ads that are personalized as served by our Service Providers by following our instructions presented on the Service:"),r.Rb(),r.Sb(758,"ul"),r.Sb(759,"li"),r.xc(760,"The NAI's opt-out platform: "),r.Sb(761,"a",7),r.xc(762,"http://www.networkadvertising.org/choices/"),r.Rb(),r.Rb(),r.Sb(763,"li"),r.xc(764,"The EDAA's opt-out platform "),r.Sb(765,"a",8),r.xc(766,"http://www.youronlinechoices.com/"),r.Rb(),r.Rb(),r.Sb(767,"li"),r.xc(768,"The DAA's opt-out platform: "),r.Sb(769,"a",9),r.xc(770,"http://optout.aboutads.info/?c=2&lang=EN"),r.Rb(),r.Rb(),r.Rb(),r.Sb(771,"p"),r.xc(772,"The opt out will place a cookie on Your computer that is unique to the browser You use to opt out. If you change browsers or delete the cookies saved by your browser, You will need to opt out again."),r.Rb(),r.Sb(773,"h3"),r.xc(774,"Mobile Devices"),r.Rb(),r.Sb(775,"p"),r.xc(776,"Your mobile device may give You the ability to opt out of the use of information about the apps You use in order to serve You ads that are targeted to Your interests:"),r.Rb(),r.Sb(777,"ul"),r.Sb(778,"li"),r.xc(779,'"Opt out of Interest-Based Ads" or "Opt out of Ads Personalization" on Android devices'),r.Rb(),r.Sb(780,"li"),r.xc(781,'"Limit Ad Tracking" on iOS devices'),r.Rb(),r.Rb(),r.Sb(782,"p"),r.xc(783,"You can also stop the collection of location information from Your mobile device by changing the preferences on Your mobile device."),r.Rb(),r.Sb(784,"h1"),r.xc(785,'"Do Not Track" Policy as Required by California Online Privacy Protection Act (CalOPPA)'),r.Rb(),r.Sb(786,"p"),r.xc(787,"Our Service does not respond to Do Not Track signals."),r.Rb(),r.Sb(788,"p"),r.xc(789,"However, some third party websites do keep track of Your browsing activities. If You are visiting such websites, You can set Your preferences in Your web browser to inform websites that You do not want to be tracked. You can enable or disable DNT by visiting the preferences or settings page of Your web browser."),r.Rb(),r.Sb(790,"h1"),r.xc(791,"Children's Privacy"),r.Rb(),r.Sb(792,"p"),r.xc(793,"Our Service does not address anyone under the age of 13. We do not knowingly collect personally identifiable information from anyone under the age of 13. If You are a parent or guardian and You are aware that Your child has provided Us with Personal Data, please contact Us. If We become aware that We have collected Personal Data from anyone under the age of 13 without verification of parental consent, We take steps to remove that information from Our servers."),r.Rb(),r.Sb(794,"p"),r.xc(795,"If We need to rely on consent as a legal basis for processing Your information and Your country requires consent from a parent, We may require Your parent's consent before We collect and use that information."),r.Rb(),r.Sb(796,"h1"),r.xc(797,"Your California Privacy Rights (California's Shine the Light law)"),r.Rb(),r.Sb(798,"p"),r.xc(799,"Under California Civil Code Section 1798 (California's Shine the Light law), California residents with an established business relationship with us can request information once a year about sharing their Personal Data with third parties for the third parties' direct marketing purposes."),r.Rb(),r.Sb(800,"p"),r.xc(801,"If you'd like to request more information under the California Shine the Light law, and if You are a California resident, You can contact Us using the contact information provided below."),r.Rb(),r.Sb(802,"h1"),r.xc(803,"California Privacy Rights for Minor Users (California Business and Professions Code Section 22581)"),r.Rb(),r.Sb(804,"p"),r.xc(805,"California Business and Professions Code section 22581 allow California residents under the age of 18 who are registered users of online sites, services or applications to request and obtain removal of content or information they have publicly posted."),r.Rb(),r.Sb(806,"p"),r.xc(807,"To request removal of such data, and if You are a California resident, You can contact Us using the contact information provided below, and include the email address associated with Your account."),r.Rb(),r.Sb(808,"p"),r.xc(809,"Be aware that Your request does not guarantee complete or comprehensive removal of content or information posted online and that the law may not permit or require removal in certain circumstances."),r.Rb(),r.Sb(810,"h1"),r.xc(811,"Links to Other Websites"),r.Rb(),r.Sb(812,"p"),r.xc(813,"Our Service may contain links to other websites that are not operated by Us. If You click on a third party link, You will be directed to that third party's site. We strongly advise You to review the Privacy Policy of every site You visit."),r.Rb(),r.Sb(814,"p"),r.xc(815,"We have no control over and assume no responsibility for the content, privacy policies or practices of any third party sites or services."),r.Rb(),r.Sb(816,"h1"),r.xc(817,"Changes to this Privacy Policy"),r.Rb(),r.Sb(818,"p"),r.xc(819,"We may update Our Privacy Policy from time to time. We will notify You of any changes by posting the new Privacy Policy on this page."),r.Rb(),r.Sb(820,"p"),r.xc(821,'We will let You know via email and/or a prominent notice on Our Service, prior to the change becoming effective and update the "Last updated" date at the top of this Privacy Policy.'),r.Rb(),r.Sb(822,"p"),r.xc(823,"You are advised to review this Privacy Policy periodically for any changes. Changes to this Privacy Policy are effective when they are posted on this page."),r.Rb(),r.Sb(824,"h1"),r.xc(825,"Contact Us"),r.Rb(),r.Sb(826,"p"),r.xc(827,"If you have any questions about this Privacy Policy, You can contact us:"),r.Rb(),r.Sb(828,"ul"),r.Sb(829,"li"),r.xc(830,"By email: axiepad@outlook.com"),r.Rb(),r.Rb(),r.Rb()}},directives:[bT],styles:[""]}),t})()},{path:"dashboard",component:uV,canActivate:[lV]}];let dV=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[_i.forRoot(hV,{useHash:!0})],_i]}),t})(),fV=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e,this.currency=e}onNoClick(){this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb($I),r.Mb(JI))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-currency-dialog"]],decls:17,vars:2,consts:[["appearance","fill"],[3,"ngModel","ngModelChange"],["value","usd"],["value","eur"],["value","php"],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(t,e){1&t&&(r.Sb(0,"h2"),r.xc(1,"Current Currency"),r.Rb(),r.Sb(2,"mat-form-field",0),r.Sb(3,"mat-label"),r.xc(4,"Preferred Payment Method"),r.Rb(),r.Sb(5,"mat-select",1),r.ac("ngModelChange",(function(t){return e.currency=t})),r.Sb(6,"mat-option",2),r.xc(7,"USD"),r.Rb(),r.Sb(8,"mat-option",3),r.xc(9,"EUR"),r.Rb(),r.Sb(10,"mat-option",4),r.xc(11,"PHP"),r.Rb(),r.Rb(),r.Rb(),r.Sb(12,"div",5),r.Sb(13,"button",6),r.ac("click",(function(){return e.onNoClick()})),r.xc(14,"Cancel"),r.Rb(),r.Sb(15,"button",7),r.xc(16,"Save"),r.Rb(),r.Rb()),2&t&&(r.Bb(5),r.ic("ngModel",e.currency),r.Bb(10),r.ic("mat-dialog-close",e.currency))},directives:[mD,sD,pj,kR,AA,lT,cR,OT,oR],styles:[""]}),t})(),pV=(()=>{class t{get nativeWindow(){return"undefined"!=typeof window?window:void 0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),mV=(()=>{class t{constructor(){this.enabled=!0,this.whitelistPage=[],this.blacklistPage=[]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),gV=(()=>{class t{constructor(t,e){this.popupOpenSource=new Ft.a,this.popupCloseSource=new Ft.a,this.initializeSource=new Ft.a,this.statusChangeSource=new Ft.a,this.revokeChoiceSource=new Ft.a,this.noCookieLawSource=new Ft.a,this.popupOpen$=this.popupOpenSource.asObservable(),this.popupClose$=this.popupCloseSource.asObservable(),this.initialize$=this.initializeSource.asObservable(),this.statusChange$=this.statusChangeSource.asObservable(),this.revokeChoice$=this.revokeChoiceSource.asObservable(),this.noCookieLaw$=this.noCookieLawSource.asObservable(),this.window=t.nativeWindow,this.init(e)}checkPopupInstantiated(t){if(null==this.popupInstance)throw new Error(`Cookie popup has not yet been instantiated. Cannot invoke ${t}()`)}init(t){this.window&&(this.cookieconsent=this.window.cookieconsent,this.config=t,this.config.onPopupOpen=()=>this.popupOpenSource.next(),this.config.onPopupClose=()=>this.popupCloseSource.next(),this.config.onInitialise=t=>this.initializeSource.next({status:t}),this.config.onStatusChange=(t,e)=>{this.statusChangeSource.next({status:t,chosenBefore:e})},this.config.onRevokeChoice=()=>this.revokeChoiceSource.next(),this.config.onNoCookieLaw=(t,e)=>{this.noCookieLawSource.next({countryCode:t,country:e})},this.cookieconsent.initialise(this.config,t=>this.popupInstance=t))}getConfig(){return this.config}getStatus(){return this.cookieconsent.status}getTransition(){return this.cookieconsent.hasTransition}clearStatus(){return this.checkPopupInstantiated("clearStatus"),this.popupInstance.clearStatus()}open(){return this.checkPopupInstantiated("open"),this.popupInstance.open()}close(t){return this.checkPopupInstantiated("close"),this.popupInstance.close(t)}destroy(){this.checkPopupInstantiated("destroy"),this.popupInstance.destroy()}fadeIn(){this.checkPopupInstantiated("fadeIn"),this.popupInstance.fadeIn()}fadeOut(){this.checkPopupInstantiated("fadeOut"),this.popupInstance.fadeOut()}isOpen(){return this.checkPopupInstantiated("isOpen"),this.popupInstance.isOpen()}toggleRevokeButton(t){this.checkPopupInstantiated("toggleRevokeButton"),this.popupInstance.toggleRevokeButton(t)}hasAnswered(){return this.checkPopupInstantiated("hasAnswered"),this.popupInstance.hasAnswered()}hasConsented(){return this.checkPopupInstantiated("hasConsented"),this.popupInstance.hasConsented()}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(pV),r.Wb(mV))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),bV=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[pV,{provide:mV,useValue:e},gV]}}}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[Z]]}),t})();const vV={provide:r.b,useFactory:function(t,e){return()=>{if(tt(e)){const e=Array.from(t.querySelectorAll(`[class*=${yV}]`)),n=/\bflex-layout-.+?\b/g;e.forEach(t=>{t.classList.contains(yV+"ssr")&&t.parentNode?t.parentNode.removeChild(t):t.className.replace(n,"")})}}},deps:[a,r.C],multi:!0},yV="flex-layout-";let _V=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[vV]}),t})();class wV{constructor(t=!1,e="all",n="",r="",i=0){this.matches=t,this.mediaQuery=e,this.mqAlias=n,this.suffix=r,this.priority=i,this.property=""}clone(){return new wV(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let SV=(()=>{class t{constructor(){this.stylesheet=new Map}addStyleToElement(t,e,n){const r=this.stylesheet.get(t);r?r.set(e,n):this.stylesheet.set(t,new Map([[e,n]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(t,e){const n=this.stylesheet.get(t);let r="";if(n){const t=n.get(e);"number"!=typeof t&&"string"!=typeof t||(r=t+"")}return r}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const CV={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[]},xV=new r.r("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>CV}),OV=new r.r("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),EV=new r.r("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function kV(t,e){return t=t?t.clone():new wV,e&&(t.mqAlias=e.alias,t.mediaQuery=e.mediaQuery,t.suffix=e.suffix,t.priority=e.priority),t}const TV=["row","column","row-reverse","column-reverse"];function IV(t){if(t)switch(t.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":t="wrap-reverse";break;case"no":case"none":case"nowrap":t="nowrap";break;default:t="wrap"}return t}let RV=(()=>{class t{constructor(t,e,n,r){this.elementRef=t,this.styleBuilder=e,this.styler=n,this.marshal=r,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new Ft.a,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(t){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,this.marshal.activatedAlias)}ngOnChanges(t){Object.keys(t).forEach(e=>{if(-1!==this.inputs.indexOf(e)){const n=e.split(".").slice(1).join(".");this.setValue(t[e].currentValue,n)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(t=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),t)}addStyles(t,e){const n=this.styleBuilder,r=n.shouldCache;let i=this.styleCache.get(t);i&&r||(i=n.buildStyles(t,e),r&&this.styleCache.set(t,i)),this.mru=Object.assign({},i),this.applyStyleToElement(i),n.sideEffect(t,i,e)}clearStyles(){Object.keys(this.mru).forEach(t=>{this.mru[t]=""}),this.applyStyleToElement(this.mru),this.mru={}}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(t,e=!1){if(t){const[n,r]=this.styler.getFlowDirection(t);if(!r&&e){const e=function(t){let[e,n,r]=function(t){t=t?t.toLowerCase():"";let[e,n,r]=t.split(" ");return TV.find(t=>t===e)||(e=TV[0]),"inline"===n&&(n="inline"!==r?r:"",r="inline"),[e,IV(n),!!r]}(t);return function(t,e=null,n=!1){return{display:n?"inline-flex":"flex","box-sizing":"border-box","flex-direction":t,"flex-wrap":e||null}}(e,n,r)}(n);this.styler.applyStyleToElements(e,[t])}return n.trim()}return"row"}hasWrap(t){return this.styler.hasWrap(t)}applyStyleToElement(t,e,n=this.nativeElement){this.styler.applyStyleToElement(n,t,e)}setValue(t,e){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,e)}updateWithValue(t){this.currentValue!==t&&(this.addStyles(t),this.currentValue=t)}}return t.\u0275fac=function(t){r.Zb()},t.\u0275dir=r.Hb({type:t,features:[r.zb]}),t})();const AV=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],PV="(orientation: portrait) and (max-width: 599.98px)",DV="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",jV="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",NV="(orientation: portrait) and (min-width: 840px)",MV="(orientation: landscape) and (min-width: 1280px)",LV={HANDSET:PV+", (orientation: landscape) and (max-width: 959.98px)",TABLET:`${DV} , ${jV}`,WEB:`${NV}, ${MV} `,HANDSET_PORTRAIT:""+PV,TABLET_PORTRAIT:DV+" ",WEB_PORTRAIT:""+NV,HANDSET_LANDSCAPE:"(orientation: landscape) and (max-width: 959.98px)",TABLET_LANDSCAPE:""+jV,WEB_LANDSCAPE:""+MV},FV=[{alias:"handset",priority:2e3,mediaQuery:LV.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:LV.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:LV.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:LV.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:LV.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:LV.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:LV.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:LV.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:LV.WEB_PORTRAIT,overlapping:!0}],VV=/(\.|-|_)/g;function BV(t){let e=t.length>0?t.charAt(0):"",n=t.length>1?t.slice(1):"";return e.toUpperCase()+n}const UV=new r.r("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const t=Object(r.W)(EV),e=Object(r.W)(xV),n=[].concat.apply([],(t||[]).map(t=>Array.isArray(t)?t:[t]));return function(t,e=[]){const n={};return t.forEach(t=>{n[t.alias]=t}),e.forEach(t=>{n[t.alias]?function(t,...e){if(null==t)throw TypeError("Cannot convert undefined or null to object");for(let n of e)if(null!=n)for(let e in n)n.hasOwnProperty(e)&&(t[e]=n[e])}(n[t.alias],t):n[t.alias]=t}),(r=Object.keys(n).map(t=>n[t])).forEach(t=>{t.suffix||(t.suffix=t.alias.replace(VV,"|").split("|").map(BV).join(""),t.overlapping=!!t.overlapping)}),r;var r}((e.disableDefaultBps?[]:AV).concat(e.addOrientationBps?FV:[]),n)}});function qV(t,e){return(e&&e.priority||0)-(t&&t.priority||0)}function WV(t,e){return(t.priority||0)-(e.priority||0)}let HV=(()=>{class t{constructor(t){this.findByMap=new Map,this.items=[...t].sort(WV)}findByAlias(t){return t?this.findWithPredicate(t,e=>e.alias==t):null}findByQuery(t){return this.findWithPredicate(t,e=>e.mediaQuery==t)}get overlappings(){return this.items.filter(t=>1==t.overlapping)}get aliases(){return this.items.map(t=>t.alias)}get suffixes(){return this.items.map(t=>t.suffix?t.suffix:"")}findWithPredicate(t,e){let n=this.findByMap.get(t);return n||(n=this.items.find(e)||null,this.findByMap.set(t,n)),n||null}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(UV))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Wb)(UV))},token:t,providedIn:"root"}),t})(),zV=(()=>{class t{constructor(t,e,n){this._zone=t,this._platformId=e,this._document=n,this.source=new Bt(new wV(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const t=[];return this.registry.forEach((e,n)=>{e.matches&&t.push(n)}),t}isActive(t){const e=this.registry.get(t);return e?e.matches:this.registerQuery(t).some(t=>t.matches)}observe(t,e=!1){if(t&&t.length){const n=this._observable$.pipe(ie(n=>!e||t.indexOf(n.mediaQuery)>-1)),r=new Ut.a(e=>{const n=this.registerQuery(t);if(n.length){const t=n.pop();n.forEach(t=>{e.next(t)}),this.source.next(t)}e.complete()});return Object(IC.a)(r,n)}return this._observable$}registerQuery(t){const e=Array.isArray(t)?t:[t],n=[];return function(t,e){const n=t.filter(t=>!KV[t]);if(n.length>0){const t=n.join(", ");try{const r=e.createElement("style");r.setAttribute("type","text/css"),r.styleSheet||r.appendChild(e.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${t} {.fx-query-test{ }}\n`)),e.head.appendChild(r),n.forEach(t=>KV[t]=r)}catch(Qv){console.error(Qv)}}}(e,this._document),e.forEach(t=>{const e=e=>{this._zone.run(()=>this.source.next(new wV(e.matches,t)))};let r=this.registry.get(t);r||(r=this.buildMQL(t),r.addListener(e),this.pendingRemoveListenerFns.push(()=>r.removeListener(e)),this.registry.set(t,r)),r.matches&&n.push(new wV(!0,t))}),n}ngOnDestroy(){let t;for(;t=this.pendingRemoveListenerFns.pop();)t()}buildMQL(t){return function(t,e){return e&&window.matchMedia("all").addListener?window.matchMedia(t):{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{},onchange:null,addEventListener(){},removeEventListener(){},dispatchEvent:()=>!1}}(t,tt(this._platformId))}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(r.A),r.Wb(r.C),r.Wb(a))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Wb)(r.A),Object(r.Wb)(r.C),Object(r.Wb)(a))},token:t,providedIn:"root"}),t})();const KV={},GV={alias:"print",mediaQuery:"print",priority:1e3};let YV=(()=>{class t{constructor(t,e,n){this.breakpoints=t,this.layoutConfig=e,this._document=n,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.isPrinting=!1,this.queue=new QV,this.deactivations=[]}withPrintQuery(t){return[...t,"print"]}isPrintEvent(t){return t.mediaQuery.startsWith("print")}get printAlias(){return this.layoutConfig.printWithBreakpoints||[]}get printBreakPoints(){return this.printAlias.map(t=>this.breakpoints.findByAlias(t)).filter(t=>null!==t)}getEventBreakpoints({mediaQuery:t}){const e=this.breakpoints.findByQuery(t);return(e?[...this.printBreakPoints,e]:this.printBreakPoints).sort(qV)}updateEvent(t){let e=this.breakpoints.findByQuery(t.mediaQuery);return this.isPrintEvent(t)&&(e=this.getEventBreakpoints(t)[0],t.mediaQuery=e?e.mediaQuery:""),kV(t,e)}registerBeforeAfterPrintHooks(t){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const e=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(t,this.getEventBreakpoints(new wV(!0,"print"))),t.updateStyles())},n=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(t),t.updateStyles())};this._document.defaultView.addEventListener("beforeprint",e),this._document.defaultView.addEventListener("afterprint",n),this.beforePrintEventListeners.push(e),this.afterPrintEventListeners.push(n)}interceptEvents(t){return this.registerBeforeAfterPrintHooks(t),e=>{this.isPrintEvent(e)?e.matches&&!this.isPrinting?(this.startPrinting(t,this.getEventBreakpoints(e)),t.updateStyles()):e.matches||!this.isPrinting||this.isPrintingBeforeAfterEvent||(this.stopPrinting(t),t.updateStyles()):this.collectActivations(e)}}blockPropagation(){return t=>!(this.isPrinting||this.isPrintEvent(t))}startPrinting(t,e){this.isPrinting=!0,t.activatedBreakpoints=this.queue.addPrintBreakpoints(e)}stopPrinting(t){t.activatedBreakpoints=this.deactivations,this.deactivations=[],this.queue.clear(),this.isPrinting=!1}collectActivations(t){if(!this.isPrinting||this.isPrintingBeforeAfterEvent)if(t.matches)this.isPrintingBeforeAfterEvent||(this.deactivations=[]);else{const e=this.breakpoints.findByQuery(t.mediaQuery);e&&(this.deactivations.push(e),this.deactivations.sort(qV))}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(t=>this._document.defaultView.removeEventListener("beforeprint",t)),this.afterPrintEventListeners.forEach(t=>this._document.defaultView.removeEventListener("afterprint",t)))}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(HV),r.Wb(xV),r.Wb(a))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Wb)(HV),Object(r.Wb)(xV),Object(r.Wb)(a))},token:t,providedIn:"root"}),t})();class QV{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(t){return t.push(GV),t.sort(qV),t.forEach(t=>this.addBreakpoint(t)),this.printBreakpoints}addBreakpoint(t){t&&void 0===this.printBreakpoints.find(e=>e.mediaQuery===t.mediaQuery)&&(this.printBreakpoints=function(t){return!!t&&t.mediaQuery.startsWith("print")}(t)?[t,...this.printBreakpoints]:[...this.printBreakpoints,t])}clear(){this.printBreakpoints=[]}}function $V(t){for(let e in t){let n=t[e]||"";switch(e){case"display":t.display="flex"===n?["-webkit-flex","flex"]:"inline-flex"===n?["-webkit-inline-flex","inline-flex"]:n;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":t["-webkit-"+e]=n;break;case"flex-direction":n=n||"row",t["-webkit-flex-direction"]=n,t["flex-direction"]=n;break;case"order":t.order=t["-webkit-"+e]=isNaN(+n)?"0":n}}return t}let XV=(()=>{class t{constructor(t,e,n,r){this._serverStylesheet=t,this._serverModuleLoaded=e,this._platformId=n,this.layoutConfig=r}applyStyleToElement(t,e,n=null){let r={};"string"==typeof e&&(r[e]=n,e=r),r=this.layoutConfig.disableVendorPrefixes?e:$V(e),this._applyMultiValueStyleToElement(r,t)}applyStyleToElements(t,e=[]){const n=this.layoutConfig.disableVendorPrefixes?t:$V(t);e.forEach(t=>{this._applyMultiValueStyleToElement(n,t)})}getFlowDirection(t){let e=this.lookupStyle(t,"flex-direction");return[e||"row",this.lookupInlineStyle(t,"flex-direction")||et(this._platformId)&&this._serverModuleLoaded?e:""]}hasWrap(t){return"wrap"===this.lookupStyle(t,"flex-wrap")}lookupAttributeValue(t,e){return t.getAttribute(e)||""}lookupInlineStyle(t,e){return tt(this._platformId)?t.style.getPropertyValue(e):this._getServerStyle(t,e)}lookupStyle(t,e,n=!1){let r="";return t&&((r=this.lookupInlineStyle(t,e))||(tt(this._platformId)?n||(r=getComputedStyle(t).getPropertyValue(e)):this._serverModuleLoaded&&(r=this._serverStylesheet.getStyleForElement(t,e)))),r?r.trim():""}_applyMultiValueStyleToElement(t,e){Object.keys(t).sort().forEach(n=>{const r=t[n],i=Array.isArray(r)?r:[r];i.sort();for(let t of i)t=t?t+"":"",tt(this._platformId)||!this._serverModuleLoaded?tt(this._platformId)?e.style.setProperty(n,t):this._setServerStyle(e,n,t):this._serverStylesheet.addStyleToElement(e,n,t)})}_setServerStyle(t,e,n){e=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const r=this._readStyleAttribute(t);r[e]=n||"",this._writeStyleAttribute(t,r)}_getServerStyle(t,e){return this._readStyleAttribute(t)[e]||""}_readStyleAttribute(t){const e={},n=t.getAttribute("style");if(n){const t=n.split(/;+/g);for(let n=0;n<t.length;n++){const r=t[n].trim();if(r.length>0){const t=r.indexOf(":");if(-1===t)throw new Error("Invalid CSS style: "+r);e[r.substr(0,t).trim()]=r.substr(t+1).trim()}}}return e}_writeStyleAttribute(t,e){let n="";for(const r in e)e[r]&&(n+=r+":"+e[r]+";");t.setAttribute("style",n)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(SV),r.Wb(OV),r.Wb(r.C),r.Wb(xV))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Wb)(SV),Object(r.Wb)(OV),Object(r.Wb)(r.C),Object(r.Wb)(xV))},token:t,providedIn:"root"}),t})();class JV{constructor(){this.shouldCache=!0}sideEffect(t,e,n){}}function ZV(t,e="1",n="1"){let r=[e,n,t],i=t.indexOf("calc");if(i>0){r[2]=tB(t.substring(i).trim());let e=t.substr(0,i).trim().split(" ");2==e.length&&(r[0]=e[0],r[1]=e[1])}else if(0==i)r[2]=tB(t.trim());else{let i=t.split(" ");r=3===i.length?i:[e,n,t]}return r}function tB(t){return t.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}let eB=(()=>{class t{constructor(t,e,n){this.matchMedia=t,this.breakpoints=e,this.hook=n,this.activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new Ft.a,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?this.activatedBreakpoints[0].alias:""}onMediaChange(t){const e=this.findByQuery(t.mediaQuery);e&&((t=kV(t,e)).matches&&-1===this.activatedBreakpoints.indexOf(e)?(this.activatedBreakpoints.push(e),this.activatedBreakpoints.sort(qV),this.updateStyles()):t.matches||-1===this.activatedBreakpoints.indexOf(e)||(this.activatedBreakpoints.splice(this.activatedBreakpoints.indexOf(e),1),this.activatedBreakpoints.sort(qV),this.updateStyles()))}init(t,e,n,r,i=[]){nB(this.updateMap,t,e,n),nB(this.clearMap,t,e,r),this.buildElementKeyMap(t,e),this.watchExtraTriggers(t,e,i)}getValue(t,e,n){const r=this.elementMap.get(t);if(r){const t=void 0!==n?r.get(n):this.getActivatedValues(r,e);if(t)return t.get(e)}}hasValue(t,e){const n=this.elementMap.get(t);if(n){const t=this.getActivatedValues(n,e);if(t)return void 0!==t.get(e)||!1}return!1}setValue(t,e,n,r){let i=this.elementMap.get(t);if(i){const o=(i.get(r)||new Map).set(e,n);i.set(r,o),this.elementMap.set(t,i)}else i=(new Map).set(r,(new Map).set(e,n)),this.elementMap.set(t,i);const o=this.getValue(t,e);void 0!==o&&this.updateElement(t,e,o)}trackValue(t,e){return this.subject.asObservable().pipe(ie(n=>n.element===t&&n.key===e))}updateStyles(){this.elementMap.forEach((t,e)=>{const n=new Set(this.elementKeyMap.get(e));let r=this.getActivatedValues(t);r&&r.forEach((t,r)=>{this.updateElement(e,r,t),n.delete(r)}),n.forEach(n=>{if(r=this.getActivatedValues(t,n),r){const t=r.get(n);this.updateElement(e,n,t)}else this.clearElement(e,n)})})}clearElement(t,e){const n=this.clearMap.get(t);if(n){const r=n.get(e);r&&(r(),this.subject.next({element:t,key:e,value:""}))}}updateElement(t,e,n){const r=this.updateMap.get(t);if(r){const i=r.get(e);i&&(i(n),this.subject.next({element:t,key:e,value:n}))}}releaseElement(t){const e=this.watcherMap.get(t);e&&(e.forEach(t=>t.unsubscribe()),this.watcherMap.delete(t));const n=this.elementMap.get(t);n&&(n.forEach((t,e)=>n.delete(e)),this.elementMap.delete(t))}triggerUpdate(t,e){const n=this.elementMap.get(t);if(n){const r=this.getActivatedValues(n,e);r&&(e?this.updateElement(t,e,r.get(e)):r.forEach((e,n)=>this.updateElement(t,n,e)))}}buildElementKeyMap(t,e){let n=this.elementKeyMap.get(t);n||(n=new Set,this.elementKeyMap.set(t,n)),n.add(e)}watchExtraTriggers(t,e,n){if(n&&n.length){let r=this.watcherMap.get(t);if(r||(r=new Map,this.watcherMap.set(t,r)),!r.get(e)){const i=Object(IC.a)(...n).subscribe(()=>{const n=this.getValue(t,e);this.updateElement(t,e,n)});r.set(e,i)}}}findByQuery(t){return this.breakpoints.findByQuery(t)}getActivatedValues(t,e){for(let r=0;r<this.activatedBreakpoints.length;r++){const n=t.get(this.activatedBreakpoints[r].alias);if(n&&(void 0===e||n.has(e)&&null!=n.get(e)))return n}const n=t.get("");return void 0===e||n&&n.has(e)?n:void 0}observeActivations(){const t=this.breakpoints.items.map(t=>t.mediaQuery);this.matchMedia.observe(this.hook.withPrintQuery(t)).pipe(Object(Te.a)(this.hook.interceptEvents(this)),ie(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(zV),r.Wb(HV),r.Wb(YV))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Wb)(zV),Object(r.Wb)(HV),Object(r.Wb)(YV))},token:t,providedIn:"root"}),t})();function nB(t,e,n,r){if(void 0!==r){let i=t.get(e);i||(i=new Map,t.set(e,i)),i.set(n,r)}}const rB=["row","column","row-reverse","column-reverse"];function iB(t){t=t?t.toLowerCase():"";let[e,n,r]=t.split(" ");return rB.find(t=>t===e)||(e=rB[0]),"inline"===n&&(n="inline"!==r?r:"",r="inline"),[e,sB(n),!!r]}function oB(t){let[e]=iB(t);return e.indexOf("row")>-1}function sB(t){if(t)switch(t.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":t="wrap-reverse";break;case"no":case"none":case"nowrap":t="nowrap";break;default:t="wrap"}return t}let aB=(()=>{class t extends JV{buildStyles(t){return function(t){let[e,n,r]=iB(t);return function(t,e=null,n=!1){return{display:n?"inline-flex":"flex","box-sizing":"border-box","flex-direction":t,"flex-wrap":e||null}}(e,n,r)}(t)}}return t.\u0275fac=function(e){return cB(e||t)},t.\u0275prov=Object(r.Ib)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const cB=r.Ub(aB),uB=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let lB=(()=>{class t extends RV{constructor(t,e,n,r){super(t,n,e,r),this.DIRECTIVE_KEY="layout",this.styleCache=fB,this.init()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(XV),r.Mb(aB),r.Mb(eB))},t.\u0275dir=r.Hb({type:t,features:[r.yb]}),t})(),hB=(()=>{class t extends lB{constructor(){super(...arguments),this.inputs=uB}}return t.\u0275fac=function(e){return dB(e||t)},t.\u0275dir=r.Hb({type:t,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[r.yb]}),t})();const dB=r.Ub(hB),fB=new Map;function pB(t,...e){if(null==t)throw TypeError("Cannot convert undefined or null to object");for(let n of e)if(null!=n)for(let e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);return t}let mB=(()=>{class t extends JV{constructor(t){super(),this.layoutConfig=t}buildStyles(t,e){let[n,r,...i]=t.split(" "),o=i.join(" ");const s=e.direction.indexOf("column")>-1?"column":"row",a=oB(s)?"max-width":"max-height",c=oB(s)?"min-width":"min-height",u=String(o).indexOf("calc")>-1,l=u||"auto"===o,h=String(o).indexOf("%")>-1&&!u,d=String(o).indexOf("px")>-1||String(o).indexOf("rem")>-1||String(o).indexOf("em")>-1||String(o).indexOf("vw")>-1||String(o).indexOf("vh")>-1;let f=u||d;n="0"==n?0:n,r="0"==r?0:r;const p=!n&&!r;let m={};const g={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(o||""){case"":const t=!1!==this.layoutConfig.useColumnBasisZero;o="row"===s?"0%":t?"0.000000001px":"auto";break;case"initial":case"nogrow":n=0,o="auto";break;case"grow":o="100%";break;case"noshrink":r=0,o="auto";break;case"auto":break;case"none":n=0,r=0,o="auto";break;default:f||h||isNaN(o)||(o+="%"),"0%"===o&&(f=!0),"0px"===o&&(o="0%"),m=pB(g,u?{"flex-grow":n,"flex-shrink":r,"flex-basis":f?o:"100%"}:{flex:`${n} ${r} ${f?o:"100%"}`})}return m.flex||m["flex-grow"]||(m=pB(g,u?{"flex-grow":n,"flex-shrink":r,"flex-basis":o}:{flex:`${n} ${r} ${o}`})),"0%"!==o&&"0px"!==o&&"0.000000001px"!==o&&"auto"!==o&&(m[c]=p||f&&n?o:null,m[a]=p||!l&&r?o:null),m[c]||m[a]?e.hasWrap&&(m[u?"flex-basis":"flex"]=m[a]?u?m[a]:`${n} ${r} ${m[a]}`:u?m[c]:`${n} ${r} ${m[c]}`):m=pB(g,u?{"flex-grow":n,"flex-shrink":r,"flex-basis":o}:{flex:`${n} ${r} ${o}`}),pB(m,{"box-sizing":"border-box"})}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(xV))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Wb)(xV))},token:t,providedIn:"root"}),t})();const gB=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"];let bB=(()=>{class t extends RV{constructor(t,e,n,r,i){super(t,r,e,i),this.layoutConfig=n,this.marshal=i,this.DIRECTIVE_KEY="flex",this.direction=void 0,this.wrap=void 0,this.flexGrow="1",this.flexShrink="1",this.init()}get shrink(){return this.flexShrink}set shrink(t){this.flexShrink=t||"1",this.triggerReflow()}get grow(){return this.flexGrow}set grow(t){this.flexGrow=t||"1",this.triggerReflow()}ngOnInit(){this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe(qT(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe(qT(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}onLayoutChange(t){const e=t.value.split(" ");this.direction=e[0],this.wrap=void 0!==e[1]&&"wrap"===e[1],this.triggerUpdate()}updateWithValue(t){void 0===this.direction&&(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent)),void 0===this.wrap&&(this.wrap=this.hasWrap(this.parentElement));const e=this.direction,n=e.startsWith("row"),r=this.wrap;n&&r?this.styleCache=SB:n&&!r?this.styleCache=_B:!n&&r?this.styleCache=CB:n||r||(this.styleCache=wB);const i=ZV(String(t).replace(";",""),this.flexGrow,this.flexShrink);this.addStyles(i.join(" "),{direction:e,hasWrap:r})}triggerReflow(){const t=this.activatedValue;if(void 0!==t){const e=ZV(t+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,e.join(" "))}}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(XV),r.Mb(xV),r.Mb(mB),r.Mb(eB))},t.\u0275dir=r.Hb({type:t,inputs:{shrink:["fxShrink","shrink"],grow:["fxGrow","grow"]},features:[r.yb]}),t})(),vB=(()=>{class t extends bB{constructor(){super(...arguments),this.inputs=gB}}return t.\u0275fac=function(e){return yB(e||t)},t.\u0275dir=r.Hb({type:t,selectors:[["","fxFlex",""],["","fxFlex.xs",""],["","fxFlex.sm",""],["","fxFlex.md",""],["","fxFlex.lg",""],["","fxFlex.xl",""],["","fxFlex.lt-sm",""],["","fxFlex.lt-md",""],["","fxFlex.lt-lg",""],["","fxFlex.lt-xl",""],["","fxFlex.gt-xs",""],["","fxFlex.gt-sm",""],["","fxFlex.gt-md",""],["","fxFlex.gt-lg",""]],inputs:{fxFlex:"fxFlex","fxFlex.xs":"fxFlex.xs","fxFlex.sm":"fxFlex.sm","fxFlex.md":"fxFlex.md","fxFlex.lg":"fxFlex.lg","fxFlex.xl":"fxFlex.xl","fxFlex.lt-sm":"fxFlex.lt-sm","fxFlex.lt-md":"fxFlex.lt-md","fxFlex.lt-lg":"fxFlex.lt-lg","fxFlex.lt-xl":"fxFlex.lt-xl","fxFlex.gt-xs":"fxFlex.gt-xs","fxFlex.gt-sm":"fxFlex.gt-sm","fxFlex.gt-md":"fxFlex.gt-md","fxFlex.gt-lg":"fxFlex.gt-lg"},features:[r.yb]}),t})();const yB=r.Ub(vB),_B=new Map,wB=new Map,SB=new Map,CB=new Map,xB={margin:0,width:"100%",height:"100%","min-width":"100%","min-height":"100%"};let OB=(()=>{class t extends JV{buildStyles(t){return xB}}return t.\u0275fac=function(e){return EB(e||t)},t.\u0275prov=Object(r.Ib)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const EB=r.Ub(OB);let kB=(()=>{class t extends RV{constructor(t,e,n,r){super(t,n,e,r),this.styleCache=TB,this.addStyles("")}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(XV),r.Mb(OB),r.Mb(eB))},t.\u0275dir=r.Hb({type:t,selectors:[["","fxFill",""],["","fxFlexFill",""]],features:[r.yb]}),t})();const TB=new Map;let IB=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[_V,Ek]]}),t})();const RB=["*",[["mat-toolbar-row"]]],AB=["*","mat-toolbar-row"];class PB{constructor(t){this._elementRef=t}}const DB=Lk(PB);let jB=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Hb({type:t,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),t})(),NB=(()=>{class t extends DB{constructor(t,e,n){super(t),this._platform=e,this._document=n}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(ME),r.Mb(a))},t.\u0275cmp=r.Gb({type:t,selectors:[["mat-toolbar"]],contentQueries:function(t,e,n){var i;1&t&&r.Fb(n,jB,!0),2&t&&r.mc(i=r.bc())&&(e._toolbarRows=i)},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,e){2&t&&r.Eb("mat-toolbar-multiple-rows",e._toolbarRows.length>0)("mat-toolbar-single-row",0===e._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[r.yb],ngContentSelectors:AB,decls:2,vars:0,template:function(t,e){1&t&&(r.hc(RB),r.gc(0),r.gc(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),t})(),MB=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[Nk],Nk]}),t})(),LB=(()=>{class t{constructor(t,e){this.router=t,this.ngZone=e}ngOnInit(){}termsClick(){this.ngZone.run(()=>{this.router.navigate(["terms"])})}privacyClick(){this.ngZone.run(()=>{this.router.navigate(["privacy"])})}githubClick(){this.ngZone.run(()=>{window.location.href="https://github.com/Jsuppers/axie-pad"})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(ai),r.Mb(r.A))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-footer"]],decls:18,vars:0,consts:[[2,"background-color","white","text-align","center","height","100%","margin-top","10px"],[2,"padding","10px"],["href","https://axieinfinity.com/"],["href","https://discordapp.com/users/272510155784978433"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(r.Sb(0,"div",0),r.Sb(1,"div",1),r.Sb(2,"p"),r.xc(3,"AxiePad is just a fan site it is NOT affiliated with Axie Infinity."),r.Rb(),r.Sb(4,"p"),r.xc(5," Axies icons are by "),r.Sb(6,"a",2),r.xc(7,"https://axieinfinity.com/"),r.Rb(),r.Rb(),r.Sb(8,"p"),r.xc(9," If you have any questions please reach out on "),r.Sb(10,"a",3),r.xc(11,"Discord"),r.Rb(),r.Rb(),r.Sb(12,"button",4),r.ac("click",(function(){return e.termsClick()})),r.xc(13,"Terms and Conditions"),r.Rb(),r.Sb(14,"button",4),r.ac("click",(function(){return e.privacyClick()})),r.xc(15,"Privacy Policy"),r.Rb(),r.Sb(16,"button",4),r.ac("click",(function(){return e.githubClick()})),r.xc(17,"Github"),r.Rb(),r.Rb(),r.Rb())},directives:[OT],styles:[""]}),t})();function FB(t,e){if(1&t){const t=r.Tb();r.Sb(0,"div",6),r.Sb(1,"a",7),r.Sb(2,"mat-icon",8),r.xc(3,"favorite"),r.Rb(),r.Rb(),r.Sb(4,"a",9),r.ac("click",(function(){return r.oc(t),r.cc().openCurrencyDialog()})),r.xc(5),r.Rb(),r.Sb(6,"a",9),r.ac("click",(function(){return r.oc(t),r.cc().signOut()})),r.Sb(7,"mat-icon"),r.xc(8,"exit_to_app"),r.Rb(),r.xc(9," Sign out"),r.Rb(),r.Rb()}if(2&t){const t=r.cc();r.Bb(5),r.yc(null==t.fiatCurrency?null:t.fiatCurrency.toUpperCase())}}let VB=(()=>{class t{constructor(t,e,n,r,i){this.authService=t,this.userService=e,this.dialog=n,this.db=r,this.ccService=i,this.title="axie-pad"}ngOnInit(){this.userService.getFiatCurrency().subscribe(t=>{this.fiatCurrency=t})}signOut(){this.authService.SignOut()}signedIn(){return null!=this.authService.userState.getValue()}openCurrencyDialog(){this.dialog.open(fV,{width:"400px",data:this.fiatCurrency}).afterClosed().subscribe(t=>Object(Ri.__awaiter)(this,void 0,void 0,(function*(){const e=this.authService.userState.getValue();if(e&&t){const n=yield this.db.collection("users").doc(e.uid).get().toPromise();yield n.ref.update({currency:t})}})))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(cx),r.Mb(FP),r.Mb(rR),r.Mb(ox),r.Mb(gV))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-root"]],decls:10,vars:1,consts:[["fxLayout","column","fxFlexFill",""],[2,"background","#F0F0F0"],["mat-button","","routerLink","/dashboard",1,"companyName"],[1,"example-spacer"],["fxShow","true","fxHide.lt-md","true",4,"ngIf"],["fxFlex",""],["fxShow","true","fxHide.lt-md","true"],["mat-button","","routerLink","/donate"],[2,"padding-bottom","3px"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(r.Sb(0,"div",0),r.Sb(1,"mat-toolbar",1),r.Sb(2,"a",2),r.Sb(3,"span"),r.xc(4,"Axie Pad"),r.Rb(),r.Rb(),r.Nb(5,"span",3),r.wc(6,FB,10,1,"div",4),r.Rb(),r.Sb(7,"div",5),r.Nb(8,"router-outlet"),r.Rb(),r.Nb(9,"app-footer"),r.Rb()),2&t&&(r.Bb(6),r.ic("ngIf",e.signedIn()))},directives:[hB,kB,NB,ET,ci,V,vB,li,LB,Vj],styles:[".companyName[_ngcontent-%COMP%]{font-size:150%;color:#888}div[_ngcontent-%COMP%]{overflow:inherit}a[_ngcontent-%COMP%]{text-decoration:none;white-space:normal}a[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{font-size:110%}button[_ngcontent-%COMP%]{min-width:-webkit-min-content;min-width:min-content}.example-icon[_ngcontent-%COMP%]{padding:0 14px}body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{height:100%;box-sizing:border-box;margin:0}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.mat-sidenav-content[_ngcontent-%COMP%]{font-size:200%;text-align:center}  .mat-sort-header-container{justify-content:center!important;text-align:center}"]}),t})(),BB=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[Z,Nk,LE,XT],XT,Nk]}),t})();var UB=n("lX80"),qB=n("ALmS"),WB=n("AiWB"),HB=n("dQau"),zB=n("fvjI"),KB=n.n(zB),GB=n("zC+P"),YB=n("3S/s"),QB=function(){function t(t){var e=t.batchDebounce,n=t.batchInterval,r=t.batchMax,i=t.batchHandler,o=t.batchKey;this.queuedRequests=new Map,this.batchDebounce=e,this.batchInterval=n,this.batchMax=r||0,this.batchHandler=i,this.batchKey=o||function(){return""}}return t.prototype.enqueueRequest=function(t){var e=this,n=Object(GB.a)({},t),r=!1,i=this.batchKey(t.operation);return n.observable||(n.observable=new WB.a((function(t){e.queuedRequests.has(i)||e.queuedRequests.set(i,[]),r||(e.queuedRequests.get(i).push(n),r=!0),n.next=n.next||[],t.next&&n.next.push(t.next.bind(t)),n.error=n.error||[],t.error&&n.error.push(t.error.bind(t)),n.complete=n.complete||[],t.complete&&n.complete.push(t.complete.bind(t)),1===e.queuedRequests.get(i).length?e.scheduleQueueConsumption(i):e.batchDebounce&&(clearTimeout(e.scheduledBatchTimer),e.scheduleQueueConsumption(i)),e.queuedRequests.get(i).length===e.batchMax&&e.consumeQueue(i)}))),n.observable},t.prototype.consumeQueue=function(t){var e=t||"",n=this.queuedRequests.get(e);if(n){this.queuedRequests.delete(e);var r=n.map((function(t){return t.operation})),i=n.map((function(t){return t.forward})),o=[],s=[],a=[],c=[];n.forEach((function(t,e){o.push(t.observable),s.push(t.next),a.push(t.error),c.push(t.complete)}));var u=this.batchHandler(r,i)||WB.a.of(),l=function(t){a.forEach((function(e){e&&e.forEach((function(e){return e(t)}))}))};return u.subscribe({next:function(t){if(Array.isArray(t)||(t=[t]),s.length!==t.length){var e=new Error("server returned results with length "+t.length+", expected length of "+s.length);return e.result=t,l(e)}t.forEach((function(t,e){s[e]&&s[e].forEach((function(e){return e(t)}))}))},error:l,complete:function(){c.forEach((function(t){t&&t.forEach((function(t){return t()}))}))}}),o}},t.prototype.scheduleQueueConsumption=function(t){var e=this,n=t||"";this.scheduledBatchTimer=setTimeout((function(){e.queuedRequests.get(n)&&e.queuedRequests.get(n).length&&e.consumeQueue(n)}),this.batchInterval)},t}();!function(t){function e(e){var n=t.call(this)||this,r=e||{},i=r.batchInterval,o=r.batchMax,s=r.batchHandler,a=r.batchKey;return n.batcher=new QB({batchDebounce:r.batchDebounce,batchInterval:void 0===i?10:i,batchMax:void 0===o?0:o,batchHandler:void 0===s?function(){return null}:s,batchKey:void 0===a?function(){return""}:a}),e.batchHandler.length<=1&&(n.request=function(t){return n.batcher.enqueueRequest({operation:t})}),n}Object(GB.c)(e,t),e.prototype.request=function(t,e){return this.batcher.enqueueRequest({operation:t,forward:e})}}(YB.a);class $B extends qB.ApolloLink{constructor(t,e){super(),this.httpClient=t,this.options=e,this.print=HB.a,this.options.operationPrinter&&(this.print=this.options.operationPrinter),this.requester=t=>new WB.a(e=>{const n=t.getContext(),r=(t,e)=>function(...t){const e=t.find(t=>void 0!==t);return void 0===e?t[t.length-1]:e}(n[t],this.options[t],e),i=r("includeQuery",!0),o=r("includeExtensions",!1),s=r("method","POST"),a=r("uri","graphql"),c=r("withCredentials"),u=r("useMultipart"),l={method:s,url:"function"==typeof a?a(t):a,body:{operationName:t.operationName,variables:t.variables},options:{withCredentials:c,useMultipart:u,headers:this.options.headers}};o&&(l.body.extensions=t.extensions),i&&(l.body.query=this.print(t.query));const h=function(t){let e=t.headers&&t.headers instanceof aP?t.headers:new aP(t.headers);if(t.clientAwareness){const{name:n,version:r}=t.clientAwareness;n&&!e.has("apollographql-client-name")&&(e=e.set("apollographql-client-name",n)),r&&!e.has("apollographql-client-version")&&(e=e.set("apollographql-client-version",r))}return e}(n);var d,f;l.options.headers=(f=h,(d=l.options.headers)&&f?f.keys().reduce((t,e)=>t.set(e,f.getAll(e)),d):f||d);const p=((t,e,n)=>{const r=-1!==["POST","PUT","PATCH"].indexOf(t.method.toUpperCase()),i=t.body.length;let o,s=t.options&&t.options.useMultipart;if(s){if(i)return new Ut.a(t=>t.error(new Error("File upload is not available when combined with Batching")));if(!r)return new Ut.a(t=>t.error(new Error("File upload is not available when GET is used")));o=n(t.body),s=!!o.files.size}let a={};if(i){if(!r)return new Ut.a(t=>t.error(new Error("Batching is not available for GET requests")));a={body:t.body}}else{const e=s?o.clone:t.body;a=r?{body:e}:{params:Object.keys(t.body).reduce((e,n)=>{const r=t.body[n];return e[n]=(t=>-1!==["variables","extensions"].indexOf(t.toLowerCase()))(n)?JSON.stringify(r):r,e},{})}}if(s&&r){const t=new FormData;t.append("operations",JSON.stringify(a.body));const e={},n=o.files;let r=0;n.forEach(t=>{e[++r]=t}),t.append("map",JSON.stringify(e)),r=0,n.forEach((e,n)=>{t.append(++r+"",n,n.name)}),a.body=t}return e.request(t.method,t.url,Object.assign(Object.assign({observe:"response",responseType:"json",reportProgress:!1},a),t.options))})(l,this.httpClient,KB.a).subscribe({next:n=>{t.setContext({response:n}),e.next(n.body)},error:t=>e.error(t),complete:()=>e.complete()});return()=>{p.closed||p.unsubscribe()}})}request(t){return this.requester(t)}}let XB=(()=>{class t{constructor(t){this.httpClient=t}create(t){return new $B(this.httpClient,t)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(wP))},t.\u0275prov=r.Ib({factory:function(){return new t(r.Wb(wP))},token:t,providedIn:"root"}),t})();function JB(t){return{link:t.create({uri:"https://axieinfinity.com/graphql-server-v2/graphql"}),cache:new UB.a}}let ZB=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[{provide:tP,useFactory:JB,deps:[XB]}]}),t})(),tU=(()=>{class t{constructor(){this.cacheMap=new Map}get(t){const e=this.cacheMap.get(t.urlWithParams);return e?Date.now()-e.entryTime>2e4?null:e.response:null}put(t,e){const n={url:t.urlWithParams,response:e,entryTime:Date.now()};this.cacheMap.set(t.urlWithParams,n),this.deleteExpiredCache()}deleteExpiredCache(){this.cacheMap.forEach(t=>{Date.now()-t.entryTime>2e4&&this.cacheMap.delete(t.url)})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const eU=["lunacia.skymavis.com","api.coingecko.com"];let nU=(()=>{class t{constructor(t){this.cache=t}intercept(t,e){if(!this.isRequestCachable(t))return e.handle(t);const n=this.cache.get(t);return null!==n?Object(Mt.a)(n):e.handle(t).pipe(Object(Te.a)(e=>{e instanceof vP&&this.cache.put(t,e)}))}isRequestCachable(t){for(const e of eU)if(t.url.includes(e))return!0;return!1}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(tU))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),rU=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[Ck,Nk],Nk]}),t})();const iU={cookie:{domain:window.location.hostname},palette:{popup:{background:"#000"},button:{background:"#f1d600"}},theme:"edgeless",type:"opt-out",layout:"my-custom-layout",layouts:{"my-custom-layout":"{{messagelink}}{{compliance}}"},elements:{messagelink:'\n    <span id="cookieconsent:desc" class="cc-message">{{message}}\n      <a aria-label="learn more about our privacy policy" tabindex="1" class="cc-link" href="{{privacyPolicyHref}}" >{{privacyPolicyLink}}</a> and our\n      <a aria-label="learn more about our terms of service" tabindex="2" class="cc-link" href="{{tosHref}}">{{tosLink}}</a>\n    </span>\n    '},content:{message:"By using our site, you acknowledge that you have read and understand our ",privacyPolicyLink:"Privacy Policy",privacyPolicyHref:"#/privacy",tosLink:"Terms of Conditions",tosHref:"#/terms"}};let oU=(()=>{class t{}return t.\u0275mod=r.Kb({type:t,bootstrap:[VB]}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[cx,FP,bN,tU,{provide:Cache,useClass:tU},{provide:CP,useClass:nU,multi:!0}],imports:[[kC.a.initializeApp(i),bV.forRoot(iU),HC,sx,Nt,dV,MP,jE,IL,lR,ED,gD,CM,MB,Bj,kT,zL,BB,pN,vT,mj,dF,cM,rU,BA,UA,IB,ZB,Sj,QD]]}),t})();Object(r.U)(),Dt().bootstrapModule(oU).catch(t=>console.error(t))},zf2e:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r="function"==typeof WeakMap&&!("object"==typeof navigator&&"ReactNative"===navigator.product)},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);